import{a as i}from"../../chunks/3P4XYG74.js";import"../../chunks/DQJX4ERA.js";import{a as c}from"../../chunks/RBCVDQ72.js";import"../../chunks/B5IQJ4CT.js";import"../../chunks/4VUWARP7.js";import"../../chunks/J63ZRIPB.js";import"../../chunks/MAPXS3RR.js";import"../../chunks/7BDZPPQH.js";import"../../chunks/IOVDQST2.js";import"../../chunks/JK5JXJMM.js";import"../../chunks/PSTOF4IU.js";import"../../chunks/VT4ATK36.js";import"../../chunks/6DSWP2JT.js";import"../../chunks/N5EAU2XY.js";import"../../chunks/454JMIH7.js";import"../../chunks/MS4OBPZZ.js";import"../../chunks/RFIQSMEX.js";import"../../chunks/X7IGDKSO.js";import"../../chunks/JX4MH7BP.js";import"../../chunks/IKVWN3LL.js";import"../../chunks/HPHM72CW.js";import"../../chunks/ABK4JG3U.js";import"../../chunks/27O46L5C.js";import{a as r}from"../../chunks/NVNEBEEL.js";import"../../chunks/DIGZHHNW.js";import"../../chunks/Y34OKDQ4.js";import"../../chunks/3JI2HIGL.js";import{m as a}from"../../chunks/F5AXRJSB.js";import"../../chunks/27G4S2R3.js";import"../../chunks/JDSHOLU5.js";import"../../chunks/HFEXSQX6.js";import"../../chunks/QS33EOHT.js";import"../../chunks/3M3IYJ36.js";import"../../chunks/DKMNSB2V.js";import"../../chunks/WINLMBYH.js";import"../../chunks/HKBWT4XT.js";import{J as s,c as n}from"../../chunks/NO5PF2KS.js";import"../../chunks/UB52WFCV.js";import"../../chunks/4B6UFNBQ.js";import"../../chunks/PJ57C2TE.js";import"../../chunks/GAV6HCJA.js";var m=async()=>{if(n.includes(s()))try{let t=window.localStorage.getItem(a),e=window.localStorage.getItem("MAXAI_CLIENT__FEATURES__USER__CLIENT_USER_ID");if(t&&e){let o=JSON.parse(t),T=o.accessToken,_=o.refreshToken,y=o.userId,d=JSON.parse(e).toString(),I=await i({accessToken:T,refreshToken:_,userId:y,clientUserId:d})}}catch{}},l=new URLSearchParams(window.location.search),p=l.get("login_token");p||m();var u=location.pathname,f=new MutationObserver(function(t){t.forEach(function(e){u!==location.pathname&&(u=location.pathname,m())})});f.observe(document.querySelector("body"),{attributes:!0,childList:!0,subtree:!0});window.addEventListener("message",function(t){if(t.source==window){if(t.data.type&&t.data.type=="MAXAI_UPDATE_SURVEY_STATUS"){let e=t.data?.data?.surveyType;e&&c(!0,[e])}t.data.type&&t.data.type=="MAXAI_CREATE_PAYMENT_URL"&&new r().postMessage({event:"Client_createPaymentUrl",data:t.data.data})}});
