import{a as qr,b as Wr}from"./GFBSDQGY.js";import{I as Rr,N as Fr,R as Ft,S as Ht,X as Hr,Y as Ut,Z as Ur,g as Dt,h as Rt,w as $a}from"./336Q5MDV.js";import"./KNHMBNA7.js";import"./SGC75SOE.js";import{a as Ar,b as G,d as Or,e as Dr}from"./GLUVJUTU.js";import{p as Lr}from"./WSOUGDJD.js";import"./IEC6JE54.js";import{Lb as Bt,Mb as Mt,wa as Nr}from"./DP6NKKZS.js";import"./2WYRGMZA.js";import"./EVCDN77N.js";import"./VM6AHHKV.js";import"./JAJUIZ4Q.js";import"./2Z5YDK5O.js";import{f as Ya,n as za,q as ft}from"./PRI4DNE5.js";import"./74EYRKBC.js";import"./LIH4LVLA.js";import"./ZRYDJGAJ.js";import"./UAB7UEHC.js";import"./XHCCXCYD.js";import"./TIMUG6T2.js";import"./SUSBQMNS.js";import"./3T6N3UXS.js";import{p as Ae}from"./KSVMQXXA.js";import{c as Cr}from"./2BN67YOS.js";import{d as Nt}from"./F5E7GPVZ.js";import"./3MCB6OT2.js";import"./72XNZIFC.js";import"./FAXKEQHZ.js";import{b as gt}from"./4JH5L7TP.js";import"./IR2EOPWG.js";import"./YYNJ5ORL.js";import"./BTVCBEO2.js";import{a as Pr}from"./QPGJKNBT.js";import{a as kr}from"./NRYYY66K.js";import"./TJJA7WJ7.js";import"./BGNVWJOE.js";import{a as nt}from"./O3PGOLSM.js";import"./WZACKIKL.js";import{d as Er}from"./QDA27QWI.js";import"./4ZAQU4SR.js";import"./GEQQUCT3.js";import"./RVPFLFJI.js";import"./BJ6OZ2RR.js";import"./LU2HGRXL.js";import{a as $}from"./QAN7YQ5O.js";import"./7ETG7F5K.js";import{d as Me,g as br}from"./K3RX6V6Z.js";import{a as qa}from"./QPKKGBHL.js";import{G as re,i as dr,j as gr}from"./WOMY7LQF.js";import{u as mr,v as pr}from"./DXFQZN2P.js";import"./4L3TOTPW.js";import{i as _r}from"./K5PYBOWW.js";import"./NVWM5Y2A.js";import"./JIAFCUZI.js";import"./APRT2ZHQ.js";import"./W4INSQR4.js";import{e as hr,f as Tr}from"./KOAEEWKV.js";import{C as dt,H as cr,X as fr,r as ur}from"./DXJBONGG.js";import"./NW2F2GVH.js";import"./CBDTKGC6.js";import"./6IAOONHC.js";import"./XCJRDUIT.js";import{e as et}from"./Y2RTU6FS.js";import"./IE6X6P55.js";import"./HLAVUWHF.js";import"./F3AKZR3O.js";import{c as q}from"./BJ6PO45I.js";import"./Y6DWXSB3.js";import{b as Ua}from"./HFXK7G4X.js";import{E as Ie,a as Ce,b as sr,c as Ee,d as lr,h as Ha,la as Pt,na as x}from"./URK6S63I.js";import"./GJU7DMEZ.js";import{a as Fa,d as ar}from"./PCHDBHHN.js";import"./B5IQJ4CT.js";import"./4VUWARP7.js";import{a as Br}from"./J63ZRIPB.js";import{i as Yr,m as ht}from"./T3X6HKSZ.js";import"./3RZ46UQL.js";import{a as Pe}from"./ZES4ZAHH.js";import{b as Oe}from"./7BDZPPQH.js";import"./IOVDQST2.js";import"./JK5JXJMM.js";import"./PSTOF4IU.js";import{d as Sr}from"./VT4ATK36.js";import{J as Le}from"./6DSWP2JT.js";import"./N5EAU2XY.js";import{c as X,e as wr}from"./454JMIH7.js";import"./MS4OBPZZ.js";import"./RFIQSMEX.js";import"./X7IGDKSO.js";import"./JX4MH7BP.js";import"./IKVWN3LL.js";import{a as vr}from"./HPHM72CW.js";import"./ABK4JG3U.js";import{a as Ot}from"./27O46L5C.js";import{a as Ir,c as Mr,g as we,i as cn}from"./NVNEBEEL.js";import"./DIGZHHNW.js";import"./Y34OKDQ4.js";import"./3JI2HIGL.js";import{G as yr,M as R,g as kt,s as un}from"./F5AXRJSB.js";import"./27G4S2R3.js";import{H as xr,O as Wa,e as ve,z as It}from"./JDSHOLU5.js";import{c as ir}from"./HFEXSQX6.js";import"./QS33EOHT.js";import{L as tt,q as or}from"./3M3IYJ36.js";import{b as xe}from"./DKMNSB2V.js";import{A as Et,E as te,F as ee,G as ne,I as rr,M as b,k as be}from"./WINLMBYH.js";import{x as Se}from"./HKBWT4XT.js";import{J as tr,P as er,c as Qt,m as Jt,t as Zt,wb as ye}from"./NO5PF2KS.js";import"./UB52WFCV.js";import{a as _}from"./4B6UFNBQ.js";import{a as nr}from"./PJ57C2TE.js";import{c as it,f}from"./GAV6HCJA.js";var ae=it(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.dontSetMe=Qa;vt.findInArray=Ga;vt.int=ja;vt.isFunction=Va;vt.isNum=Ka;function Ga(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function Va(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Ka(e){return typeof e=="number"&&!isNaN(e)}function ja(e){return parseInt(e,10)}function Qa(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}});var Gr=it(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.browserPrefixToKey=Xr;At.browserPrefixToStyle=Ja;At.default=void 0;At.getPrefix=$r;var mn=["Moz","Webkit","O","ms"];function $r(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";let n=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!n||t in n)return"";for(let r=0;r<mn.length;r++)if(Xr(t,mn[r])in n)return mn[r];return""}function Xr(e,t){return t?"".concat(t).concat(Za(e)):e}function Ja(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function Za(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}var js=At.default=$r()});var Ne=it(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.addClassName=Qr;I.addEvent=ni;I.addUserSelectStyles=di;I.createCSSTransform=ui;I.createSVGTransform=ci;I.getTouch=mi;I.getTouchIdentifier=pi;I.getTranslation=pn;I.innerHeight=ii;I.innerWidth=si;I.matchesSelector=jr;I.matchesSelectorAndParentsTo=ei;I.offsetXYFromParent=li;I.outerHeight=oi;I.outerWidth=ai;I.removeClassName=Jr;I.removeEvent=ri;I.removeUserSelectStyles=gi;var W=ae(),Vr=ti(Gr());function Kr(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Kr=function(r){return r?n:t})(e)}function ti(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Kr(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var ke="";function jr(e,t){return ke||(ke=(0,W.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,W.isFunction)(e[n])})),(0,W.isFunction)(e[ke])?e[ke](t):!1}function ei(e,t,n){let r=e;do{if(jr(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function ni(e,t,n,r){if(!e)return;let o={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function ri(e,t,n,r){if(!e)return;let o={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function oi(e){let t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,W.int)(n.borderTopWidth),t+=(0,W.int)(n.borderBottomWidth),t}function ai(e){let t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,W.int)(n.borderLeftWidth),t+=(0,W.int)(n.borderRightWidth),t}function ii(e){let t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,W.int)(n.paddingTop),t-=(0,W.int)(n.paddingBottom),t}function si(e){let t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,W.int)(n.paddingLeft),t-=(0,W.int)(n.paddingRight),t}function li(e,t,n){let o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-o.left)/n,i=(e.clientY+t.scrollTop-o.top)/n;return{x:a,y:i}}function ui(e,t){let n=pn(e,t,"px");return{[(0,Vr.browserPrefixToKey)("transform",Vr.default)]:n}}function ci(e,t){return pn(e,t,"")}function pn(e,t,n){let{x:r,y:o}=e,a="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){let i="".concat(typeof t.x=="string"?t.x:t.x+n),s="".concat(typeof t.y=="string"?t.y:t.y+n);a="translate(".concat(i,", ").concat(s,")")+a}return a}function mi(e,t){return e.targetTouches&&(0,W.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,W.findInArray)(e.changedTouches,n=>t===n.identifier)}function pi(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function di(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Qr(e.body,"react-draggable-transparent-selection")}function gi(e){if(e)try{if(e.body&&Jr(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{let t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Qr(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function Jr(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}});var gn=it(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.canDragX=Ti;st.canDragY=_i;st.createCoreData=xi;st.createDraggableData=yi;st.getBoundPosition=fi;st.getControlPosition=bi;st.snapToGrid=hi;var Y=ae(),qt=Ne();function fi(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:Si(r);let o=dn(e);if(typeof r=="string"){let{ownerDocument:a}=o,i=a.defaultView,s;if(r==="parent"?s=o.parentNode:s=a.querySelector(r),!(s instanceof i.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');let l=s,u=i.getComputedStyle(o),c=i.getComputedStyle(l);r={left:-o.offsetLeft+(0,Y.int)(c.paddingLeft)+(0,Y.int)(u.marginLeft),top:-o.offsetTop+(0,Y.int)(c.paddingTop)+(0,Y.int)(u.marginTop),right:(0,qt.innerWidth)(l)-(0,qt.outerWidth)(o)-o.offsetLeft+(0,Y.int)(c.paddingRight)-(0,Y.int)(u.marginRight),bottom:(0,qt.innerHeight)(l)-(0,qt.outerHeight)(o)-o.offsetTop+(0,Y.int)(c.paddingBottom)-(0,Y.int)(u.marginBottom)}}return(0,Y.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,Y.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Y.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,Y.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function hi(e,t,n){let r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]}function Ti(e){return e.props.axis==="both"||e.props.axis==="x"}function _i(e){return e.props.axis==="both"||e.props.axis==="y"}function bi(e,t,n){let r=typeof t=="number"?(0,qt.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;let o=dn(n),a=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,qt.offsetXYFromParent)(r||e,a,n.props.scale)}function xi(e,t,n){let r=!(0,Y.isNum)(e.lastX),o=dn(e);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function yi(e,t){let n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function Si(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function dn(e){let t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}});var hn=it(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.default=Ci;function Ci(){}});var to=it(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.default=void 0;var Tn=Ii(_()),F=bn(ar()),Ei=bn(ye()),v=Ne(),Tt=gn(),_n=ae(),ie=bn(hn());function bn(e){return e&&e.__esModule?e:{default:e}}function Zr(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Zr=function(r){return r?n:t})(e)}function Ii(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Zr(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function L(e,t,n){return t=Mi(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mi(e){var t=vi(e,"string");return typeof t=="symbol"?t:String(t)}function vi(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},_t=Q.mouse,Wt=class extends Tn.Component{constructor(){super(...arguments),L(this,"dragging",!1),L(this,"lastX",NaN),L(this,"lastY",NaN),L(this,"touchIdentifier",null),L(this,"mounted",!1),L(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;let n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");let{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,v.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,v.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&t.preventDefault();let o=(0,v.getTouchIdentifier)(t);this.touchIdentifier=o;let a=(0,Tt.getControlPosition)(t,o,this);if(a==null)return;let{x:i,y:s}=a,l=(0,Tt.createCoreData)(this,i,s);(0,ie.default)("DraggableCore: handleDragStart: %j",l),(0,ie.default)("calling",this.props.onStart),!(this.props.onStart(t,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,v.addUserSelectStyles)(r),this.dragging=!0,this.lastX=i,this.lastY=s,(0,v.addEvent)(r,_t.move,this.handleDrag),(0,v.addEvent)(r,_t.stop,this.handleDragStop))}),L(this,"handleDrag",t=>{let n=(0,Tt.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let s=r-this.lastX,l=o-this.lastY;if([s,l]=(0,Tt.snapToGrid)(this.props.grid,s,l),!s&&!l)return;r=this.lastX+s,o=this.lastY+l}let a=(0,Tt.createCoreData)(this,r,o);if((0,ie.default)("DraggableCore: handleDrag: %j",a),this.props.onDrag(t,a)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{let l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=o}),L(this,"handleDragStop",t=>{if(!this.dragging)return;let n=(0,Tt.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,u=o-this.lastY||0;[l,u]=(0,Tt.snapToGrid)(this.props.grid,l,u),r=this.lastX+l,o=this.lastY+u}let a=(0,Tt.createCoreData)(this,r,o);if(this.props.onStop(t,a)===!1||this.mounted===!1)return!1;let s=this.findDOMNode();s&&this.props.enableUserSelectHack&&(0,v.removeUserSelectStyles)(s.ownerDocument),(0,ie.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,s&&((0,ie.default)("DraggableCore: Removing handlers"),(0,v.removeEvent)(s.ownerDocument,_t.move,this.handleDrag),(0,v.removeEvent)(s.ownerDocument,_t.stop,this.handleDragStop))}),L(this,"onMouseDown",t=>(_t=Q.mouse,this.handleDragStart(t))),L(this,"onMouseUp",t=>(_t=Q.mouse,this.handleDragStop(t))),L(this,"onTouchStart",t=>(_t=Q.touch,this.handleDragStart(t))),L(this,"onTouchEnd",t=>(_t=Q.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;let t=this.findDOMNode();t&&(0,v.addEvent)(t,Q.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;let t=this.findDOMNode();if(t){let{ownerDocument:n}=t;(0,v.removeEvent)(n,Q.mouse.move,this.handleDrag),(0,v.removeEvent)(n,Q.touch.move,this.handleDrag),(0,v.removeEvent)(n,Q.mouse.stop,this.handleDragStop),(0,v.removeEvent)(n,Q.touch.stop,this.handleDragStop),(0,v.removeEvent)(t,Q.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,v.removeUserSelectStyles)(n)}}findDOMNode(){var t,n;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:Ei.default.findDOMNode(this)}render(){return Tn.cloneElement(Tn.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Be.default=Wt;L(Wt,"displayName","DraggableCore");L(Wt,"propTypes",{allowAnyClick:F.default.bool,children:F.default.node.isRequired,disabled:F.default.bool,enableUserSelectHack:F.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:F.default.arrayOf(F.default.number),handle:F.default.string,cancel:F.default.string,nodeRef:F.default.object,onStart:F.default.func,onDrag:F.default.func,onStop:F.default.func,onMouseDown:F.default.func,scale:F.default.number,className:_n.dontSetMe,style:_n.dontSetMe,transform:_n.dontSetMe});L(Wt,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})});var ro=it(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});Object.defineProperty(le,"DraggableCore",{enumerable:!0,get:function(){return Fe.default}});le.default=void 0;var De=Li(_()),C=se(ar()),Ai=se(ye()),wi=se(Wa()),eo=Ne(),Yt=gn(),xn=ae(),Fe=se(to()),Re=se(hn());function se(e){return e&&e.__esModule?e:{default:e}}function no(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(no=function(r){return r?n:t})(e)}function Li(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=no(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function yn(){return yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yn.apply(this,arguments)}function zt(e,t,n){return t=Pi(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pi(e){var t=Oi(e,"string");return typeof t=="symbol"?t:String(t)}function Oi(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $t=class extends De.Component{static getDerivedStateFromProps(t,n){let{position:r}=t,{prevPropsPosition:o}=n;return r&&(!o||r.x!==o.x||r.y!==o.y)?((0,Re.default)("Draggable: getDerivedStateFromProps %j",{position:r,prevPropsPosition:o}),{x:r.x,y:r.y,prevPropsPosition:{...r}}):null}constructor(t){super(t),zt(this,"onDragStart",(n,r)=>{if((0,Re.default)("Draggable: onDragStart: %j",r),this.props.onStart(n,(0,Yt.createDraggableData)(this,r))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),zt(this,"onDrag",(n,r)=>{if(!this.state.dragging)return!1;(0,Re.default)("Draggable: onDrag: %j",r);let o=(0,Yt.createDraggableData)(this,r),a={x:o.x,y:o.y,slackX:0,slackY:0};if(this.props.bounds){let{x:s,y:l}=a;a.x+=this.state.slackX,a.y+=this.state.slackY;let[u,c]=(0,Yt.getBoundPosition)(this,a.x,a.y);a.x=u,a.y=c,a.slackX=this.state.slackX+(s-a.x),a.slackY=this.state.slackY+(l-a.y),o.x=a.x,o.y=a.y,o.deltaX=a.x-this.state.x,o.deltaY=a.y-this.state.y}if(this.props.onDrag(n,o)===!1)return!1;this.setState(a)}),zt(this,"onDragStop",(n,r)=>{if(!this.state.dragging||this.props.onStop(n,(0,Yt.createDraggableData)(this,r))===!1)return!1;(0,Re.default)("Draggable: onDragStop: %j",r);let a={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){let{x:s,y:l}=this.props.position;a.x=s,a.y=l}this.setState(a)}),this.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:{...t.position},slackX:0,slackY:0,isElementSVG:!1},t.position&&(t.onDrag||t.onStop)}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var t,n;return(t=(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current)!==null&&t!==void 0?t:Ai.default.findDOMNode(this)}render(){let{axis:t,bounds:n,children:r,defaultPosition:o,defaultClassName:a,defaultClassNameDragging:i,defaultClassNameDragged:s,position:l,positionOffset:u,scale:c,...m}=this.props,g={},p=null,T=!!!l||this.state.dragging,E=l||o,N={x:(0,Yt.canDragX)(this)&&T?this.state.x:E.x,y:(0,Yt.canDragY)(this)&&T?this.state.y:E.y};this.state.isElementSVG?p=(0,eo.createSVGTransform)(N,u):g=(0,eo.createCSSTransform)(N,u);let M=(0,wi.default)(r.props.className||"",a,{[i]:this.state.dragging,[s]:this.state.dragged});return De.createElement(Fe.default,yn({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),De.cloneElement(De.Children.only(r),{className:M,style:{...r.props.style,...g},transform:p}))}};le.default=$t;zt($t,"displayName","Draggable");zt($t,"propTypes",{...Fe.default.propTypes,axis:C.default.oneOf(["both","x","y","none"]),bounds:C.default.oneOfType([C.default.shape({left:C.default.number,right:C.default.number,top:C.default.number,bottom:C.default.number}),C.default.string,C.default.oneOf([!1])]),defaultClassName:C.default.string,defaultClassNameDragging:C.default.string,defaultClassNameDragged:C.default.string,defaultPosition:C.default.shape({x:C.default.number,y:C.default.number}),positionOffset:C.default.shape({x:C.default.oneOfType([C.default.number,C.default.string]),y:C.default.oneOfType([C.default.number,C.default.string])}),position:C.default.shape({x:C.default.number,y:C.default.number}),className:xn.dontSetMe,style:xn.dontSetMe,transform:xn.dontSetMe});zt($t,"defaultProps",{...Fe.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})});var ao=it((rl,He)=>{"use strict";var{default:oo,DraggableCore:ki}=ro();He.exports=oo;He.exports.default=oo;He.exports.DraggableCore=ki});var Qo=it(Ve=>{"use strict";"use client";var as=Fa();Object.defineProperty(Ve,"__esModule",{value:!0});Ve.default=void 0;var is=as(qa()),ss=Ha(),Dc=Ve.default=(0,is.default)((0,ss.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward")});var k=f(_());var rt=f(_());var oe={sceneType:"QUICK_ACCESS_CTA_BUTTON",id:"ONBOARDING_TOOLTIP__QUICK_ACCESS_CTA_BUTTON",anchorElementSelectors:'[data-testid="quick-access-maxai-mini-button-main"]',CtaButtonClickedName:"Onboarding > QuickAccessCTAButton > Got it"},Xa=e=>{let{showStateTrigger:t,...n}=e,{t:r}=b(),{chatBoxShortCutKey:o}=Pe(),[a,i]=(0,rt.useState)(!1);(0,rt.useEffect)(()=>{t?Ft(oe.sceneType).then(l=>{l||Ht(oe.sceneType).then(()=>{i(!0)})}):i(!1)},[t]);let s={bgcolor:l=>l.palette.mode==="dark"?"rgba(255, 255, 255, 0.16) !important":"rgba(0, 0, 0, 0.08) !important",color:l=>l.palette.mode==="dark"?"rgba(255, 255, 255, 0.7) !important":"rgba(0, 0, 0, 0.7) !important"};return rt.default.createElement(Rt,{autoCloseOnMouseDownAndUp:!0,hideBackdrop:!0,sx:{visibility:"hidden"},placement:"left",fallbackPlacements:["right"],trigger:a,anchorElementSelectors:oe.anchorElementSelectors,CtaButtonProps:{"data-button-clicked-name":oe.CtaButtonClickedName},popoverBoxSx:{minWidth:"180px"},id:oe.id,footerLeft:rt.default.createElement(Ut,null),...n},rt.default.createElement(x,{spacing:.5},rt.default.createElement(Pt,{fontSize:14,lineHeight:1.4,color:"text.primary",fontWeight:400,textAlign:"left"},r("onboarding:onboarding_tooltip__QUICK_ACCESS_CTA_BUTTON__text")),o&&rt.default.createElement(Me,{sx:s},o)))},zr=Xa;var h=f(_()),_a=f(ao());var ot=f(_());var Lo=f(nr());var Lt=f(_());function io(e){return/^\d+$/.test(e)}function so(e){return/^[.,/#!$%^&*;:{}=\-_`~()\s]+$/.test(e)}function lo(e){return/^[\d.,/#!$%^&*;:{}=\-_`~()\s]+$/.test(e)}function uo(e){let t=window.getComputedStyle(e);return t.display==="none"||t.visibility==="hidden"||t.opacity==="0"}function co(e){return!!(e.textContent?.trim()??"")}function mo(e){return e.replace(/</g,"%3C").replace(/>/g,"%3E")}var po={fromLanguageCode:"",toLanguageCode:"en",needToTranslateRootContentSelectors:["body"],validElementTags:["p","h1","h2","h3","h4","h5","h6","a","span","div","li","td","th","button","label","strong","em","small"],invalidElementTags:["script","style","noscript","iframe","svg","canvas","video","audio","img","br","hr","input","select","textarea","pre","code","aside"],directElementTags:["p","h1","h2","h3","h4","h5","h6"],skipProcessComplexElementsChildElementTags:["svg","path"],minTextLength:3,maxTextLength:5e3,makeTranslatedTextMarginLeftAutoInOnlyTextNodeAndSvgNode:!0,disableCache:!1,skipElementSelectors:[]};var go={"nextjs.org":{"invalidElementTags.add":["header"]},"github.com":{"invalidElementTags.remove":["aside"],"skipElementSelectors.add":['aside[aria-label="Account"]',"header.AppHeader","footer",'div[data-testid="issue-viewer-metadata-container"]']},"stackoverflow.com":{needToTranslateRootContentSelectors:['div[id="content"]'],"skipElementSelectors.add":[".s-post-summary--meta"]},"mui.com":{"directElementTags.remove":["h1","h2","h3","h4","h5","h6"]}};var fo=(e,t)=>{let n=Se(e),r=Object.keys(t);for(let o=0;o<r.length;o++){let a=r[o],i=t[a];if(i==null)continue;let s=a,l="cover";if(a.includes(".")){let c=a.split(".");s=c[0],l=c[1]}let u=n[s];if(Array.isArray(u)&&Array.isArray(i))switch(l){case"add":n[s]=[...new Set([...u,...i])];break;case"remove":n[s]=u.filter(c=>!i.includes(c));break;case"cover":n[s]=[...i];break}else a.includes(".")||(n[a]=i)}return n};var Sn=class{constructor(){this.coverTranslatorRules={}}async getFromAndToLanguageCode(){let{fromLanguageCode:t,toLanguageCode:n}=await this.getTranslationRules(),r=ht(n);return{from:ht(t),to:r}}updateTranslatorRules(t){this.coverTranslatorRules={...this.coverTranslatorRules,...t}}getTranslationRules(){let t=tr(),n=go[t]??{};return fo({...po,...this.coverTranslatorRules},n)}checkIsValidContent(t,n){let r=n??this.getTranslationRules(),o=t.trim()??"";return o.length>=r.minTextLength&&o.length<=r.maxTextLength&&!io(o)&&!so(o)&&!lo(o)}isDirectTranslatableElement(t,n){let r=n??this.getTranslationRules(),o=t.tagName.toLowerCase();return r.directElementTags.includes(o)&&r.validElementTags.includes(o)}},Ni=new Sn,S=Ni;var Cn=class{markerAttributes(t,n,r){try{return t&&t.setAttribute?(t.setAttribute(n,r),!0):!1}catch{return!1}}getMarkerValue(t,n){try{return t&&t.getAttribute?t.getAttribute(n):null}catch{return null}}removeMarker(t,n){try{return t&&t.removeAttribute?(t.removeAttribute(n),!0):!1}catch{return!1}}},Bi=new Cn,Xt=Bi;function In(e,t,n){try{let r=window.location.origin+window.location.pathname,o=En(r),a=Di(e),i=En(`${t}+${n}`);return`${o}_${i}_${a}`}catch{return null}}function En(e){let t=0;if(e.length===0)return t.toString(36);for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t=(t<<5)-t+r,t=t&t}return Math.abs(t).toString(36)}function Di(e){if(!e)return"";let t=Ri(e);return En(`xpath:${t}`)}function Ri(e){if(!e)return"";if(e===document.body)return"/html/body";let t="",n=e;for(;n&&n!==document.documentElement;){let r=0,o=!1;for(let s=n.previousElementSibling;s;s=s.previousElementSibling)s.nodeName===n.nodeName&&(r++,o=!0);let a=n.nodeName.toLowerCase(),i=o?`[${r+1}]`:"";t=`/${a}${i}${t}`,n=n.parentElement}return`/html${t}`}var Mn=class{constructor(){this.cacheService=new un({saveKey:"MAXAI__FEATURES__PAGE_TRANSLATOR__ELEMENT_TRANSLATED",cacheTime:un.HOURLY});this.pendingUpdates={};this.debounceTimer=null;this.debounceDelay=100}async updateCache(t,n){if((await S.getTranslationRules()).disableCache)return;let{from:o,to:a}=await S.getFromAndToLanguageCode(),i=In(t,o,a);i&&(this.pendingUpdates[i]={...n,fromLanguageCode:o,toLanguageCode:a},this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.flushPendingUpdates()},this.debounceDelay))}async flushPendingUpdates(){if(Object.keys(this.pendingUpdates).length===0)return;let t=await this.cacheService.get(),r={...t.expired?{}:t.data,...this.pendingUpdates};await this.cacheService.sync(r),this.pendingUpdates={}}async getCacheByElement(t){if((await S.getTranslationRules()).disableCache)return{cacheData:null,cacheKey:null};let{from:r,to:o}=await S.getFromAndToLanguageCode(),a=In(t,r,o),i=await this.cacheService.get();return i.expired&&this.cacheService.clear(),!i.expired&&a&&i.data&&i.data[a]?{cacheData:i.data[a],cacheKey:a}:{cacheData:null,cacheKey:null}}},Fi=new Mn,Ue=Fi;var V=(e,...t)=>{},ho=(e,...t)=>{};var An=f(nr());var qe="MAXAI__PAGE_TRANSLATOR__ACCESS_TOKEN_STORAGE_KEY";var vn="Access token is not available";var To=async e=>{await An.default.storage.local.set({[qe]:e})},We=async()=>(await An.default.storage.local.get(qe))[qe]??null;var _o=async(e,t,n,r)=>{try{let o=r??await We(),a=await or(Oe(`https://api-edge.cognitive.microsofttranslator.com/translate?from=${e}&to=${t}&api-version=3.0&includeSentenceLength=true`,{parse:"json",method:"POST",body:JSON.stringify(n.map(s=>({Text:s}))),headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}}),2e4,null),i=a?.responseRaw;if(i?.status===401)return{success:!1,statusCode:401,data:null,error:"Access token expired"};if(a&&a.data&&i?.ok===!0&&i?.status===200){let s=a.data.map(l=>l.translations[0].text);return s.length===n.length?{success:!0,data:s}:{success:!1,data:s,error:"Response and request item count mismatch"}}else return{success:!1,data:null,error:`Translation API error: ${i?.status}`}}catch(o){return{success:!1,data:null,error:o?.message??"Page translator error"}}};var wn=class{constructor(){this.accessToken=null;this.translating=!1;this.tokenFetching=!1;this.translateTasks=[];this.timer=null;this.checkInterval=5e3;this.idleThreshold=3e3;this.getCacheToken().then(t=>{this.accessToken=t}),this.startTaskScheduler()}addTask(t){let n=Array.isArray(t)?t:[t];this.translateTasks.push(...n),this.checkAndProcessTasks()}startTaskScheduler(){this.timer!==null&&window.clearInterval(this.timer),this.timer=window.setInterval(()=>{this.checkAndProcessTasks()},this.checkInterval)}stopTaskScheduler(){this.timer!==null&&(window.clearInterval(this.timer),this.timer=null)}checkAndProcessTasks(){this.translateTasks.length===0||this.translating||("requestIdleCallback"in window?window.requestIdleCallback(()=>this.processNextBatch(),{timeout:this.idleThreshold}):setTimeout(()=>this.processNextBatch(),0))}async processNextBatch(){if(!(this.translateTasks.length===0||this.translating))try{this.translating=!0;let t=30,n=this.translateTasks.splice(0,t),r=await this.translate(n);!r.success&&r.data.length>0&&r.error!==vn&&setTimeout(()=>{this.translateTasks.push(...r.data.filter(o=>!o.isTranslated))},3e3)}catch(t){V("\u5904\u7406\u7FFB\u8BD1\u6279\u6B21\u65F6\u51FA\u9519:",t)}finally{this.translating=!1,this.translateTasks.length>0&&this.checkAndProcessTasks()}}async translate(t,n=!0){if(t.length===0)return{success:!0,data:[]};try{if(this.accessToken||await this.fetchAccessToken(),!this.accessToken)return{success:!1,data:t,error:vn};if(t.length>30){let l=[];for(let m=0;m<t.length;m+=30){let g=t.slice(m,m+30),p=await this.translate(g,n);l.push(p)}let u=l.every(m=>m.success),c=l.flatMap(m=>m.data);return{success:u,data:c,error:l.find(m=>!m.success)?.error}}let r=t.filter(l=>!!l.waitToTranslateText),o=r.map(l=>l.waitToTranslateText);if(o.length===0)return{success:!0,data:t};r.forEach(l=>l.updateStatus("fetching"));let{from:a,to:i}=await S.getFromAndToLanguageCode(),s=await _o(a,i,o,this.accessToken);if(s.statusCode===401&&n)return await this.fetchAccessToken(),this.translate(t,!1);if(s&&s.data&&s?.success===!0){let l=s.data;if(l.length===o.length){for(let u=0;u<l.length;u++){let c=r[u],m=l[u];m?(c.updateTranslatedText(m),await c.updateStatus("success")):c.updateStatus("error")}return{success:!0,data:t}}else return t.forEach(u=>u.updateStatus("error")),{success:!1,data:t,error:`Translation API error: ${s?.statusCode??s.error}`}}else return t.forEach(l=>l.updateStatus("error")),{success:!1,data:t,error:`Translation API error: ${s?.statusCode??s.error}`}}catch(r){return V("catch error:",r),t.forEach(o=>o.updateStatus("error")),{success:!1,data:t,error:r?.message??"Page translator error"}}}async setCacheToken(t){await To(t)}async getCacheToken(){return await We()}async fetchAccessToken(){try{if(this.tokenFetching)return;this.tokenFetching=!0;let t=await Oe("https://edge.microsoft.com/translate/auth",{method:"GET",parse:"text"});if(t?.responseRaw?.ok===!0&&t.responseRaw?.status===200){let n=t.data||"";this.accessToken=n,await this.setCacheToken(n)}}catch{}finally{this.tokenFetching=!1}}clearTasks(){this.translateTasks=[]}},Hi=new wn,bo=Hi;var xo="maxai--page-translator-styles",H="maxai--page-translator";var Gt="data-maxai-translate-id",ze="MAXAI__RETRY_TRANSLATOR_EVENT";function yo(e,t){let n=e.cloneNode(!0);t.skipProcessComplexElementsChildElementTags.forEach(l=>{n.querySelectorAll(l).forEach(c=>c.remove())}),n.querySelectorAll("*").forEach(l=>{co(l)||l.remove()});let o={},a=0;function i(l){if(l.nodeType===Node.TEXT_NODE)return l.textContent?mo(l.textContent):"";if(l.nodeType===Node.ELEMENT_NODE){let u=l,c=u.tagName.toLowerCase(),m="";for(let T=0;T<u.childNodes.length;T++)m+=i(u.childNodes[T]);let g=`<c${a}>`,p=`</c${a}>`;a++;let d=Array.from(u.attributes).reduce((T,E)=>{let N=E.name,M=E.value;return N&&M&&(T[N]=M),T},{});return o[g]={tag:c,attributes:d,content:m,originalMatch:u.outerHTML},g+m+p}return""}let s="";for(let l=0;l<n.childNodes.length;l++)s+=i(n.childNodes[l]);return s=s.trim(),{processedText:s,tagMapping:o,tagCount:a}}function So(e,t,n={}){if(!t)return null;let o=new DOMParser().parseFromString(`<div id="container">${t}</div>`,"text/html"),a=o.getElementById("container");function i(s){if(s.nodeType===Node.TEXT_NODE){if(s.textContent){let l=s.textContent;try{l=decodeURIComponent(s.textContent)}catch{}finally{s.textContent=l}}}else if(s.nodeType===Node.ELEMENT_NODE){if(s.tagName.toLowerCase().startsWith("c")&&/^c\d+$/.test(s.tagName.toLowerCase())){let u=`<c${s.tagName.substring(1)}>`,c=n[u];if(c){Array.from(s.childNodes).forEach(g=>{i(g)});let m=o.createElement(c.tag);for(c.attributes&&Object.entries(c.attributes).forEach(([g,p])=>{m.setAttribute(g,p)});s.firstChild;)m.appendChild(s.firstChild);s.parentNode?.replaceChild(m,s);return}}Array.from(s.childNodes).forEach(l=>i(l))}}return a&&i(a),a?.innerHTML||""}function $e(e,t,n){let r=t.replace(/<[^>]+>/g,"").trim(),o=n?.replace(/<[^>]+>/g,"").trim()??"",a=e.innerText?.includes(`
`)||r.length>150||o.length>150||e.offsetWidth>500||/^(div|p|section|article|main|header|footer)$/i.test(e.tagName)||Wi(e.firstChild);return!!(r.length<25||/^(strong|em|b|i|label|button)$/i.test(e.tagName))}function Ui(e){let n=Array.from(e.childNodes).filter(r=>r.nodeType!==Node.COMMENT_NODE).filter(r=>r.nodeType===Node.TEXT_NODE&&r.textContent?.trim()!=="");return n.length===1&&n[0].textContent?.trim()!==""}function ue(e,t,n){n&&qi(e,t,n),Ui(e)&&Yr(e).length===1&&e.firstChild&&e.firstChild?.nodeType===Node.TEXT_NODE?e.insertBefore(t,e.firstChild.nextSibling):e.appendChild(t)}function qi(e,t,n){if(n.makeTranslatedTextMarginLeftAutoInOnlyTextNodeAndSvgNode){let r=Array.from(e.childNodes).filter(i=>i.nodeType!==Node.COMMENT_NODE&&(i.nodeType!==Node.TEXT_NODE||i.textContent?.trim()!=="")),o=r.find(i=>i.nodeType===Node.TEXT_NODE),a=r.find(i=>i.nodeName==="svg");e.offsetWidth>200&&r.length===2&&o&&a&&t.style.setProperty("margin-left","auto","important")}}function Wi(e){let t=e.textContent;if(!t||!t.trim())return!1;let n=e.parentNode;if(!n)return!1;let r=window.getComputedStyle(n);if(r.display==="none"||r.visibility==="hidden")return!1;let o=document.createRange(),a=document.createRange();try{o.setStart(e,0),o.setEnd(e,1);let i=e.length;a.setStart(e,i-1),a.setEnd(e,i);let s=o.getBoundingClientRect(),l=a.getBoundingClientRect();return Math.abs(s.y-l.y)>2}catch{return!1}finally{o.detach(),a.detach()}}var Ln=class{constructor(t,n){this.enabled=!0;this.waitToTranslateText=null;this.translatedText=null;this.tagMapping={};this.tagMappingCount=0;this.insertedContainerElement=null;this.isInserted=!1;this.error=null;this.isTranslated=!1;this.status="idle";this.hasCache=!1;this.observer=null;this.onStatusChange=null;this.paragraphElement=t,this.id=be(),this.onStatusChange=n,Ue.getCacheByElement(this.paragraphElement).then(({cacheData:r,cacheKey:o})=>{r?(this.id=r.id,this.waitToTranslateText=r.waitToTranslateText,this.tagMapping=r.tagMapping,this.tagMappingCount=r.tagMappingCount,this.updateTranslatedText(r.translatedText),this.hasCache=!0):(this.hasCache=!1,this.generateWaitToTranslateText()),this.setupObserver(),Xt.markerAttributes(this.paragraphElement,Gt,this.id)})}setupObserver(){this.observer?this.startObserver():(this.observer=new IntersectionObserver(this.handleIntersection.bind(this),{rootMargin:"100px",threshold:.1}),this.observer.observe(this.paragraphElement))}async handleIntersection(t){t[0].isIntersecting&&(this.hasCache?await this.updateStatus("success"):this.doTranslate())}generateWaitToTranslateText(){let t=S.getTranslationRules(),{processedText:n,tagMapping:r,tagCount:o}=yo(this.paragraphElement,t);this.waitToTranslateText=n,this.tagMapping=r,this.tagMappingCount=o}async doTranslate(){try{this.isTranslated=!0;let t=this.paragraphElement.textContent?.trim();this.waitToTranslateText||this.generateWaitToTranslateText(),t&&S.checkIsValidContent(t)&&bo.addTask(this)}catch(t){V(`Translation error for element ${this.id}:`,t),this.isTranslated=!1}}updateTranslatedText(t){this.translatedText=t,this.isTranslated=!0}async updateStatus(t){this.status=t,t==="fetching"&&this.renderTranslateLoadingHtml(),t==="success"&&(this.renderTranslatedHtml(),this.stopObserver(),this.hasCache=!0,this.waitToTranslateText&&this.translatedText&&await Ue.updateCache(this.paragraphElement,{id:this.id,waitToTranslateText:this.waitToTranslateText,translatedText:this.translatedText,tagMapping:this.tagMapping,tagMappingCount:this.tagMappingCount})),t==="error"&&(this.renderTranslatedErrorHtml(),this.stopObserver()),this.onStatusChange?.(this.id,t)}createTranslatedHtmlContainer(){let t=this.paragraphElement,n=$e(t,t.innerHTML),r=document.createElement("div");r.classList.add("notranslate"),r.classList.add(`${H}--translate-item--container`),r.classList.add(n?`${H}--translate-item--inline`:`${H}--translate-item--block`),r.setAttribute("data-no-translate","true"),r.setAttribute("translate","no"),this.insertedContainerElement=r}renderTranslateLoadingHtml(){if(this.insertedContainerElement||this.createTranslatedHtmlContainer(),!this.insertedContainerElement){V("insertedContainerElement is missing");return}this.insertedContainerElement.innerHTML="";let t=this.paragraphElement,n=$e(t,t.innerHTML);this.insertedContainerElement.classList.add(n?`${H}--translate-item--inline`:`${H}--translate-item--block`);let r=document.createElement("div");r.classList.add(`${H}--loading-spinner`),this.insertedContainerElement.appendChild(r);let o=S.getTranslationRules();this.enabled&&(ue(this.paragraphElement,this.insertedContainerElement,o),this.isInserted=!0)}renderTranslatedHtml(){if(this.insertedContainerElement||this.createTranslatedHtmlContainer(),!this.insertedContainerElement){V("insertedContainerElement is missing");return}if(!this.translatedText){this.updateStatus("error"),V("translatedText is missing");return}let t=this.paragraphElement,n=So(this.id,this.translatedText,this.tagMapping);if(!n){this.updateStatus("error"),V("translatedText is missing");return}this.insertedContainerElement.remove(),this.isInserted=!1,this.insertedContainerElement.innerHTML="";let r=/[\s\p{P}]+/gu;if(this.waitToTranslateText?.replace(r,"")===this.translatedText.replace(r,""))return;let o=$e(t,t.innerHTML,n);if(this.insertedContainerElement.classList.add(o?`${H}--translate-item--inline`:`${H}--translate-item--block`),o){let s=document.createElement("span");s.classList.add(`${H}--translate-item--gap`),s.classList.add("notranslate"),s.setAttribute("data-no-translate","true"),s.innerHTML="&nbsp;&nbsp;",this.insertedContainerElement.appendChild(s)}let a=document.createElement("span");a.classList.add(`${H}--translate-item--inner`),a.innerHTML=n,this.insertedContainerElement.appendChild(a);let i=S.getTranslationRules();this.enabled&&(ue(this.paragraphElement,this.insertedContainerElement,i),this.isInserted=!0)}renderTranslatedErrorHtml(){if(!this.insertedContainerElement){V("insertedContainerElement is missing");return}this.insertedContainerElement.remove(),this.insertedContainerElement.innerHTML="";let t=document.createElement("span");t.innerHTML=`
      <svg style="display:inline;width:1em;height:1em;pointer-events:none;" width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M35.9387 5.48805C35.9166 4.60421 35.2434 4.04719 34.279 4.0675C33.3131 4.0878 32.8154 4.67712 32.6567 5.56132C32.5745 6.01985 32.601 6.49957 32.5962 6.96997C32.5881 7.77251 32.594 8.5752 32.594 9.3779C32.4685 9.43478 32.343 9.4917 32.2175 9.54866C31.7961 9.14366 31.3817 8.73102 30.9521 8.33488C27.0799 4.76502 22.4856 3.43605 17.3405 4.22591C10.0761 5.34107 4.69388 11.3891 4.06231 18.939C3.46983 26.0213 8.03881 32.8643 14.897 35.1663C21.8348 37.495 29.5543 34.7845 33.4563 28.6429C33.7074 28.2475 33.9685 27.8417 34.1218 27.4045C34.4194 26.5555 34.2699 25.765 33.4312 25.3113C32.6231 24.8743 31.8573 25.0498 31.2835 25.7915C30.9966 26.1625 30.7785 26.5856 30.5106 26.9724C28.0914 30.4658 24.7682 32.3693 20.5158 32.5766C14.8218 32.8541 9.60215 29.1608 7.94272 23.717C6.22884 18.0946 8.59939 12.0366 13.6698 9.08126C18.5986 6.20837 24.9262 7.03281 28.9148 11.0837C29.2069 11.3803 29.4036 11.7708 29.8772 12.4519C28.32 12.4519 27.1212 12.3885 25.9323 12.4704C24.8345 12.5461 24.253 13.1995 24.262 14.1166C24.2708 15.0096 24.8931 15.7485 25.9495 15.7745C28.7068 15.8424 31.4671 15.8177 34.2259 15.7884C35.1348 15.7787 35.8872 15.2584 35.9148 14.3603C36.0054 11.4048 36.0127 8.44397 35.9387 5.48805Z" fill="#428ADF"></path>
      </svg>
      <span style="color:#428ADF;text-decoration-line:underline;text-underline-offset:0.2em;margin-left:0.2em;pointer-events:none;">Retry</span>
    `,t.classList.add(`${H}--error-box`),this.insertedContainerElement.appendChild(t),t.addEventListener("click",r=>{r.stopPropagation(),r.preventDefault(),this.triggerAllTranslateItemInstanceRetryTranslate()});let n=S.getTranslationRules();this.enabled&&ue(this.paragraphElement,this.insertedContainerElement,n)}triggerAllTranslateItemInstanceRetryTranslate(){window.dispatchEvent(new CustomEvent(ze))}async doRetryTranslate(t=!1){this.resetStatus();let{cacheData:n}=await Ue.getCacheByElement(this.paragraphElement);n?(this.id=n.id,this.waitToTranslateText=n.waitToTranslateText,this.tagMapping=n.tagMapping,this.tagMappingCount=n.tagMappingCount,this.updateTranslatedText(n.translatedText),t||(this.hasCache=!0)):(this.hasCache=!1,this.generateWaitToTranslateText()),this.setupObserver(),Xt.markerAttributes(this.paragraphElement,Gt,this.id)}resetStatus(){this.status="idle",this.isTranslated=!1,this.waitToTranslateText=null,this.translatedText=null,this.tagMapping={},this.tagMappingCount=0,this.error=null,this.insertedContainerElement&&(this.insertedContainerElement.remove(),this.insertedContainerElement=null)}forceTranslate(){this.doTranslate()}stopObserver(){this.observer&&this.observer.disconnect()}startObserver(){this.observer&&this.observer.observe(this.paragraphElement)}removeTranslateNode(){this.enabled=!1,this.insertedContainerElement&&(this.insertedContainerElement.remove(),this.isInserted=!1),this.stopObserver()}reshowTranslateNode(){if(this.enabled=!0,this.startObserver(),!this.isInserted&&this.hasCache&&this.insertedContainerElement){let t=S.getTranslationRules();ue(this.paragraphElement,this.insertedContainerElement,t),this.isInserted=!0}}},Co=Ln;var Eo=e=>e.getAttribute&&(e.getAttribute("data-no-translate")==="true"||e.getAttribute("translate")==="no"),Yi=e=>e?!!e.closest("[contenteditable=true]"):!1,Io=(e,t)=>{if(!e)return!0;let n=t;if(e.nodeType===Node.ELEMENT_NODE){if(n.invalidElementTags.includes(e.tagName.toLowerCase())||Yi(e))return!0;let r=n.skipElementSelectors;if(r&&r.length>0){for(let o of r)if(e.matches(o))return!0}if(uo(e))return!0}return!1};var Pn=class extends xe{constructor(n){super();this.translateItemInstances=[];this.translatorItemsStatusState={};this.contentContainerElement=null;this.retryListenerMounted=!1;this.contentContainerElement=n,this.id=be()}identifyTranslatableParagraphs(n){try{let r=[],o=S.getTranslationRules();this.traverseDOMWithTreeWalker(n,o,r);let a=this.filterNestedElements(r);ho("translatableElements",a);let i=a.map(s=>new Co(s,(l,u)=>{this.translatorItemsStatusState[l]=u,this.emit("onTranslatorItemsStatusStateChange",{translatorItemsStatusState:this.translatorItemsStatusState})}));return this.translateItemInstances=[...this.translateItemInstances,...i],this.retryListenerMounted||(window.addEventListener(ze,()=>{this.translateItemInstances.forEach(s=>{(s.status==="error"||s.status==="idle")&&s.doRetryTranslate()})}),this.retryListenerMounted=!0),!0}catch(r){return V(`Error identifying translatable paragraphs: ${r}`),!1}}changeTranslateItemCacheStatus(n){this.translateItemInstances.forEach(r=>{r.hasCache=n})}reSearchTranslatableParagraphs(){this.contentContainerElement&&this.identifyTranslatableParagraphs(this.contentContainerElement)}traverseDOMWithTreeWalker(n,r,o){let a=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,{acceptNode:s=>s.nodeType===Node.ELEMENT_NODE&&(Io(s,r)||Eo(s)||Xt.getMarkerValue(s,Gt))?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),i;for(;i=a.nextNode();)if(i.nodeType===Node.TEXT_NODE)this.processTextNode(i,o);else if(i.nodeType===Node.ELEMENT_NODE){let s=i;if(S.isDirectTranslatableElement(s,r)){let l=s.textContent?.trim();l&&S.checkIsValidContent(l,r)&&o.push(s),a.currentNode=s;let u=this.findNextSiblingOrAncestorSibling(s);u&&(a.currentNode=u)}}}findNextSiblingOrAncestorSibling(n){let r=n;for(;r;){if(r.nextSibling)return r.nextSibling;if(r=r.parentNode,!r||r.nodeType===Node.DOCUMENT_NODE)return null}return null}filterNestedElements(n){return n.filter(r=>!n.some(o=>o!==r&&o.contains(r)))}processTextNode(n,r){let o=n.textContent?.trim();if(o&&S.checkIsValidContent(o)){let a=n.parentElement;if(a){if(r.includes(a)||Xt.getMarkerValue(a,Gt))return null;r.push(a)}}}closeTranslate(){this.translateItemInstances.forEach(n=>{n.removeTranslateNode()})}startTranslate(){this.translateItemInstances.forEach(n=>{n.reshowTranslateNode()})}doRetryTranslate(){this.translateItemInstances.forEach(n=>{n.doRetryTranslate()})}},Mo=Pn;var On=class{constructor(){this.inserted=!1;this.styleTagId=xo;this.classNamePrefix=H}initialize(){if(this.inserted)return;let t=document.createElement("style");t.id=this.styleTagId,t.textContent=this.generateCSS(),document.head.appendChild(t),this.inserted=!0}remove(){let t=document.getElementById(this.styleTagId);t&&(t.remove(),this.inserted=!1)}generateCSS(){let t=this.classNamePrefix;return`
      .${t}--loading-spinner {
        vertical-align: middle;
        width: 10px;
        height: 10px;
        display: inline-block;
        margin: 0 4px;
        border: 2px solid rgba(221, 244, 255, 0.6);
        border-top: 2px solid rgba(0 ,0, 0, 0.375);
        border-left: 2px solid rgba(0 ,0, 0, 0.375);
        border-radius: 50%;
        padding: 0 !important;
        animation: maxai--page-translator--loading 0.6s infinite linear !important;
      }

      @keyframes ${t}--loading {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(359deg);
        }
      }

      .${t}--error-box {
        position: relative;
        display: inline-flex;
        gap: 2px;
        flex-direction: row;
        align-items: center;
        cursor: pointer;
        white-space: nowrap;
        font-size: 0.9em;
      }

      .${t}--translate-item--container {
        word-break: break-word;
        user-select: text;
        font-family: inherit;
      }
      .${t}--translate-item--inline {
        display: inline;
      }
      .${t}--translate-item--block {
        position: relative;
        margin: 0.5em 0 !important;
        display: block;
      }
        
      .${t}--translate-item--inner {
        display: inline;
        background-image: linear-gradient(to right, rgba(148, 168, 184, 0.8) 50%, rgba(255, 255, 255, 0) 0%);
        background-position: bottom;
        background-size: 9px 2px;
        background-repeat: repeat-x;
        padding-bottom: max(min(0.2em, 3px), 1px);
      }
    `}},vo=On;var kn=class extends xe{constructor(){super(...arguments);this._enableTranslate=!1;this._loading=!1;this.translatorFinderInstance=[];this.styleInserted=!1;this.isInitialized=!1;this.mutationsObserverObj={}}set enableTranslate(n){this._enableTranslate=n,this.emit("onEnableChange",n)}get enableTranslate(){return this._enableTranslate}set loading(n){this._loading=n,this.emit("onLoadingChange",n)}get loading(){return this._loading}startTranslate(){this.isInitialized?(this.reSearchTranslatableParagraphs(),this.translatorFinderInstance.forEach(n=>{n.startTranslate()})):this.initializeFinder(),this.enableTranslate=!0}closeTranslate(){this.enableTranslate=!1,this.translatorFinderInstance.forEach(n=>{n.closeTranslate(),this.closeMutationsObserverWith(n.id)})}doRetryTranslate(){this.translatorFinderInstance.forEach(n=>{n.doRetryTranslate()})}updateCacheStatus(n){this.translatorFinderInstance.forEach(r=>{r.changeTranslateItemCacheStatus(n)})}initializeFinder(){if(this.isInitialized)return;let n=S.getTranslationRules();document.querySelectorAll(n.needToTranslateRootContentSelectors.map(o=>`${o}`).join(", ")).forEach(o=>{if(o&&o instanceof HTMLElement){let a=new Mo(o);a.identifyTranslatableParagraphs(o),a.on("onTranslatorItemsStatusStateChange",i=>{let{translatorItemsStatusState:s}=i;Object.values(s).some(u=>u==="fetching")?this.loading=!0:this.loading=!1}),this.translatorFinderInstance.push(a),this.mutationsObserverObj[a.id]=this.initMutationsObserver(o,a.id)}}),this.isInitialized=!0,this.styleInserted||(new vo().initialize(),this.styleInserted=!0)}reSearchTranslatableParagraphs(){this.translatorFinderInstance.forEach(n=>{n.reSearchTranslatableParagraphs()})}initMutationsObserver(n,r){if(this.mutationsObserverObj[r])return this.mutationsObserverObj[r];let o=new MutationObserver(ve(this.reSearchTranslatableParagraphs,500).bind(this));return o.observe(n,{childList:!0,characterData:!0,subtree:!0}),o}closeMutationsObserverWith(n){this.mutationsObserverObj[n]&&(this.mutationsObserverObj[n].disconnect(),this.mutationsObserverObj[n]=null)}},zi=new kn,wt=zi;var Xe=Et({key:"pageTranslationEnableAtom",default:!1}),Ao=Et({key:"pageTranslationLoadingAtom",default:!1}),Ge=Et({key:"currentPageLanguageNotEqualTargetLanguageAtom",default:!1}),Nn=Et({key:"showTranslateSameLanguageTooltipAtom",default:!1});var $i=()=>{let{userSettings:e}=R(),[t,n]=ee(Xe),[r,o]=ee(Ao),{needStartShowTranslateSameLanguageTooltip:a}=Bn(),i=(0,Lt.useMemo)(()=>e?.pageTranslation?.targetLanguage??e?.preferredLanguage??ht(navigator.language)??"en",[e?.pageTranslation?.targetLanguage,e?.preferredLanguage]),s=(0,Lt.useRef)(i),l=async(u,c)=>{if(!await Ae({emitEvent:!0})||r)return;let g=u??!t;g&&a();let d=(()=>{let T=Zt[s.current];if(T)return T.en_label;let E="";return Object.keys(Zt).forEach(N=>{if(Zt[N].microsoft_translator_code===s.current){E=Zt[N].en_label;return}}),E})();c&&wt.updateCacheStatus(!1),g?(u===!0&&t===!0?wt.doRetryTranslate():wt.startTranslate(),Sr("prompt_used",{prompt_name:"Translate this page",prompt_details:d?`Translate to ${d}`:void 0})):wt.closeTranslate()};return(0,Lt.useEffect)(()=>{s.current=i,S.updateTranslatorRules({toLanguageCode:i})},[i]),(0,Lt.useEffect)(()=>{wt.on("onEnableChange",u=>{n(u)}),wt.on("onLoadingChange",u=>{o(u)})},[]),{loading:r,setLoading:o,translationEnable:t,toggleTranslation:l,targetLanguage:i}},wo=$i;var Xi=()=>wo(),J=Xi;var Po=()=>te(Ge),Oo=()=>{let e=te(Nn),{needStartShowTranslateSameLanguageTooltip:t}=Bn();return{showTranslateSameLanguageTooltip:e,needStartShowTranslateSameLanguageTooltip:t}},Bn=()=>{let e=ne(Nn),t=(0,ot.useRef)(null),n=rr(({snapshot:r})=>async()=>{await r.getPromise(Ge)||(e(!0),t.current&&clearTimeout(t.current),t.current=setTimeout(()=>{e(!1)},2e3))});return{setShowTranslateSameLanguageTooltip:e,needStartShowTranslateSameLanguageTooltip:n}},Gi=()=>{let[e,t]=(0,ot.useState)(!0),[n,r]=(0,ot.useState)(null),{targetLanguage:o}=J(),a=(0,ot.useCallback)(async()=>{let l="";if(X()==="notion.so")return document.documentElement.lang;if(!l){let u=document.body.innerText.slice(500,3e3),c=await Lo.default.i18n.detectLanguage(u),m=c?.languages?.[0];if(c.isReliable&&m&&m.percentage>0&&m.language)return m.language}return null},[]),i=(0,ot.useCallback)(async()=>{let u=(await cn("tabs","query",[{active:!0,currentWindow:!0}])||[])[0],c=u?.id;return u&&c?await cn("tabs","detectLanguage",[c]):null},[]),s=ne(Ge);return(0,ot.useEffect)(()=>{if(!o||!n)return;let l=o.includes("_")?o?.split("_")[0]:o?.split("-")[0],u=n.includes("_")?n?.split("_")[0]:n?.split("-")[0];s(l!==u)},[o,n,s]),It(()=>{setTimeout(async()=>{t(!0);let l=await a();if(l){r(l),t(!1);return}let u=await i();if(u){r(u),t(!1);return}},500)}),{currentPageLanguage:n}},ko=Gi;var Dn=f(_());var Rn=Et({key:"MaxAIMinimumHideState",default:!1}),No=()=>{let{t:e}=b(["common","client"]);return e("client:quick_access__hide_button__title")},Vi=e=>{let{isDragging:t}=e,n=ne(Rn);return Dn.default.createElement(x,{"data-testid":"quick-access-maxai-close-button",sx:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center",opacity:"0.4","&:hover":{opacity:"1"}},onClick:()=>{t||n(!0)}},Dn.default.createElement(ft,{sx:{fontSize:"20px",color:"inherit"},icon:"Close"}))},Bo=Vi;var pe=f(_());var P=f(_());var Do=f(_()),Ki=e=>{let{onClick:t,children:n,sx:r,testId:o,...a}=e;return Do.default.createElement(et,{"data-testid":o,sx:{position:"relative",minWidth:"var(--mini-button-height)",minHeight:"var(--mini-button-height)",width:"var(--mini-button-height)",height:"var(--mini-button-height)",padding:0,borderRadius:"50%",display:"flex",color:i=>i.palette.mode==="dark"?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)","&:hover":{backgroundColor:i=>i.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.06)",color:"primary.main"},...r},...a,onClick:i=>{i.stopPropagation(),t?.(i)}},n)},Ro=Ki;var Fo=e=>{let{testId:t,setOpen:n,isDragging:r,onClick:o,isOnThePageLeft:a}=e,i=e.Component;return P.default.createElement(Ro,{testId:t,onClick:o,...e.buttonProps},i&&P.default.createElement(i,{setOpen:n,isDragging:r,isOnThePageLeft:a}))},ji=e=>{let{tooltip:t,children:n,open:r,setOpen:o,isOnThePageLeft:a}=e;if(!t)return n;if(t.customNode){let i=t.customNode;return P.default.createElement(i,{open:r,setOpen:o,testId:t.testId,isOnThePageLeft:a},n)}return t.tooltipProps?P.default.createElement(nt,{testId:t.testId,arrow:!0,open:r,minimumTooltip:!0,placement:"left",...t.tooltipProps,PopperProps:{sx:{whiteSpace:"nowrap"}}},n):n},Qi=e=>{let{priorityTooltip:t,isMiddleButton:n=!1,mainButton:r,childButtons:o=[],isDragging:a,isOnThePageLeft:i,...s}=e,{sx:l,...u}=s||{},[c,m]=(0,P.useState)(r.tooltip),[g,p]=(0,P.useState)(!1),d=t||c,T=!!t||g,{devShowAuxiliaryLine:E,devAlwaysShowTooltip:N}=Dt();return P.default.createElement(q,{sx:{"--middle-button-width":"8px","--main-button-width":n?"calc(var(--mini-button-height) + var(--middle-button-width))":"var(--mini-button-height)","--main-button-width-wrapper":n?"calc(var(--mini-button-height-wrapper) + var(--middle-button-width))":"var(--mini-button-height-wrapper)","--expanded-width":n?`calc(var(--mini-button-height-wrapper) * ${o.length+1} + var(--middle-button-width))`:`calc(var(--mini-button-height-wrapper) * ${o.length+1})`,position:"relative",boxSizing:"border-box",height:"var(--mini-button-height-wrapper)",width:"var(--mini-button-height-wrapper)",...i?{marginRight:n?"-2px":0}:{marginLeft:n?"-2px":0},...l,...E?{}:{}},...u,onMouseLeave:()=>{p(!1)}},!a&&P.default.createElement(ji,{isOnThePageLeft:i,open:N||T,key:`${N||T}`,tooltip:d,setOpen:p},P.default.createElement("div",{style:{position:"absolute",top:0,...i?{left:0}:{right:0},width:"var(--expanded-width)",height:"100%",pointerEvents:"none",marginRight:n?"calc(-1 * var(--middle-button-width) - 2px)":0,...E?{outline:"1px solid #f0f"}:{}}})),P.default.createElement(x,{direction:i?"row":"row-reverse",spacing:.5,alignItems:"center",sx:{boxSizing:"border-box",position:"absolute",overflow:"hidden",top:0,...i?{left:0}:{right:0},borderRadius:n?i?"0 var(--mini-button-height-wrapper) var(--mini-button-height-wrapper) 0":"var(--mini-button-height-wrapper) 0 0 var(--mini-button-height-wrapper)":"var(--mini-button-height-wrapper)",padding:"2px",marginRight:n?"calc(-1 * var(--middle-button-width) - 2px)":0,boxShadow:" 0px 0px 1px 0px rgba(0, 0, 0, 0.08), 0px 5px 25px 0px rgba(0, 0, 0, 0.04), 0px 3.2px 12px 0px rgba(0, 0, 0, 0.08)",bgcolor:"background.paper",transition:"width 0.24s",width:T?"var(--expanded-width)":"var(--main-button-width-wrapper)",...E?{outline:"1px solid #0f8"}:{}},onMouseEnter:()=>{p(!0)}},P.default.createElement(Fo,{setOpen:p,isDragging:a,isOnThePageLeft:i,...r,buttonProps:{sx:{minWidth:"var(--main-button-width)",width:"var(--main-button-width)",...n?{borderRadius:i?"0 var(--mini-button-height-wrapper) var(--mini-button-height-wrapper) 0":"var(--mini-button-height-wrapper) 0 0 var(--mini-button-height-wrapper)"}:{}},onMouseEnter:()=>{r.tooltip&&m(r.tooltip)}}}),o?.map((M,U)=>{let jt=M.customNode?M.customNode:P.default.createElement(Fo,{key:U,setOpen:p,isDragging:a,isOnThePageLeft:i,buttonProps:{onMouseEnter:()=>{M.tooltip&&m(M.tooltip)}},...M,onClick:St=>{St.stopPropagation(),St.preventDefault()}});return P.default.isValidElement(jt)?jt:null})))},ce=Qi;var bt=f(_());var Fn=f(_()),Ji=()=>Fn.default.createElement(x,{sx:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"}},Fn.default.createElement(ft,{icon:"Power",sx:{fontSize:"20px"}})),Ho=Ji;var lt=f(_());var Zi=e=>{let{open:t,setOpen:n,isOnThePageLeft:r}=e,{t:o}=b(["client","common"]),{updateAppSettings:a}=Rr(),{userSettings:i,setUserSettings:s}=R(),l=d=>{d.stopPropagation(),we({key:"options",query:"?id=quick-access#/appearance"})},u=async d=>{d.stopPropagation(),await s({...i,quickAccess:{visibility:{...i?.quickAccess?.visibility||{whitelist:[],blacklist:[],isWhitelistMode:!1},blacklist:[...i?.quickAccess?.visibility?.blacklist||[],X()]}}}),a()},c=async d=>{d.stopPropagation(),await s({...i,quickAccess:{visibility:{...i?.quickAccess?.visibility||{whitelist:[],blacklist:[]},isWhitelistMode:!0}}}),a()},m=(0,lt.useRef)(null),[g,p]=(0,lt.useState)(0);return(0,lt.useEffect)(()=>{m.current&&p(Math.max(m.current.getBoundingClientRect().bottom-window.innerHeight,0))},[t]),t&&lt.default.createElement(q,{sx:{marginLeft:"0px!important",color:"#fff",position:"absolute",...r?{left:"calc(72px - 5px)"}:{right:"calc(72px - 5px)"},top:g>0?-g-8:0},onClick:d=>d.stopPropagation(),onMouseDown:d=>d.stopPropagation(),onMouseLeave:()=>n(!1)},lt.default.createElement(Hr,{ref:m,sx:{...r?{marginLeft:"10px"}:{marginRight:"10px"}},hideThisSiteItemDataButtonClickedName:"max_ai__quick_access__hide_menu__this_site",hideThisSiteItemText:o("client:floating_menu__mini_menu__image__close_item__hide_on_this_site"),hideThisSiteConfirmCardTitle:o("client:quick_access__confirm_card__hide_this_site__title"),hideThisSiteConfirmCardOkText:o("client:floating_menu__mini_menu__image__close_item__hide_on_this_site"),hideThisSiteConfirmCardCancelText:o("common:cancel"),onHideThisSiteConfirmCardClickOk:u,onHideThisSiteConfirmCardClickCancel:()=>{},hideAllSitesItemDataButtonClickedName:"max_ai__quick_access__hide_menu__all_sites",hideAllSitesItemText:o("client:floating_menu__mini_menu__image__close_item__hide_always"),hideAllSitesConfirmCardTitle:o("client:quick_access__confirm_card__hide_all_sites__title"),hideAllSitesConfirmCardOkText:o("client:floating_menu__mini_menu__image__close_item__hide_always"),hideAllSitesConfirmCardCancelText:o("common:cancel"),onHideAllSitesConfirmCardClickOk:c,onHideAllSitesConfirmCardClickCancel:()=>{},openSettingsItemTextI18nKey:"client:floating_menu__button__menu_settings",onClickSettings:l}))},Uo=Zi;var Hn=f(_());var qo=()=>{let{t:e}=b(["common","client"]);return e("client:sidebar__button__immersive_chat")},ts=e=>{let{setOpen:t,isDragging:n}=e,r=()=>{n||(t?.(!1),setTimeout(()=>{we({url:kr})},10))};return Hn.default.createElement(x,{"data-testid":"quick-access-maxai-immersive-chat-button",sx:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},onClick:()=>r()},Hn.default.createElement(ft,{sx:{fontSize:"20px",color:"inherit"},icon:"Fullscreen"}))},Wo=ts;var me=f(_());var Yo=()=>{let{t:e}=b(["client"]);return e("client:quick_access__maxai_button__title")},zo=()=>{let{chatBoxShortCutKey:e}=Pe();return e&&me.default.createElement(Me,null,e)},es=e=>{let{isDragging:t,isOnThePageLeft:n}=e,r=()=>{if(t)return;new Ir().postMessage({event:"Client_emitCMDJ",data:{}})};return me.default.createElement(x,{"data-testid":"quick-access-maxai-mini-button",sx:{width:"100%",height:"100%",alignItems:n?"flex-end":"flex-start",justifyContent:"center"},onClick:()=>r()},me.default.createElement(x,{sx:{width:"var(--mini-button-height)",height:"var(--mini-button-height)",alignItems:"center",justifyContent:"center"}},me.default.createElement($,{sx:{fontSize:"20px"}})))},$o=es;var Xo=f($a());var Un=f(_());var Go=()=>{let{t:e}=b(["common","client"]);return e("client:sidebar__mini_button__screenshot__tooltip")},ns=e=>{let{isDragging:t}=e,n=()=>{if(t)return;G("QuickAccessScreenshot",{});let r=setInterval(()=>{let o=Mr()?.querySelector('button[data-testid="maxai-take-screenshot"]');o&&(clearInterval(r),o.click())},200)};return Un.default.createElement(x,{"data-testid":"quick-access-maxai-screenshot-button",sx:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},onClick:()=>n()},Un.default.createElement(Xo.default,{sx:{transform:"rotate(-90deg)",color:"inherit",fontSize:"18px"}}))},Vo=ns;var qn=f(_());var rs=()=>{switch(tt()){case"DEFAULT_EMAIL_SUMMARY":return"client:sidebar__tabs__summary__tooltip__default_email";case"PAGE_SUMMARY":return"client:sidebar__tabs__summary__tooltip__page";case"PDF_CRX_SUMMARY":return"client:sidebar__tabs__summary__tooltip__pdf_crx";case"YOUTUBE_VIDEO_SUMMARY":return"client:sidebar__tabs__summary__tooltip__youtube_video";default:return"client:sidebar__tabs__summary__tooltip__page"}},Ko=()=>{let{t:e}=b(["common","client"]);return e(rs())},os=e=>{let{isDragging:t}=e,n=()=>{t||G("QuickAccessSummary",{pageSummaryType:tt()})};return qn.default.createElement(x,{"data-testid":"quick-access-maxai-summary-button",sx:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},onClick:()=>n()},qn.default.createElement(ft,{sx:{fontSize:"20px",color:"inherit"},icon:"Summarize"}))},jo=os;var ta=f(Qo());var z=f(_());var Zo=f(Ua());var ut=f(_());var Wn={am:{label:"\u12A0\u121B\u122D\u129B",en_label:"Amharic"},ar:{label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",en_label:"Arabic"},bg:{label:"\u0411\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438",en_label:"Bulgarian"},bn:{label:"\u09AC\u09BE\u0982\u09B2\u09BE",en_label:"Bengali"},ca:{label:"Catal\xE0",en_label:"Catalan"},cs:{label:"\u010Ce\u0161tina",en_label:"Czech"},da:{label:"Dansk",en_label:"Danish"},de:{label:"Deutsch",en_label:"German"},el:{label:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",en_label:"Greek"},en:{label:"English",en_label:"English"},en_GB:{label:"English (UK)",en_label:"English (UK)"},en_US:{label:"English (US)",en_label:"English (US)"},es:{label:"Espa\xF1ol",en_label:"Spanish"},es_419:{label:"Espa\xF1ol (Latinoam\xE9rica)",en_label:"Spanish (Latin America)"},et:{label:"Eesti",en_label:"Estonian"},fa:{label:"\u0641\u0627\u0631\u0633\u06CC",en_label:"Persian"},fi:{label:"Suomi",en_label:"Finnish"},fil:{label:"Filipino",en_label:"Filipino"},fr:{label:"Fran\xE7ais",en_label:"French"},gu:{label:"\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0",en_label:"Gujarati"},he:{label:"\u05E2\u05D1\u05E8\u05D9\u05EA",en_label:"Hebrew"},he_IL:{label:"\u05E2\u05D1\u05E8\u05D9\u05EA (\u05D9\u05E9\u05E8\u05D0\u05DC)",en_label:"Hebrew (Israel)"},hi:{label:"\u0939\u093F\u0928\u094D\u0926\u0940",en_label:"Hindi"},hr:{label:"Hrvatski",en_label:"Croatian"},hy:{label:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",en_label:"Armenian"},hu:{label:"Magyar",en_label:"Hungarian"},in:{label:"Bahasa Indonesia",en_label:"Indonesian"},id:{label:"Indonesia",en_label:"Indonesian"},it:{label:"Italiano",en_label:"Italian"},ja:{label:"\u65E5\u672C\u8A9E",en_label:"Japanese"},kn:{label:"\u0C95\u0CA8\u0CCD\u0CA8\u0CA1",en_label:"Kannada"},ko:{label:"\uD55C\uAD6D\uC5B4",en_label:"Korean"},lt:{label:"Lietuvi\u0173",en_label:"Lithuanian"},lv:{label:"Latvie\u0161u",en_label:"Latvian"},ml:{label:"\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02",en_label:"Malayalam"},mr:{label:"\u092E\u0930\u093E\u0920\u0940",en_label:"Marathi"},ms:{label:"Melayu",en_label:"Malay"},nl:{label:"Nederlands",en_label:"Dutch"},no:{label:"Norsk",en_label:"Norwegian"},pl:{label:"Polski",en_label:"Polish"},pt_BR:{label:"Portugu\xEAs (Brasil)",en_label:"Portuguese (Brazil)"},pt_PT:{label:"Portugu\xEAs (Portugal)",en_label:"Portuguese (Portugal)"},ro:{label:"Rom\xE2n\u0103",en_label:"Romanian"},ru:{label:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",en_label:"Russian"},sk:{label:"Sloven\u010Dina",en_label:"Slovak"},sl:{label:"Sloven\u0161\u010Dina",en_label:"Slovenian"},sr:{label:"\u0421\u0440\u043F\u0441\u043A\u0438",en_label:"Serbian"},sv:{label:"Svenska",en_label:"Swedish"},sw:{label:"Kiswahili",en_label:"Swahili"},ta:{label:"\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD",en_label:"Tamil"},te:{label:"\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41",en_label:"Telugu"},th:{label:"\u0E44\u0E17\u0E22",en_label:"Thai"},tr:{label:"T\xFCrk\xE7e",en_label:"Turkish"},ua:{label:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",en_label:"Ukrainian",microsoft_translator_code:"uk"},uk:{label:"\u0627\u0631\u062F\u0648",en_label:"Urdu",microsoft_translator_code:"ur"},vi:{label:"Ti\u1EBFng Vi\u1EC7t",en_label:"Vietnamese"},zh_CN:{label:"\u7B80\u4F53\u4E2D\u6587",en_label:"Simplified Chinese",microsoft_translator_code:"zh-Hans"},zh_TW:{label:"\u7E41\u9AD4\u4E2D\u6587",en_label:"Traditional Chinese",microsoft_translator_code:"zh-Hant"}};function ls(e,{inputValue:t}){return e.filter(n=>{let r=n.label.toLowerCase(),o=n.origin?.en_label?.toLowerCase()||"",a=n.value.toLowerCase(),i=t.toLowerCase();return r.includes(i)||a.includes(i)||o.includes(i)})}var Jo=Object.keys(Wn).map(e=>{let t=Wn[e];return{label:t.label,value:e,origin:{value:e,...t}}}),us={label:"English",value:"en",origin:{value:"en",label:"English",en_label:"English"}},cs=e=>{let{label:t="Choose a language",defaultValue:n="",expandOptionsHandler:r,onChange:o=p=>{},sx:a,disableTransition:i=!1}=e,[s,l]=ut.default.useState(!1),{t:u}=b(["common"]),c=(0,ut.useMemo)(()=>r?r(Jo):Jo,[r]),[m,g]=ut.default.useState(()=>c.find(p=>ht(p.value)===ht(n))||us);return(0,ut.useEffect)(()=>{if(!(X()==="youtube.com")||!s)return;let d=T=>{T.key==="i"&&T.stopPropagation()};return window.addEventListener("keydown",d,!0),()=>{window.removeEventListener("keydown",d,!0)}},[s]),ut.default.createElement(pr,{"data-testid":"maxai--language-code-select",open:s,onOpen:()=>{l(!0)},onClose:()=>{l(!1)},noOptionsText:u("common:no_options"),disableClearable:!0,value:m,size:"small",sx:{width:160,[`.${fr.root}`]:{fontSize:a?.fontSize??16,...i&&{transition:"none !important"}},[`.${dt.root}`]:{fontSize:a?.fontSize??16},[`.${dt.root} fieldset > legend`]:{fontSize:14},[`.${mr.popupIndicator} .${Zo.svgIconClasses.root}`]:{fontSize:24},...i&&{[`& .${cr.notchedOutline} > legend`]:{transition:"none !important"}},...a},slotProps:{paper:{sx:{fontSize:a?.fontSize??16}},popper:{sx:{zIndex:2147483648}}},autoHighlight:!0,getOptionLabel:p=>p.label,options:c,onChange:(p,d)=>{p.stopPropagation(),g(d),o(d.value)},filterOptions:ls,renderInput:p=>ut.default.createElement(_r,{...p,label:t,inputProps:{...p.inputProps,autoComplete:"off"}})})},Yn=cs;var ms=Ie(({className:e,...t})=>z.default.createElement(Tr,{...t,classes:{popper:e}}))({[`& .${hr.tooltip}`]:{maxWidth:"none",padding:0}}),ps=e=>{let{children:t,open:n,setOpen:r,testId:o}=e,{toggleTranslation:a,targetLanguage:i}=J(),{userSettings:s,setUserSettings:l}=R(),{t:u}=b(["client"]),c=(0,z.useCallback)(p=>[{label:u("translation_advanced__source_lang_select__option__detected_language"),value:""}].concat(p.map(T=>T?.origin?.microsoft_translator_code?{...T,value:T.origin.microsoft_translator_code}:T)),[u]),m=(0,z.useCallback)(p=>p.map(d=>d?.origin?.microsoft_translator_code?{...d,value:d.origin.microsoft_translator_code}:d),[]),g=async({fromCode:p,toCode:d})=>{if(!await Ae({emitEvent:!0}))return;await l({pageTranslation:{...s?.pageTranslation,sourceLanguage:p,targetLanguage:d}});let T=!1;(p||p==="")&&(T=!0),d&&(T=!0),T&&setTimeout(()=>{a(!0,!0)},0),r(!1)};return(0,z.useEffect)(()=>{(s?.pageTranslation?.targetLanguage===""||s?.pageTranslation?.targetLanguage===void 0)&&s?.preferredLanguage&&l({...s,pageTranslation:{...s?.pageTranslation,targetLanguage:s?.preferredLanguage}})},[l,s,s?.pageTranslation?.targetLanguage,s?.preferredLanguage]),z.default.createElement(ms,{open:n,placement:"left",title:z.default.createElement(q,{"data-testid":o,id:"MaxAIPageTranslateAdvancedCard",sx:{marginRight:"-10px",borderRadius:"8px",boxShadow:"0px 4px 8px 0px rgba(0, 0, 0, 0.16)",minWidth:358,height:"45px",display:"flex",alignItems:"stretch",justifyContent:"center",flexDirection:"row",border:"1px solid rgba(0, 0, 0, 0.08)",backgroundColor:"background.paper",padding:"0 4px!important"},onClick:p=>p.stopPropagation(),onMouseDown:p=>p.stopPropagation()},z.default.createElement(x,{sx:{flexDirection:"row",alignItems:"center",spacing:2,width:"100%"}},z.default.createElement(Yn,{sx:{flexShrink:0,width:0,flex:1,fontSize:14,[`.${dt.root} > fieldset`]:{borderWidth:0},[`.${dt.root} > input`]:{textAlign:"left",cursor:"pointer"}},label:"",expandOptionsHandler:c,defaultValue:s?.pageTranslation?.sourceLanguage,onChange:async p=>{await g({fromCode:p,toCode:s?.pageTranslation?.targetLanguage})}}),z.default.createElement(ta.default,{sx:{color:p=>p.palette.mode==="dark"?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)",fontSize:"20px"}}),z.default.createElement(Yn,{expandOptionsHandler:m,sx:{fontSize:14,[`.${dt.root} > fieldset`]:{borderWidth:0},[`.${dt.root} > input`]:{textAlign:"left",cursor:"pointer"}},label:"",defaultValue:i,onChange:async p=>{await g({fromCode:s?.pageTranslation?.sourceLanguage,toCode:p})}})))},t)},ea=ps;var na=f(Ya()),ra=f(za());var at=f(_());var oa=()=>{let{t:e}=b(["common","client"]),{translationEnable:t}=J();return e(t?"common:show_original_text":"common:web_translation")},ds=Ie(gr)(({theme:e})=>({[`& .${dr.badge}`]:{right:4,top:-5}})),gs=e=>{let{isDragging:t,icon:n}=e,{userSettings:r}=R(),{isLogin:o}=kt(),{translationEnable:a,targetLanguage:i,toggleTranslation:s}=J(),l=(0,at.useMemo)(()=>a,[a]);(0,at.useEffect)(()=>{o&&r?.pageTranslation?.sourceLanguage&&S.updateTranslatorRules({fromLanguageCode:r.pageTranslation.sourceLanguage})},[r?.pageTranslation?.sourceLanguage,o]),(0,at.useEffect)(()=>{o&&S.updateTranslatorRules({toLanguageCode:i})},[o,i]);let u=()=>{t||s()};return at.default.createElement(x,{"data-testid":"quick-access-maxai-translate-button",id:"quick-access-maxai-translate-button-v2",sx:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},onClick:c=>{c.stopPropagation(),c.preventDefault(),u()}},n||at.default.createElement(ds,{badgeContent:l?at.default.createElement(na.default,{sx:{fontSize:10,color:"rgba(52, 168, 83, 1)",bgcolor:"background.paper",borderRadius:"50%"}}):null,anchorOrigin:{vertical:"bottom",horizontal:"right"}},at.default.createElement(ra.default,{sx:{fontSize:"20px",color:"inherit"}})))},Ke=gs;var je=f(_());var fs=e=>{let{isDragging:t,isOnThePageLeft:n}=e,{targetLanguage:r}=J(),o=(0,je.useMemo)(()=>{let a=r;return a&&a.length>=2&&(a=a.charAt(0).toUpperCase()+a.charAt(1).toLowerCase()),a},[r]);return je.default.createElement(Ke,{icon:o,isDragging:t,isOnThePageLeft:n})},aa=fs;var ia={type:"quick-access",isMiddleButton:!0,mainButton:{testId:"maxai__quick_access__open_sidebar_button",Component:$o,tooltip:{testId:"maxai__quick_access__open_sidebar_button_tooltip",tooltipProps:{title:bt.default.createElement(Yo,null),description:()=>bt.default.createElement(zo,null)}}},childButtons:[{testId:"maxai__quick_access__immersive_chat_button",Component:Wo,tooltip:{testId:"maxai__quick_access__immersive_chat_button_tooltip",tooltipProps:{title:bt.default.createElement(qo,null)}}}]},zn={type:"translate",mainButton:{testId:"maxai__quick_access__translate_button",Component:Ke,tooltip:{testId:"maxai__quick_access__translate_button_tooltip",tooltipProps:{title:bt.default.createElement(oa,null)}}},childButtons:[{testId:"maxai__quick_access__translate_target_button",Component:aa,tooltip:{testId:"maxai__quick_access__translate_target_button_tooltip",customNode:ea}}]},hs={type:"summarize",mainButton:{testId:"maxai__quick_access__summarize_button",Component:jo,tooltip:{testId:"maxai__quick_access__summarize_button_tooltip",tooltipProps:{title:bt.default.createElement(Ko,null)}}}},Ts={type:"screenshot",mainButton:{testId:"maxai__quick_access__screenshot_button",Component:Vo,tooltip:{testId:"maxai__quick_access__screenshot_button_tooltip",tooltipProps:{title:bt.default.createElement(Go,null)}}}},sa={type:"hide-quick-access",mainButton:{testId:"maxai__quick_access__hide_button",Component:Bo,tooltip:{testId:"maxai__quick_access__hide_button_tooltip",tooltipProps:{title:bt.default.createElement(No,null)}}},childButtons:[{testId:"maxai__quick_access__hide_more_button",Component:Ho,tooltip:{testId:"maxai__quick_access__hide_more_button_tooltip",customNode:Uo}}]},la=[Ts,hs];var _s=e=>{let{isDragging:t,isOnThePageLeft:n,onClick:r,onMouseEnter:o,onMouseLeave:a,aboveNode:i,underNode:s}=e,{devShowAuxiliaryLine:l}=Dt();return pe.default.createElement(x,{direction:"row",sx:{width:42,height:"var(--mini-button-height-wrapper)",position:"relative",pointerEvents:"auto",...l?{outline:"2px solid blue"}:{}}},pe.default.createElement(ce,{isDragging:t,isOnThePageLeft:n,...ia,onMouseEnter:u=>{o?.(u)},onMouseLeave:u=>{a?.(u)},onClick:u=>{r?.(u)}}),i&&pe.default.createElement(x,{sx:{position:"absolute",left:0,width:42,bottom:"var(--mini-button-height-wrapper)",pb:"6px"}},i),s&&pe.default.createElement(x,{sx:{position:"absolute",left:0,width:42,top:"var(--mini-button-height-wrapper)",pt:"6px"}},s))},ua=_s;var $n="MAXAI_FLOATING_MINIMUM_Y",Qe="FLOATING_MINIMUM_IS_ON_THE_LEFT",Je="MAXAI_FLOATING_MINIMUM_IS_TOP_HALF",Ze="MAXAI_FLOATING_MINIMUM_OFFSET_TOP",tn="MAXAI_FLOATING_MINIMUM_OFFSET_BOTTOM";var en=window.innerHeight-160;var Xn=()=>{let e=X(),t=typeof window<"u"?window.location.pathname:"";if(["article","news","doc","docs","blog","blogs","review","product","recipe","profile","website","stories","manual"].some(d=>t.includes(`/${d}/`)))return!0;let o=`${e}${t}`;if(["linkedin.com/feed/update","stackoverflow.com/questions"].find(d=>o.startsWith(d)))return!0;if(["figma.com/file"].some(d=>o.includes(d))||[/figma\.com\/design\/.{15,}\/.{5,}/].some(d=>o.match(d)))return!1;let l=[/github.com\/.+/,/reddit.com\/r\/.+/,/quora.com\/.+/],u=`${e}${t.slice(0,5)}`;if(l.find(d=>u.match(d)))return!0;let c=document.querySelector('script[type="application/ld+json"]');if(c)try{let d=JSON.parse(c.textContent||"{}");if(["Article","BlogPosting","NewsArticle","ProfilePage","ProductPage","Review","Recipe"].includes(d["@type"]||""))return!0}catch{}let m=document.querySelector('meta[property="og:type"]');if(document.querySelector('meta[property="article:author"]')||document.querySelector('meta[name="author"]')||m&&["article","blog","news","profile","product","review","recipe"].includes(m.getAttribute("content")||""))return!0;let p=document.querySelector('link[rel="author"]');return!!(p&&p.getAttribute("href"))};var Gn=Bt($n,en),ca=Bt(Qe,!1),ma=Bt(Je,!1),pa=Bt(Ze,0),da=Bt(tn,0),ga=async(e,t)=>{let n=await Gn();Math.abs(n-e)<10||(await Mt($n,e),t?.())},fa=(e,t)=>{if(!t)return e;if(e<56||t+160<=56)return 56;if(e>t-160)return t-160;if(t-36<=e){let n=t-36;return n<=0?56:n}return e};var ha=f(_());var bs=e=>{let{children:t,open:n,testId:r}=e,{t:o}=b(["common","client"]);return ha.default.createElement(br,{testId:r,open:n,placement:"right",title:o("client:quick_access__translate__same_language_tooltip")},t)},Ta=bs;var xs=({onDrag:e})=>{ko();let{devShowAuxiliaryLine:t,devAlwaysExpandAllButtons:n}=Dt(),[r]=ee(Rn),[o,a]=(0,h.useState)(!1),[i,s]=(0,h.useState)(()=>en),[l,u]=(0,h.useState)(!1),[c,m]=(0,h.useState)(!1),[g,p]=(0,h.useState)(!1),[d,T]=(0,h.useState)(!1),E=te(Xe),N=Po(),M=(0,h.useRef)(0),[U,jt]=(0,h.useState)(!1),St=(0,h.useRef)(!1),he=(0,h.useRef)(0),Te=(0,h.useRef)(0),Vn=(0,h.useCallback)((y,B=!1)=>{let D=fa(y,M.current);B&&ga(D),s(D)},[]),[ka,Na]=(0,h.useState)(!1);It(()=>{let y=()=>{M.current=window.innerHeight,Vn(St.current?he.current:M.current-Te.current)};return(async()=>{try{let[D,Ct,_e,Da,Ra]=await Promise.all([Gn(),ma(),pa(),da(),ca()]);M.current=window.innerHeight,St.current=Ct,he.current=_e||D,Te.current=Da||M.current-D,jt(Ra),y()}catch{}finally{Na(!0),T(!0)}})(),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}});let Ba=ve(()=>{a(Xn())},1e3);It(()=>{a(Xn())}),Le(async y=>{if(y==="Client_listenTabUrlUpdate")return Ba(),{success:!0,message:"ok",data:{}}});let sn=(0,h.useMemo)(()=>er()||document.querySelector('body > embed[type="application/pdf"][internalid]')?!1:l||E||N,[l,E,N]),{showTranslateSameLanguageTooltip:Kn}=Oo(),ln=(0,h.useMemo)(()=>l||o,[l,o]),jn=(0,h.useCallback)(y=>{if(n)return!0;switch(y){case"summarize":return ln;case"translate":return sn;case"screenshot":return l;case"hide-quick-access":return l;default:return!1}},[l,ln,sn,n]),Qn=(0,h.useMemo)(()=>{let y=zn;return Kn&&(y=Se(zn),y.priorityTooltip={testId:"maxai__quick_access__translate_same_language_tooltip",customNode:Ta}),[y,sa]},[Kn]);(0,h.useEffect)(()=>{},[Qn]);let Jn=xr(g);(0,h.useEffect)(()=>{let y=B=>{Jn.current&&B.preventDefault()};return document.addEventListener("contextmenu",y),()=>document.removeEventListener("contextmenu",y)},[Jn]);let Zn=(0,h.useRef)(0);return!d||r?null:h.default.createElement(h.default.Fragment,null,g&&h.default.createElement(q,{sx:{width:"100vw",height:"100vh",position:"fixed",top:0,left:0,zIndex:2147483618,cursor:"grab"}}),h.default.createElement(q,{sx:{width:0,height:"100vh",position:"fixed",visibility:ka?"visible":"hidden",top:0,...U?{left:0}:{right:0},zIndex:2147483619,"--mini-button-height-wrapper":"36px","--mini-button-height":"32px","@media print":{display:"none !important"}}},h.default.createElement(_a.default,{disabled:!c,position:{x:0,y:i},bounds:{top:56,bottom:window.innerHeight-160,left:U?0:-window.innerWidth+48,right:U?window.innerWidth-48:0},axis:"both",scale:1,onStart:()=>{Zn.current=Date.now()},onStop:(y,B)=>{if(g){if(M.current){if(St.current=B.y<M.current/2,he.current=B.y,Te.current=M.current-B.y,Math.abs(B.x)>window.innerWidth/2){let D=B.x<0;jt(D),Mt(Qe,D)}Mt(Je,St.current),Mt(Ze,he.current),Mt(tn,Te.current)}Vn(B.y,!0),requestAnimationFrame(()=>{u(!1),p(!1)})}},onDrag:(y,B)=>{e?.(),Date.now()-Zn.current>90&&(p(!0),u(!0))}},h.default.createElement(q,{"data-testid":"quick-access-maxai-mini-button-main",sx:{position:"absolute",width:42,...U?{left:0}:{right:0},top:0,userSelect:"none"}},g?h.default.createElement(q,{sx:{cursor:"grab",width:"36px",height:"36px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:"text.primary",bgcolor:"background.paper",boxShadow:" 0px 0px 1px 0px rgba(0, 0, 0, 0.08), 0px 5px 25px 0px rgba(0, 0, 0, 0.04), 0px 3.2px 12px 0px rgba(0, 0, 0, 0.08)",transform:"translate(0, 37px)"}},h.default.createElement($,{sx:{transform:"translateX(-1px)"}})):h.default.createElement(ur,{onClickAway:()=>{u(!1),p(!1)}},h.default.createElement(x,{sx:{justifyContent:"center",width:"110px",height:"110px","--hover-outset-distance":"15px",...U?{borderRadius:"0 50% 50% 0",paddingRight:"var(--hover-outset-distance)",marginRight:"calc(-1 * var(--hover-outset-distance))",alignItems:"flex-end",float:"right"}:{borderRadius:"50% 0 0 50%",paddingLeft:"var(--hover-outset-distance)",marginLeft:"calc(-1 * var(--hover-outset-distance))"},transform:l||ln||sn||n?"translateX(0)":U?"translateX(-10px)":"translateX(10px)",transition:"0.1s all",...t?{outline:"1px solid red"}:{}},onMouseLeave:()=>{u(!1),m(!1)},onMouseEnter:()=>{u(!0),m(!0)},onClick:y=>{if(g)return;let B=document.elementsFromPoint(y.clientX,y.clientY);for(let D of B)if(D!==y.target&&D instanceof HTMLElement){let Ct=D,_e=!0;for(;Ct&&Ct!==document.body;){if(Ct.tagName.toLowerCase()==="max-ai-minimum-app"){_e=!1;break}Ct=Ct.parentElement}if(_e){D.click();return}}}},h.default.createElement(ua,{onMouseLeave:()=>{m(!1)},isDragging:g,isOnThePageLeft:U,aboveNode:h.default.createElement(x,{spacing:"4px",sx:{position:"absolute",...U?{left:"6px"}:{right:"6px"},bottom:"4px",alignItems:"flex-end",...t?{}:{}}},la.map(y=>jn(y.type)&&h.default.createElement(ce,{key:y.type,isDragging:g,isOnThePageLeft:U,...y}))),underNode:h.default.createElement(x,{spacing:"4px",sx:{position:"absolute",...U?{left:"6px"}:{right:"6px"},top:"4px",alignItems:"flex-end",...t?{}:{}}},Qn.map(y=>jn(y.type)&&h.default.createElement(ce,{key:y.type,isDragging:g,isOnThePageLeft:U,...y})))})))))))},ba=xs;var pt=f(_());var A=f(_());sr();lr();var Z=f(_()),xa=f(ye()),ys=(e,t)=>{let{container:n,customElementName:r,children:o}=e,a=(0,Z.useMemo)(()=>`${r.toLowerCase().replace(/_/g,"-")}-emotion-cache`,[r]),[i,s]=(0,Z.useMemo)(()=>{let u=document.createElement("customElements"in window?r:"div"),c=u.attachShadow({mode:"open"});return[u,c]},[r]);(0,Z.useEffect)(()=>{t&&(typeof t=="function"?t(i):"current"in t&&(t.current=i))},[t,i]);let l=(0,Z.useMemo)(()=>Ce({key:a,container:s,prepend:!0,speedy:!1}),[a,s]);return(0,Z.useEffect)(()=>{n?.insertAdjacentElement("beforeend",i)},[n,i,s,l,a]),n?(0,xa.createPortal)(Z.default.createElement(Ee,{value:l},o),s):null},ya=(0,Z.forwardRef)(ys);var xt=f(_());var ge={sceneType:"EMAIL_SUMMARY_BUTTON",id:"ONBOARDING_TOOLTIP__EMAIL_SUMMARY_BUTTON",anchorElementSelectors:['button[data-testid="maxai-gmail-summary-button"]','button[data-testid="maxai-outlook-summary-button"]'],CtaButtonClickedName:"Onboarding > EmailSummarizeButton > Got it"},Ss=e=>{let{showStateTrigger:t,...n}=e,{t:r}=b(),[o,a]=(0,xt.useState)(!1);return(0,xt.useEffect)(()=>{t?Ft(ge.sceneType).then(i=>{i||Ht(ge.sceneType).then(()=>{a(!0)})}):a(!1)},[t]),xt.default.createElement(Rt,{hideBackdrop:!0,sx:{visibility:"hidden"},placement:"bottom",fallbackPlacements:["left","right"],trigger:o,anchorElementSelectors:ge.anchorElementSelectors,CtaButtonProps:{"data-button-clicked-name":ge.CtaButtonClickedName},id:ge.id,footerLeft:xt.default.createElement(Ut,null),...n},xt.default.createElement(Pt,{fontSize:14,lineHeight:1.4,color:"text.primary",fontWeight:400,textAlign:"left"},r("onboarding:onboarding_tooltip__EMAIL_SUMMARY_BUTTON__text")))},nn=Ss;var Cs=()=>{let{t:e}=b(["client"]),t=Es(100),[n,r]=(0,A.useState)(null),[o,a]=(0,A.useState)(!1),i=Nt(t,{needCheckScrollParentsInInit:!1}),[s,l]=(0,A.useState)(!0);return t?A.default.createElement(A.default.Fragment,null,A.default.createElement(ya,{container:t,customElementName:"max-ai-gmail-summary-button",ref:u=>r(u?.shadowRoot)},A.default.createElement(q,{sx:{height:20,position:"relative",top:-8}},A.default.createElement(nt,{arrow:!0,PopperProps:{disablePortal:!0,sx:{"& > div":{maxWidth:"unset",width:"max-content"}}},title:e("client:sidebar__tabs__summary__tooltip__default_email")},A.default.createElement(et,{sx:{borderRadius:"18px",color:o?"#d6d6d6":"#444746",backgroundColor:"transparent","&:hover":{color:o?"white":"rgba(0, 0, 0, 0.87)",backgroundColor:o?"rgba(255,255,255,0.2)":"rgba(32,33,36,0.059)"}},startIcon:A.default.createElement($,{sx:{fontSize:16,color:o?"white":"rgba(0, 0, 0, 0.87)"}}),id:"page-summary-button","data-testid":"maxai-gmail-summary-button",variant:"contained",onClick:u=>{gt("maxai-gmail-summary-button",u.currentTarget),G("QuickAccessSummary",{pageSummaryType:tt()}),l(!1)}},e("client:social_media_summary_button__text"))))),n&&i&&A.default.createElement(nn,{showStateTrigger:s,anchorElementSelectorsRootContainer:n})):null};function Es(e){let[t,n]=(0,A.useState)(null);function r(){let a=document.querySelectorAll("div.nH > .einvLd");return Array.from(a).pop()}function o(){let a=document.querySelector("div.nH > div[jsaction].byY");if(!a)return null;let i=document.createElement("div");i.className="nH";let s=document.createElement("div");return s.className="einvLd",i.appendChild(s),a.insertAdjacentElement("afterend",i),s}return(0,A.useEffect)(()=>{let a=setInterval(()=>{n(r()||o())},e);return()=>{a&&clearInterval(a)}},[e,window.location.href]),t}var Sa=Cs;var O=f(_());sr();lr();var ct=f(_()),Ca=f(ye());var Is=e=>{let{rootContainer:t,customElementName:n,children:r,style:o,checkVisibility:a=!0,onSetContainer:i}=e,[s,l]=(0,ct.useState)(null),u=(0,ct.useRef)(null);return(0,ct.useEffect)(()=>{if(t&&!s){if(a&&!Ot(t))return;let c="customElements"in window,m=document.createElement(c?n:"div");o&&(m.style.cssText=o),t.insertBefore(m,t.firstChild);let g=m.attachShadow({mode:"open"}),p=document.createElement("style"),d=document.createElement("div");g.appendChild(p),g.appendChild(d);let T=String(n).toLowerCase().replace(/_/g,"-");u.current=Ce({key:`${T}-emotion-cache`,prepend:!0,container:p}),l(E=>(E&&E.getRootNode()?.host?.remove(),d))}else s&&!t&&l(null);return()=>{}},[t,s,n,a,o]),(0,ct.useEffect)(()=>{i&&s&&i(s)},[s,i]),!s||!u.current?null:(0,Ca.createPortal)(ct.default.createElement(Ee,{value:u.current},r),s)},Kt=Is;var K=f(_());var Ms=(e,t)=>{let[n,r]=(0,K.useState)(void 0),[o,a]=(0,K.useState)([]),{interval:i=1e3,style:s}=t||{};return(0,K.useEffect)(()=>{let l=setInterval(()=>{if(!n){let u=document.querySelectorAll(e);if(u.length>0){let c=Array.from(u).map(m=>(s&&m.setAttribute("style",s),m));a(c),r(c[0])}}},i);return()=>{l&&clearInterval(l)}},[e,i,n]),(0,K.useEffect)(()=>{let l=setInterval(()=>{if(n){if(Ot(n))return;r(void 0),a([])}},1e3);return()=>{l&&clearInterval(l)}},[n]),{elements:o,element:n}},rn=Ms,Ea=async(e,t=5e3,n=0)=>new Promise((o,a)=>{let i=e();if(i)o(i);else{if(n>t)return o(null);setTimeout(()=>o(Ea(e,t,n+500)),500)}}),Ia=e=>{let[t,n]=(0,K.useState)(null),r=(0,K.useRef)(null),o=(0,K.useRef)(null),a=(0,K.useRef)(!1),i=async()=>{if(a.current){try{let u=await Ea(e,1100);r.current=u,n(u)}catch{}o.current=setTimeout(()=>{i()},1e3)}},s=()=>{a.current||(a.current=!0,i())},l=()=>{o.current&&clearTimeout(o.current),a.current=!1};return(0,K.useEffect)(()=>(setTimeout(()=>s(),0),()=>{l()}),[]),{element:t}};var vs=()=>{let{t:e}=b(["client"]),{element:t}=rn('#ReadingPaneContainerId div[role="heading"]',{style:"display: flex;align-items: center;gap: 8px;"}),[n,r]=(0,O.useState)(null),[o,a]=(0,O.useState)(!1),i=Nt(t,{needCheckScrollParentsInInit:!1});(0,O.useEffect)(()=>{a(vr()==="dark")},[]);let[s,l]=(0,O.useState)(!0);return O.default.createElement(O.default.Fragment,null,O.default.createElement(Kt,{rootContainer:t,customElementName:"max-ai-outlook-summary-button",style:"order:1",onSetContainer:r},O.default.createElement(nt,{arrow:!0,placement:"bottom",PopperProps:{disablePortal:!0,sx:{"& > div":{maxWidth:"unset",width:"max-content"}}},title:e("client:sidebar__tabs__summary__tooltip__default_email")},O.default.createElement(et,{sx:{height:"28px",px:"9px",mr:1,borderRadius:"4px",color:o?"#d6d6d6":"#444746",backgroundColor:"transparent","&:hover":{color:o?"white":"rgba(0, 0, 0, 0.87)",backgroundColor:o?"rgba(255,255,255,0.2)":"rgba(32,33,36,0.059)"}},id:"page-summary-button","data-testid":"maxai-outlook-summary-button",variant:"contained",onClick:u=>{gt("maxai-outlook-summary-button",u.currentTarget),G("QuickAccessSummary",{pageSummaryType:tt()}),l(!1)}},O.default.createElement(x,{direction:"row",alignItems:"center",gap:1},O.default.createElement($,{sx:{fontSize:16,color:"inherit"}}),e("client:social_media_summary_button__text"))))),n&&i&&O.default.createElement(nn,{showStateTrigger:s,anchorElementSelectorsRootContainer:n}))},Ma=vs;var mt=f(_());var As=()=>{let{t:e}=b(["client"]),{element:t}=rn("#toolbarViewerRight"),[n,r]=(0,mt.useState)(null);return mt.default.createElement(Kt,{rootContainer:t,customElementName:"max-ai-pdf-summary-button",onSetContainer:r},mt.default.createElement(nt,{arrow:!0,PopperProps:{disablePortal:!0,sx:{"& > div":{maxWidth:"unset",width:"max-content"}}},title:e("client:sidebar__tabs__summary__tooltip__pdf_crx")},mt.default.createElement(et,{sx:{py:0,px:1,mr:1,mt:.5,borderRadius:"12px",border:"1px solid",backgroundColor:"transparent",color:"white",borderColor:"white","&:hover":{backgroundColor:"transparent",color:"white",borderColor:"white"}},variant:"contained",id:"page-summary-button","data-testid":"maxai-pdf-summary-button",onClick:o=>{gt("maxai-pdf-summary-button",o.currentTarget),G("QuickAccessSummary",{pageSummaryType:"PDF_CRX_SUMMARY"})}},mt.default.createElement(x,{direction:"row",alignItems:"center",gap:1},mt.default.createElement($,{sx:{fontSize:14,color:"inherit"}}),e("client:social_media_summary_button__text")))),n&&mt.default.createElement(Wr,{sceneType:"PDF_SUMMARY_BUTTON",container:n}))},va=As;var w=f(_());var yt=f(_());var fe={sceneType:"YOUTUBE_SUMMARY_BUTTON",id:"ONBOARDING_TOOLTIP__YOUTUBE_SUMMARY_BUTTON",anchorElementSelectors:'button[data-testid="maxai-youtube-summary-button"]',CtaButtonClickedName:"Onboarding > YoutubeSummarizeButton > Got it"},ws=e=>{let{showStateTrigger:t,...n}=e,{t:r}=b(),[o,a]=(0,yt.useState)(!1);return(0,yt.useEffect)(()=>{t?Ft(fe.sceneType).then(i=>{i||Ht(fe.sceneType).then(()=>{a(!0)})}):a(!1)},[t]),yt.default.createElement(Rt,{hideBackdrop:!0,sx:{visibility:"hidden"},placement:"left",fallbackPlacements:["right","bottom"],trigger:o,anchorElementSelectors:fe.anchorElementSelectors,CtaButtonProps:{"data-button-clicked-name":fe.CtaButtonClickedName},id:fe.id,footerLeft:yt.default.createElement(Ut,null),...n},yt.default.createElement(Pt,{fontSize:14,lineHeight:1.4,color:"text.primary",fontWeight:400,textAlign:"left"},r("onboarding:onboarding_tooltip__YOUTUBE_SUMMARY_BUTTON__text")))},Aa=ws;var on="max-ai-youtube-summary-button",Ls=()=>{let e=document.querySelector("ytd-watch-metadata div#title h1 yt-formatted-string");return e&&e.innerText?.length>0&&Ot(e)?e:null},Ps=()=>{let{t:e}=b(["client"]),{element:t}=Ia(Ls),[n,r]=w.default.useState(null),o=Nt(t,{needCheckScrollParentsInInit:!1}),[a,i]=w.default.useState(null),s=(0,w.useMemo)(()=>{switch(tt()){case"DEFAULT_EMAIL_SUMMARY":return"client:sidebar__tabs__summary__tooltip__default_email";case"PAGE_SUMMARY":return"client:sidebar__tabs__summary__tooltip__page";case"PDF_CRX_SUMMARY":return"client:sidebar__tabs__summary__tooltip__pdf_crx";case"YOUTUBE_VIDEO_SUMMARY":return"client:sidebar__tabs__summary__tooltip__youtube_video__page_button";default:return"client:sidebar__tabs__summary__tooltip__page"}},[window.location.href]),l=!!document?.documentElement.hasAttribute("dark");(0,w.useEffect)(()=>{let m=null;if(t){let g=document.querySelector(`.${on}`)??document.createElement("div");if(g.className=on,g.style.cssText=`
          display: flex;
          align-items: center;
          justify-content: start;
          margin-left: auto;
          flex-shrink: 0;
        `,g.parentNode===t.parentNode){r(g);return}m=setTimeout(()=>{let p=t.parentNode;p&&(p.style.cssText+="display: flex;align-items: center;gap: 8px;",t.parentNode?.append(g)),r(g)},0)}else Array.from(document.querySelectorAll(`.${on}`)).filter(p=>{p.remove()}),r(null);return()=>{m&&clearTimeout(m)}},[t]);let[u,c]=(0,w.useState)(!0);return n?w.default.createElement(w.default.Fragment,null,w.default.createElement(Kt,{checkVisibility:!1,customElementName:on,rootContainer:n,onSetContainer:i},w.default.createElement(nt,{arrow:!0,PopperProps:{disablePortal:!0},title:e(s),placement:"left"},w.default.createElement(et,{id:"page-summary-button","data-testid":"maxai-youtube-summary-button",onClick:m=>{gt("maxai-youtube-summary-button",m.currentTarget),G("QuickAccessSummary",{pageSummaryType:tt()}),c(!1)},sx:{maxHeight:"36px",borderRadius:"18px",backgroundColor:l?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",color:l?"#f1f1f1":"#0f0f0f","&:hover":{backgroundColor:l?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.1)",color:l?"#f1f1f1":"#0f0f0f"}},variant:"contained",startIcon:w.default.createElement($,{sx:{fontSize:16,color:"inherit"}})},e("client:youtube_summary_button__text")))),a&&o&&w.default.createElement(Aa,{sx:{zIndex:1e4,visibility:"hidden"},showStateTrigger:u,anchorElementSelectorsRootContainer:a})):null},wa=Ps;var Os=()=>{let{userSettings:e}=R(),[t]=(0,pt.useState)(X);return pt.default.createElement(pt.default.Fragment,null,e?.summarizeButton?.gmail&&t==="mail.google.com"&&pt.default.createElement(Sa,null),e?.summarizeButton?.youtube&&t==="youtube.com"&&pt.default.createElement(wa,null),e?.summarizeButton?.pdf&&wr()&&pt.default.createElement(va,null),e?.summarizeButton?.outlook&&(t==="outlook.live.com"||t==="outlook.office.com"||t==="outlook.office365.com")&&pt.default.createElement(Ma,null))},La=Os;var j=f(_());var an=f(_());var ks=()=>{let{toggleTranslation:e}=J(),t=(0,an.useRef)(e);return(0,an.useEffect)(()=>{t.current=e},[e]),Le(async(n,r)=>{switch(n){case"Client_togglePageTranslator":return t.current(),{success:!0,data:{},message:""}}}),null},Pa=ks;var Ns=()=>{let{setAppSettingsState:e}=R(),{getLocalSettings:t}=Er(),{isLogin:n}=kt(),{syncBetaFeatures:r,clearBetaFeatures:o}=Nr();Br(()=>{o()});let a=(0,j.useRef)(!1);return(0,j.useEffect)(()=>{if(n){if(a.current)return;a.current=!0,r().then().catch()}},[n]),Fr(),(0,j.useEffect)(()=>{let i=async()=>{let s=await Or();s&&e({...s}),t()};return i(),window.addEventListener("focus",i),()=>{window.removeEventListener("focus",i)}},[]),j.default.createElement(j.default.Fragment,null)},Bs=()=>(Ar(),Ur(),Cr(!1),Lr("minimum"),Pa(),j.default.createElement(j.default.Fragment,null,j.default.createElement(Ns,null),j.default.createElement(Pr,null))),Oa=Bs;var Ds=()=>{let{userSettings:e,setUserSettings:t}=R(),[n,r]=(0,k.useState)(!1),{isLogin:o}=kt(),a=(0,k.useRef)(()=>{});It(()=>{let c=setInterval(()=>{let g=document.querySelector(`#${ir}`),p=new MutationObserver(d=>{d.forEach(T=>{if(T.type==="attributes"){let E=T.target?.classList?.contains("open");r(E||!1)}})});g&&(clearInterval(c),p.observe(g,{attributes:!0}))},500),m=({data:g})=>{let{event:p,data:d}=g;p===qr&&d.open&&(r(d.open),window.removeEventListener("message",m))};window.addEventListener("message",m)});let i=(0,k.useMemo)(()=>{let c=e?.quickAccess?.visibility;return c?!c.isWhitelistMode&&yr(c):!0},[t,e]),s=k.default.useMemo(()=>{let c=[`${Qt}/login/email`,`${Qt}/login/google`,`${Qt}/auth`,"https://accounts.google.com/o/oauth2","https://checkout.stripe.com/"];return typeof window<"u"&&c.find(m=>window.location.href.startsWith(m))?!1:i&&!n},[i,n]),l=k.default.useMemo(()=>{if(s){let c=X();return c==="app.maxai.me"||c==="accounts.google.com"&&location.pathname.startsWith("/o/oauth2")?o:!0}},[o,s]),u=(0,k.useMemo)(()=>!(n||Qt.includes(location.host)),[n]);return k.default.createElement(Dr,null,k.default.createElement(Oa,null),s&&k.default.createElement(ba,{onDrag:()=>{a.current()}}),k.default.createElement(La,null),u&&k.default.createElement(zr,{updateRef:a,showStateTrigger:l}))},_g=Ds;export{_g as default};
