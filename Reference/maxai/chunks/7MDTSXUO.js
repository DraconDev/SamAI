import{a as H}from"./4JH5L7TP.js";import{a as S}from"./IR2EOPWG.js";import{a as O,b as D,c as U}from"./YYNJ5ORL.js";import"./BTVCBEO2.js";import{e as T,g as y,i as x,k as C,m as M,o as _,p as A}from"./D4QXYMFG.js";import"./ZU7VWBA5.js";import{a as N}from"./JJYFTZZZ.js";import{a as $}from"./O3PGOLSM.js";import"./DQJU6P5N.js";import"./F6B4GLR5.js";import"./WZACKIKL.js";import{a as F}from"./QDA27QWI.js";import{a as j}from"./4ZAQU4SR.js";import{b as v}from"./GEQQUCT3.js";import"./RVPFLFJI.js";import"./BJ6OZ2RR.js";import"./LU2HGRXL.js";import{a as L}from"./QAN7YQ5O.js";import"./7ETG7F5K.js";import"./K3RX6V6Z.js";import"./QPKKGBHL.js";import"./WOMY7LQF.js";import"./DXFQZN2P.js";import"./4L3TOTPW.js";import"./K5PYBOWW.js";import"./NVWM5Y2A.js";import"./JIAFCUZI.js";import"./APRT2ZHQ.js";import"./W4INSQR4.js";import"./KOAEEWKV.js";import"./DXJBONGG.js";import"./NW2F2GVH.js";import"./CBDTKGC6.js";import"./6IAOONHC.js";import"./XCJRDUIT.js";import"./Y2RTU6FS.js";import"./IE6X6P55.js";import"./HLAVUWHF.js";import"./F3AKZR3O.js";import"./BJ6PO45I.js";import"./Y6DWXSB3.js";import"./HFXK7G4X.js";import{a as E,b as q,c as b,d as K,la as w}from"./URK6S63I.js";import"./GJU7DMEZ.js";import"./PCHDBHHN.js";import"./VT4ATK36.js";import{a as V}from"./HPHM72CW.js";import"./ABK4JG3U.js";import{b as R}from"./27O46L5C.js";import{g as B}from"./NVNEBEEL.js";import{a as P}from"./DIGZHHNW.js";import"./Y34OKDQ4.js";import"./3JI2HIGL.js";import"./F5AXRJSB.js";import"./27G4S2R3.js";import"./JDSHOLU5.js";import{a as k}from"./HFEXSQX6.js";import"./QS33EOHT.js";import"./3M3IYJ36.js";import"./DKMNSB2V.js";import{M as I,z as g}from"./WINLMBYH.js";import"./HKBWT4XT.js";import"./NO5PF2KS.js";import"./UB52WFCV.js";import{a as h}from"./4B6UFNBQ.js";import{a as Q}from"./PJ57C2TE.js";import{f as p}from"./GAV6HCJA.js";q();K();var i=p(h()),z=p(j());var G=p(Q());var o=p(h());var l=y(document.contentType),d=T(document.contentType),u=x(document.contentType),f=M(document.contentType),Y=_(window.location.href),Z=()=>{if(l)return"image";if(d)return"audio";if(u)return"video";if(f)return"chat_file_code";if(Y)return"chat_file_markdown"},ee=()=>{let[a,t]=(0,o.useState)("light");return(0,o.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)");function n(){return f||C(document.contentType)?e.matches?"dark":"light":l||d||u?"dark":V()||"dark"}t(n());let r=m=>{t(n())};return e.addEventListener("change",r),()=>{e.removeEventListener("change",r)}},[]),{theme:a}},oe=()=>{U(),F(),N();let{t:a}=I(["client"]),{theme:t}=ee(),e=t==="dark",n=(0,o.useMemo)(()=>e?d||u?"#000":l?"#0e0e0e":"#121212":"rgba(255, 255, 255, 1)",[e]),[r,m]=(0,o.useState)(!1);return o.default.createElement($,{arrow:!0,placement:"left",PopperProps:{disablePortal:!0,sx:{"& > div":{maxWidth:"unset",width:"max-content"}}},title:a("client:social_media_summary_button__tooltip")},o.default.createElement(D,{loading:r,sx:{position:"fixed",top:f?"44px":"24px",right:"24px",height:"44px",borderRadius:"9999px",padding:"6px 16px",backgroundColor:n,...!e&&{color:"#000"},[`& .${O.loadingIndicator}`]:{...!e&&{color:"#000"}},"&:hover":{backgroundColor:"rgba(65, 70, 73, 1)",...!e&&{backgroundColor:"#e8e8e8"}},"@media print":{display:"none !important"}},onClick:async s=>{m(!0);let c={local_pdf:"maxai-pdf-summary-button",local_image:"maxai-image-summary-button",local_video:"maxai-video-summary-button",local_audio:"maxai-audio-summary-button",local_text:"maxai-textfile-summary-button"}[A(window.location.href)];c&&H(c,s.currentTarget,void 0,{send_immediately:!0}),setTimeout(()=>{B({key:"app_upload_file",query:`?fileUrl=${encodeURIComponent(window.location.href)}&fileType=${Z()||""}&newTab=false`}),m(!1)},300)}},o.default.createElement(L,{sx:{fontSize:"23px",mr:"8px",...!e&&{color:"#000"},...r&&{opacity:0}}}),o.default.createElement(w,{fontSize:"16px"},a("client:social_media_ask_ai_button__text"))))},W=oe;var te=String(k).toLowerCase().replace(/_/g,"-"),X="MAXAI_MEDIA_TOOLS_CONTAINER_ID";function J(){document.body.style.minHeight="90vh";let a=R(),t=document.createElement(a?"maxai-media-tools":"div");t.id=X,t.setAttribute("data-version",P),document.body.appendChild(t);let e=t.attachShadow({mode:"open"}),n=document.createElement("style"),r=document.createElement("div");e.appendChild(n),e.appendChild(r);let m=E({key:`${te}-emotion-cache`,prepend:!0,container:n}),s=(0,z.createRoot)(r);S.addProtectedRoot({rootId:X,reactRoot:s,renderFn:J});let c=setInterval(()=>{G.default.storage.local.get("PING").catch(re=>{clearTimeout(c),s.unmount()})},2e3);s.render(i.default.createElement(i.default.StrictMode,null,i.default.createElement(g,null,i.default.createElement(b,{value:m},i.default.createElement(v,{colorMode:"dark",popupContainer:r},i.default.createElement(W,null))))))}J();
