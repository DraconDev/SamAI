import{a as z}from"./B27XRB3X.js";import{a as w}from"./DNC6SQVP.js";import{c as W}from"./2WYRGMZA.js";import{q as N}from"./PRI4DNE5.js";import"./LIH4LVLA.js";import"./3MCB6OT2.js";import"./72XNZIFC.js";import"./FAXKEQHZ.js";import"./TJJA7WJ7.js";import"./WZACKIKL.js";import"./QDA27QWI.js";import"./GEQQUCT3.js";import"./RVPFLFJI.js";import"./LU2HGRXL.js";import"./QAN7YQ5O.js";import"./7ETG7F5K.js";import"./K3RX6V6Z.js";import"./QPKKGBHL.js";import"./4L3TOTPW.js";import"./K5PYBOWW.js";import"./KOAEEWKV.js";import"./DXJBONGG.js";import"./NW2F2GVH.js";import"./CBDTKGC6.js";import{f as A}from"./XCJRDUIT.js";import{b}from"./Y2RTU6FS.js";import{m as E,s as P}from"./IE6X6P55.js";import"./HLAVUWHF.js";import"./F3AKZR3O.js";import"./BJ6PO45I.js";import"./Y6DWXSB3.js";import{b as Q}from"./HFXK7G4X.js";import{na as T}from"./URK6S63I.js";import"./GJU7DMEZ.js";import"./PCHDBHHN.js";import"./RFIQSMEX.js";import"./3JI2HIGL.js";import{C as O,H as k,I as S,M as u,c as F}from"./F5AXRJSB.js";import"./27G4S2R3.js";import"./JDSHOLU5.js";import"./3M3IYJ36.js";import"./DKMNSB2V.js";import{M as y,b as m}from"./WINLMBYH.js";import"./HKBWT4XT.js";import{o as I,s as v,u as c}from"./NO5PF2KS.js";import"./UB52WFCV.js";import{a as d}from"./4B6UFNBQ.js";import"./PJ57C2TE.js";import{f as s}from"./GAV6HCJA.js";var C=s(d());var o=s(d()),Y=p=>{let{value:a,syncChangeAILanguage:r,unmountTriggerChange:L,onChange:U,onChanged:h,onSyncToServer:q,sx:$,...D}=p,_=F(),{userSettings:V,setUserSettings:X,loaded:j}=u(),{collapsed:x}=W(),f=U||(async e=>{t.current.isTriggerChange=!0;let i=await O.isLogin(),l="";r&&(l=v.find(K=>m.isEqualLanguage(K,e))?.value),await X(l?{preferredLanguage:S(e),language:l}:{preferredLanguage:S(e)},{onSyncToServer:()=>{q?.(e),i&&h?.(e)}}),i||h?.(e)}),H=I&&typeof _.query.locale=="string"?_.query.locale:"",g=k(H||a||(j?V?.preferredLanguage:"")||""),J=x?{width:32,height:32,padding:"6px","& > p":{display:"none"}}:{},t=(0,o.useRef)({isTriggerChange:!1,unmountTriggerChange:L,onChange:f,currentLanguage:g});return t.current.unmountTriggerChange=L,t.current.onChange=f,t.current.currentLanguage=g,(0,o.useEffect)(()=>()=>{if(!t.current.unmountTriggerChange||t.current.isTriggerChange)return;let e=c.find(i=>i.value===g);e&&(m.saveUsageLanguage(e),t.current.onChange(e.value))},[]),o.default.createElement(w,{labelMaxWidth:100,sx:{p:1,maxWidth:"unset",bgcolor:"transparent","&:hover":{bgcolor:e=>e.palette.mode==="dark"?"#ffffff14":"#E9E9EB"},...J,...$},options:c,value:g,onChange:f,...x?{startIcon:o.default.createElement(N,{icon:"Language",sx:{fontSize:"18px",mx:"4px"}}),endIcon:null}:{},...D})},B=Y;var G=s(Q()),n=s(d());var Z=()=>{let{userSettings:p}=u(),{t:a}=y(["settings","common","prompt"]);return n.default.createElement(z,{title:a("settings:feature_card__preferred_language__title"),id:"ai-preferred-language"},n.default.createElement(E,{sx:{bgcolor:r=>r.palette.mode==="dark"?"rgb(32, 33, 36)":"rgb(255,255,255)",p:"0 !important",borderRadius:"4px",border:r=>r.palette.mode==="dark"?"1px solid rgba(255, 255, 255, 0.12)":"1px solid rgba(0, 0, 0, 0.12)"}},n.default.createElement(A,null,n.default.createElement(P,{primary:a("settings:feature_card__preferred_language__field_preferred_language_title"),secondary:a("settings:feature_card__preferred_language__field_preferred_language_description")}),p&&n.default.createElement(B,{labelMaxWidth:100,sx:{px:1.5,py:1,maxWidth:"unset",bgcolor:"transparent","&:hover":{bgcolor:r=>r.palette.mode==="dark"?"#3B3D3E":"#E9E9EB"},[`& .${b.endIcon} .${G.svgIconClasses.root}`]:{fontSize:20}},popoverProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}}}))))},M=Z;var R=()=>C.default.createElement(T,{spacing:1},C.default.createElement(M,null)),Te=R;export{Te as default};
