import{a as Pt,c as Xd,d as $d,e as oa}from"./KNHMBNA7.js";import{a as fm}from"./SGC75SOE.js";import{b as Ed,d as Nn}from"./GLUVJUTU.js";import{$a as Ne,$b as Vd,N as Ao,Q as ol,Qa as Ad,Qb as Fd,R as LS,S as ea,Sa as Ld,T as _d,Ta as Rd,U as Fn,V as Od,W as kd,Wa as Nd,X as Dd,Y as Pd,Ya as ta,c as ad,hc as Bd,ic as Wt,o as AS,q as Po,r as Td,s as wd,x as Id}from"./DP6NKKZS.js";import{b as Zi}from"./2WYRGMZA.js";import{j as sd}from"./EVCDN77N.js";import{q as Re}from"./PRI4DNE5.js";import{a as RS}from"./ZRYDJGAJ.js";import{a as cm}from"./UAB7UEHC.js";import{j as nd}from"./3T6N3UXS.js";import{g as Jp,h as ed,j as Or,p as Dt}from"./KSVMQXXA.js";import{h as Xi}from"./F5E7GPVZ.js";import{b as Up}from"./BGNVWJOE.js";import{d as Gt}from"./QDA27QWI.js";import{h as on}from"./BJ6OZ2RR.js";import{a as td,b as rd}from"./QAN7YQ5O.js";import{a as PS}from"./7ETG7F5K.js";import{g as Bp}from"./K3RX6V6Z.js";import{a as nn}from"./QPKKGBHL.js";import{a as Ip,g as _p,k as Ap}from"./WOMY7LQF.js";import{c as Mp}from"./K5PYBOWW.js";import{f as ko}from"./W4INSQR4.js";import{c as Lp,f as Vp}from"./KOAEEWKV.js";import{_ as Fp}from"./DXJBONGG.js";import{f as Np}from"./XCJRDUIT.js";import{e as lr}from"./Y2RTU6FS.js";import{m as Rp,p as qi,s as Ki}from"./IE6X6P55.js";import{c as We}from"./BJ6PO45I.js";import{h as _r,la as Ce,na as de}from"./URK6S63I.js";import{a as rn}from"./PCHDBHHN.js";import{a as No,b as fl,c as la,d as pl}from"./B5IQJ4CT.js";import{A as am,B as Hn,C as cl,D as ua,E as sm,F as um,H as lm,b as Qd,c as Vn,d as st,e as ia,f as Zd,g as aa,h as sl,i as Ro,j as Jd,k as sa,l as ul,m as ll,n as Bn,o as em,p as tm,x as nm,y as om,z as im}from"./3RZ46UQL.js";import{a as rm}from"./ZES4ZAHH.js";import{w as Md}from"./JK5JXJMM.js";import{F as Kd,G as Yd,J as na,b as be,d as Hd,i as ra,j as il,p as zd,s as Lo,t as Ud,u as jd,v as al,w as Gd,x as Wd}from"./6DSWP2JT.js";import{a as qd}from"./N5EAU2XY.js";import{c as Rn,d as Ji}from"./454JMIH7.js";import{b as kr}from"./MS4OBPZZ.js";import{a as Op,b as kp,c as Dp,d as Pp,f as ud,g as nl,h as ld,i as cd,j as fd,k as pd,l as dd,m as md,n as hd,o as gd,p as vd,q as xd,r as yd,s as bd,t as Sd,u as Cd}from"./RFIQSMEX.js";import{c as Qp,g as Zp}from"./IKVWN3LL.js";import{a as $i}from"./ABK4JG3U.js";import{a as Qi,c as id,e as rt}from"./NVNEBEEL.js";import{b as jp,c as Gp,f as Wp,k as rl}from"./DIGZHHNW.js";import{a as od}from"./3JI2HIGL.js";import{G as $p,M as cr}from"./F5AXRJSB.js";import{ja as zp,k as Hp}from"./27G4S2R3.js";import{H as Xp,e as Do,h as qp,v as Kp,w as Yp,z as Yi}from"./JDSHOLU5.js";import{c as Tp,f as wp,h as Oo,j as Ln}from"./HFEXSQX6.js";import{y as Sp}from"./3M3IYJ36.js";import{A as xt,B as bp,C as An,E as ye,F as et,G as at,I as ie,J as Cp,L as Wi,M as Me,c as xp,k as ji,la as ur,o as yp}from"./WINLMBYH.js";import{n as Gi,t as Ep,x as tt}from"./HKBWT4XT.js";import{J as Ui,S as gp,m as Ir,zb as Mr}from"./NO5PF2KS.js";import{a as R}from"./4B6UFNBQ.js";import{a as vp}from"./PJ57C2TE.js";import{c as kt,d as hp,f as P}from"./GAV6HCJA.js";var sw=kt(Ha=>{"use strict";"use client";var ow=rn();Object.defineProperty(Ha,"__esModule",{value:!0});Ha.default=void 0;var iw=ow(nn()),aw=_r(),$2=Ha.default=(0,iw.default)((0,aw.jsx)("path",{d:"M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2m0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2m6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5M19 3l-6 6 2 2 7-7V3z"}),"ContentCutOutlined")});var xg=kt(za=>{"use strict";"use client";var lw=rn();Object.defineProperty(za,"__esModule",{value:!0});za.default=void 0;var cw=lw(nn()),fw=_r(),tH=za.default=(0,cw.default)((0,fw.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator")});var yg=kt(Ua=>{"use strict";"use client";var pw=rn();Object.defineProperty(Ua,"__esModule",{value:!0});Ua.default=void 0;var dw=pw(nn()),mw=_r(),nH=Ua.default=(0,dw.default)((0,mw.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 13.5L7.5 11l1.42-1.41L12 12.67l3.08-3.08L16.5 11z"}),"ExpandCircleDown")});var Rv=kt(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});function Zw(e){var t={};return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}zc.default=Zw});var Nv=kt(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});function Jw(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var eI=Jw(Rv()),tI=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,rI=eI(function(e){return tI.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});Uc.default=rI});var Eb=kt((yK,Cb)=>{function Uf(e,t,r){var n,o,i,a,s;t==null&&(t=100);function u(){var c=Date.now()-a;c<t&&c>=0?n=setTimeout(u,t-c):(n=null,r||(s=e.apply(i,o),i=o=null))}var l=function(){i=this,o=arguments,a=Date.now();var c=r&&!n;return n||(n=setTimeout(u,t)),c&&(s=e.apply(i,o),i=o=null),s};return l.clear=function(){n&&(clearTimeout(n),n=null)},l.flush=function(){n&&(s=e.apply(i,o),i=o=null,clearTimeout(n),n=null)},l}Uf.debounce=Uf;Cb.exports=Uf});var x0=kt((TX,v0)=>{"use strict";v0.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;o--!==0;){var a=i[o];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}});var TS=kt(Xu=>{"use strict";"use client";var ZO=rn();Object.defineProperty(Xu,"__esModule",{value:!0});Xu.default=void 0;var JO=ZO(nn()),ek=_r(),KQ=Xu.default=(0,JO.default)((0,ek.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight")});var wS=kt($u=>{"use strict";"use client";var tk=rn();Object.defineProperty($u,"__esModule",{value:!0});$u.default=void 0;var rk=tk(nn()),nk=_r(),XQ=$u.default=(0,rk.default)((0,nk.jsx)("path",{d:"M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.41L5.83 13H21V7z"}),"KeyboardReturn")});var hk=kt(Zu=>{"use strict";"use client";var pk=rn();Object.defineProperty(Zu,"__esModule",{value:!0});Zu.default=void 0;var dk=pk(nn()),mk=_r(),aJ=Zu.default=(0,dk.default)((0,mk.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown")});var yk=kt(Ju=>{"use strict";"use client";var gk=rn();Object.defineProperty(Ju,"__esModule",{value:!0});Ju.default=void 0;var vk=gk(nn()),xk=_r(),uJ=Ju.default=(0,vk.default)((0,xk.jsx)("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp")});var pm=xt({key:"DevContentState",default:{quickAccess:{showAuxiliaryLine:!1,alwaysShowTooltip:!1,alwaysExpandAllButtons:!1},chatWithImage:{alwaysShowButton:!1}}});var dm=()=>{let[e,t]=et(pm);return{IS_MAXAI_DEBUG:Ir,devContentState:e,updateDevContentState:n=>{t(o=>({...o,...n}))}}},Ik=()=>{let{devContentState:e,updateDevContentState:t}=dm(),r=n=>{t({quickAccess:{...e.quickAccess,...n}})};return{devShowAuxiliaryLine:Ir&&e.quickAccess.showAuxiliaryLine,devAlwaysShowTooltip:Ir&&e.quickAccess.alwaysShowTooltip,devAlwaysExpandAllButtons:Ir&&e.quickAccess.alwaysExpandAllButtons,updateQuickAccessDevContent:r}},mm=()=>{let{devContentState:e,updateDevContentState:t}=dm(),r=n=>{t({chatWithImage:{...e.chatWithImage,...n}})};return{devAlwaysShowButton:Ir&&e.chatWithImage.alwaysShowButton,updateChatWithImageDevContent:r}};var ca=P(R()),hm=P(R()),gm=P(R()),NS=(e,t={})=>{let{immediate:r=!1,autoStopWhenFound:n=!1}=t,[o,i]=(0,hm.useState)(null),a=(0,ca.useRef)(null),s=(0,ca.useRef)(null),u=(0,ca.useRef)(!1),l=async()=>{if(u.current){try{let p=await Sp(e,1100);if(p!==a.current&&(a.current=p,i(p)),n&&p){f();return}}catch{}s.current=setTimeout(()=>{l()},1e3)}},c=()=>{setTimeout(()=>{u.current||(u.current=!0,l())},0)},f=()=>{s.current&&clearTimeout(s.current),u.current=!1};return(0,gm.useEffect)(()=>(r&&c(),()=>{f()}),[]),{element:o,startPolling:c,stopPolling:f}},vm=NS;var qe=P(R()),FS=e=>{let{anchorElementSelectors:t,anchorElementSelectorsRootContainer:r,trigger:n,children:o,ctaButtonText:i,onClose:a,onShow:s,onCTAButtonClick:u,CtaButtonProps:l,footerLeft:c,placement:f="left",arrow:p=!0,hideCTAButton:d=!1,keepPollingCheckAnchorEl:m=!1,autoCloseOnMouseDownAndUp:h=!1,autoCloseOnClick:x=!1,...g}=e,{t:b}=Me(),[S,T]=qe.default.useState(!1),w=Xi(),v=(0,qe.useMemo)(()=>i||b("package__features:onboarding__onboarding_popover__cta_button__got_it"),[b,i]),E=(0,qe.useCallback)((L,W)=>{T(!1),a&&a(L,W)},[a]);(0,qe.useEffect)(()=>{typeof n=="function"?n().then(L=>{T(L),L&&s&&s()}):(T(n),n&&s&&s())},[n]);let M=()=>{let L=r||w,W;return Array.isArray(t)?t.find($=>W=L?.querySelector($)):W=L?.querySelector(t),W},{element:I,startPolling:k,stopPolling:F}=vm(M,{autoStopWhenFound:!m});(0,qe.useEffect)(()=>{S?k():F()},[S]);let[H,A]=(0,qe.useState)(!0),N=Xp(S);return(0,qe.useEffect)(()=>{if(!I||!h||!N.current)return;let L=!1,W=()=>{L=!0,A(!1)},$=()=>{L&&A(!0)};return I.addEventListener("mousedown",W),I.addEventListener("mouseup",$),window.addEventListener("mouseup",$),window.addEventListener("contextmenu",$,!0),()=>{I.removeEventListener("mousedown",W),I.removeEventListener("mouseup",$),window.removeEventListener("mouseup",$),window.removeEventListener("contextmenu",$,!0)}},[I,h,N]),(0,qe.useEffect)(()=>{if(!I||!x||!N.current)return;let L=()=>{E(null,"escapeKeyDown")};return I.addEventListener("click",L),()=>{I.removeEventListener("click",L)}},[I,x,E,N]),o?qe.default.createElement(Zi,{key:H?"open":"close",arrow:p,...g,open:S,placement:f,anchorEl:I,onClose:E,arrowSx:{visibility:H?"visible":"hidden"},PaperProps:{sx:{maxWidth:320,display:"flex",flexDirection:"column",boxSizing:"border-box",visibility:H?"visible":"hidden",gap:2,p:2,...g.PaperProps?.sx}}},o,qe.default.createElement(de,{direction:"row",justifyContent:"flex-end",spacing:1,sx:{"&:empty":{display:"none"}}},c,!d&&qe.default.createElement(lr,{...window.location.hostname==="mail.google.com"?{ref:L=>{L&&L.removeAttribute("tabindex")},component:"span"}:{},variant:"contained",...l,sx:{padding:"10px 12px",fontSize:"14px",lineHeight:"20px",fontWeight:500},onClick:L=>{u&&u(L),E(L,"escapeKeyDown")}},v))):null},Vk=FS;var xm=P(R());var VS=()=>{(0,xm.useEffect)(()=>{let e=new Qi,t=()=>{let r=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;e.postMessage({event:"Client_updateIcon",data:{mode:r?"dark":"light"}})};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t),t(),()=>{window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",t),e?.destroy()}},[])};var dl=P(R());var La=P(R());var ml=class{constructor(){this.pending=new Map}async send(t,r,n=5*1e3){let o=ji(),i={...r,uuid:o};return new Promise((a,s)=>{let u=setTimeout(()=>{this.pending.delete(o),a(void 0)},n);this.pending.set(o,l=>{clearTimeout(u),a(l)}),window.dispatchEvent(new CustomEvent(t,{detail:i}))})}receive(t,r){let n=async o=>{if(o instanceof CustomEvent&&o.detail&&o.detail.uuid){let{uuid:i,...a}=o.detail,s,u=r(a);if(u instanceof Promise?s=await u:s=u,s===void 0)return;let l=this.pending.get(i);l&&(l(s),this.pending.delete(i))}};return window.addEventListener(t,n),()=>{window.removeEventListener(t,n)}}},ym=new ml;var BS=bp({key:"FloatingContextMenuPinSelector",get(e){return e.get(zp).sidebarSettings?.contextMenu?.isPinned}}),Fo=()=>{let{setLocalSettings:e}=Gt();return{floatingDropdownMenuPin:ye(BS),setFloatingDropdownMenuPin:async n=>{await e({sidebarSettings:{contextMenu:{isPinned:n}}})}}};var _e=P(R()),gl={"/rewrite":"textSelectPopupButton","/art":null,"/compose_reply":"inputAssistantComposeReplyButton","/refine_draft":"inputAssistantRefineDraftButton","/compose_new":"inputAssistantComposeNewButton","/my_own_tools":null},HS=e=>{let{sx:t}=e,{t:r}=Me(),{contextMenuPath:n}=Ne(),o=n?gl[n]:null,{buttonSettings:i,updateButtonSettings:a}=oa(),s=Xi(),[u,l]=(0,_e.useState)(!1),c=_e.default.useRef(null),f=(0,_e.useMemo)(()=>o&&i&&i[o]&&i[o].contextMenuPosition||"start",[i,o]),p=async d=>{if(o&&i?.[o]){let m=tt(i[o]);m.contextMenuPosition=d,await a(o,m),l(!1)}};return o?_e.default.createElement(de,{sx:{padding:"10px 12px",flexShrink:0,borderBottom:"1px solid",borderColor:"border.main",gap:"8px",...t},direction:"row",alignItems:"center"},_e.default.createElement(lr,{ref:c,sx:{padding:"4px",borderRadius:d=>d.spacing(1),bgcolor:d=>d.palette.mode==="dark"?"#3B3D3E":"#E9E9EB",height:"100%",width:"132px",display:"flex",alignItems:"center",justifyContent:"space-between"},disableRipple:!0,onClick:()=>{l(!u)}},_e.default.createElement(Ce,{mx:.5,fontSize:14,lineHeight:1.4,color:"text.primary",textAlign:"left",sx:{userSelect:"none"}},r(f==="start"?"package__features:context_menu__lite_editor__position_settings__label__start":"package__features:context_menu__lite_editor__position_settings__label__end")),_e.default.createElement(Re,{icon:"ExpandMore",sx:{color:"text.secondary",fontSize:"16px"}})),_e.default.createElement(Bp,{sx:{maxWidth:320},title:_e.default.createElement(de,{padding:"4px",gap:"8px"},_e.default.createElement("img",{width:288,src:Hp("/images/context-menu/built-in-tools-position.png"),alt:"built-in-tools-position.png"}),_e.default.createElement(Ce,{fontSize:"14px",fontWeight:400,textAlign:"left",color:"#fff"},r("package__features:context_menu__lite_editor__position_settings__tooltip__description")))},_e.default.createElement(Ce,{sx:{fontSize:"12px",fontWeight:400,textAlign:"left",color:d=>d.palette.mode==="dark"?"rgba(255,255,255,0.38)":"rgba(0,0,0,0.38)",display:"flex",alignItems:"center",gap:"4px"}},r("package__features:context_menu__lite_editor__position_settings__tooltip"),_e.default.createElement(Re,{icon:"HelpOutline",sx:{fontSize:"14px",color:"inherit"}}))),_e.default.createElement(Zi,{anchorEl:c.current,disablePortal:!0,container:s,onClose:()=>{l(!1)},open:u,placement:"bottom-start",fallbackPlacements:["top-start"]},_e.default.createElement(Fp,null,_e.default.createElement(ko,{selected:f==="start",onClick:()=>{p("start")},sx:{fontSize:"14px"}},r("package__features:context_menu__lite_editor__position_settings__label__start")),_e.default.createElement(ko,{onClick:()=>{p("end")},selected:f==="end",sx:{fontSize:"14px"}},r("package__features:context_menu__lite_editor__position_settings__label__end"))))):null},bm=HS;var vl=P(R()),xl=e=>{switch(e){case"/rewrite":return ed;case"/compose_new":return Qp;case"/refine_draft":return Jp;case"/compose_reply":return Zp;case"/my_own_tools":return[];case"/art":return[];default:return[]}},US=(e,t)=>{let{contextMenuPath:r}=Ne(),n=t||r||"",{buttonSettings:o}=oa(),i=(0,vl.useMemo)(()=>{if(n){let s=gl[n];if(s&&o)return o?.[s]?.contextMenuPosition||"start"}return"start"},[o,n]);return{presetLiteContextMenuList:(0,vl.useMemo)(()=>{if(n){let s=tt(xl(n)).map(p=>(p.display_order+=i==="start"?1e4:-1e4,p)),u=s.find(p=>p.prompt_id==="30f27496-1faf-4a00-87cf-b53926d35bfd"),l=s.find(p=>p.prompt_id==="80e6d17b-2cf5-456b-944b-5f645f0e12de"),c=u?.display_order,f=l?.display_order;return c&&f&&(e||(u.display_order=f,l.display_order=c)),s}return[]},[n,i,e])}},Sm=US;var Cm=e=>{let t=e.split("/");return t.length<=1?t[0]:t.slice(0,-1).join("/")},Dr=e=>{let t=tt(e);return Gi(t,r=>r.path.split("/").length*1e5+r.display_order,["asc"])},Em=e=>{let t=Dr(e),r=new Map,n=[];return t.forEach(o=>{let{path:i}=o,a=i.split("/"),s="";a.length<=1?s="/":s=i.split("/").slice(0,-1).join("/");let u=r.get(s),l={...o,children:[]};u?u.children.push(l):n.push(l),r.set(i,l)}),n};var fa=e=>{let t=Dr(e),r=Ui();if(!r)return t;let n=[];return t.map(o=>{let{path:i,visibility_settings:a}=o;if(n.find(c=>i.startsWith(c)))return null;let{allowed_domains:s,blocked_domains:u,use_allow_list:l}=a;if(l){if(!s.includes(r))return n.push(i),null}else if(u.includes(r))return n.push(i),null;return o}).filter(o=>o!==null)},Tm=(e,t)=>{let r=`context_menu__prompt__${e.replace(Pt,"")}`,n=`package__features:${r}`,o=Cp().t(n);return o!==r&&o!==n&&!o.includes("context_menu__prompt__")?o:t};var PD=e=>{let{promptId:t,parentPromptId:r,promptTitle:n,question:o,icon:i="UseChatGpt",disableEditQuestion:a=!0}=e;return{prompt_id:t,prompt_icon:i,type:"chat_complete",parent_prompt_id:r,prompt_title:n,children:[],actions:[{type:"ASK_CHATGPT",parameters:{AskChatGPTActionQuestion:{text:o,meta:{disableEditQuestion:a}}}}]}},Vo=e=>{let{prompt_title:t,prompt_id:r,parent_prompt_id:n,type:o,prompt_icon:i,path:a}=e,s=a?`/${a.split("/")?.[1]||""}`:"";if(e.type==="chat_complete"){let u=e.variables;u.find(c=>c.name===ur.PRESET_VARIABLE__AI_RESPONSE_WRITING_STYLE.name)||u.push(ur.PRESET_VARIABLE__AI_RESPONSE_WRITING_STYLE),u.find(c=>c.name===ur.PRESET_VARIABLE__AI_RESPONSE_TONE.name)||u.push(ur.PRESET_VARIABLE__AI_RESPONSE_TONE);let l=[{type:"SET_VARIABLES_MODAL",parameters:{MaxAIPromptActionConfig:{...e,variables:u},SetVariablesModalConfig:{}}}];return{contextMenuRootPath:s,prompt_id:r,prompt_title:t,parent_prompt_id:n,type:o,prompt_icon:i,actions:l,children:[],origin:e}}else return{contextMenuRootPath:s,prompt_id:r,prompt_title:t,parent_prompt_id:n,type:o,prompt_icon:i,actions:[],children:[],origin:e}},wm=e=>{let t=[],r=n=>{let o=Vo(n);return n.children&&(o.children=n.children.map(r)),o};return e.forEach(n=>{t.push(r(n))}),t};var Pr=P(R());var Im=xt({key:"TopUsageContextMenuIdsState",default:[]}),jS=()=>ye(Im),Mm=(e,t)=>{let{t:r}=Me(),n=ye(Bd(e||"")),[o,i]=(0,Pr.useState)([]),a=jS(),s=ie(({set:f})=>async()=>{let p=await Ao.getService("CONTEXT_MENU_SUGGEST").getTopItems();f(Im,p)},[]),u=(0,Pr.useMemo)(()=>{let f=fa(Array.from([...o,...n]));return a.map(p=>{let d=f.find(m=>m.prompt_id===p);if(d)return{...Vo(tt(d)),prompt_id:Pt+d.prompt_id}}).filter(Boolean).slice(0,t||3)},[r,o,n,a,t]),l=(0,Pr.useMemo)(()=>{if(u?.length)return{prompt_id:Pt,prompt_title:r("package__features:context_menu__prompt__group__suggested__title"),children:u,parent_prompt_id:"",prompt_icon:"AutoFix",type:"group"}},[u,r]),c=async()=>{await Ao.getService("CONTEXT_MENU_SUGGEST").resetUsageHistory(),await s()};return(0,Pr.useEffect)(()=>{let f=async()=>{await s()};return window.addEventListener("focus",f),Ao.getService("CONTEXT_MENU_SUGGEST").addListener("onUpdate",f),f(),()=>{window.removeEventListener("focus",f),Ao.getService("CONTEXT_MENU_SUGGEST").removeListener("onUpdate",f)}},[]),(0,Pr.useEffect)(()=>{e&&i(xl(e))},[e]),{contextMenuSuggestions:u,contextMenuSuggestionsGroup:l,resetContextMenuSuggestions:c}};var _m=(e,t,r)=>{let n=t.toLowerCase().trim().split(/\s+/).filter(Boolean),o={},i=tt(e.filter(u=>{let{prompt_title:l,type:c,path:f}=u;if(c==="group"&&!f.startsWith("/my_own_tools"))return o[u.prompt_id]=u,!1;let p=r?.[u.prompt_id]||l;if(!p)return!1;let d=p.toLowerCase().split(/\s/);for(let m of n){let h=d.findIndex(x=>x.includes(m));if(h===-1)return!1;d.splice(h,1)}return!0})),a=[],s=qp(Yp(i,"prompt_id"),"parent_prompt_id");return Object.keys(s).forEach(u=>{let l=o[u];l&&a.push(l)}),i.forEach(u=>{a.push(u)}),Dr(a)};var pa=P(R()),GS=(e,t)=>{let{i18n:r}=Me(),{enabledVisibilitySettings:n=!0,enabledFavorite:o=!0,enabledPreset:i=!0,selectionInputAble:a=!1,contextMenuPath:s}=t||{},{contextMenuPath:u}=Ne(),l=s||u||"",{originLiteContextMenuList:c,rootLiteContextMenu:f,refetch:p}=Wt(l),{presetLiteContextMenuList:d}=Sm(a,l),{contextMenuSuggestionsGroup:m}=Mm(l),h=(0,pa.useMemo)(()=>{let b=c.concat(i?d:[]),S=Dr(b);n&&(S=fa(b));let T=r.language,w={},v={},E={};return S.forEach(I=>{let{path:k,prompt_title:F}=I,H=Cm(k),A=F,N=Tm(I.prompt_id,I.prompt_title),L=E[H]?`${E[H]} ${A}`:A,W=v[H]?`${v[H]} ${N}`:N;T==="en"?(w[I.prompt_id]=L,E[k]=L):(w[I.prompt_id]=`${W} ${L} `,v[k]=W,E[k]=L)}),e?_m(S,e,w):S},[l,d,c,i,n,r.language,e]),x=(0,pa.useMemo)(()=>Em(h),[h]),g=(0,pa.useMemo)(()=>{let b=wm(x);return e===""&&o&&m&&b.unshift(m),b.map(S=>({...S,parent_prompt_id:f?.prompt_id||S.parent_prompt_id||""}))},[e,l,x,m,o,f]);return{liteContextMenuList:h,liteContextMenuListWithChildren:x,liteContextMenuActionsItems:g,rootLiteContextMenu:f,refetch:p}},Om=GS;var ke=P(R());var yl=e=>{let t=document.createElement("textarea");t.style.cssText=`
              position: fixed;
              top: 0;
              left: 0;
              width: 1px;
              height: 1px;
              padding: 0;
              border: none;
              outline: none;
              boxShadow: none;
              background: transparent;
              z-index: -1;
            `,t.value=e,t.oncopy=r=>r.stopPropagation(),document.body.appendChild(t),t.select(),document.execCommand("copy",!1,""),t.oncopy=null,t.remove()},WS=["input","change"];function qS(e){try{if(e.focus(),e.contentEditable==="true"){let r=document.createRange(),n=window.getSelection(),o=Array.from(e.childNodes||[]).at(-1);if(o){let i=document.createRange();i.selectNodeContents(o);let a=i.toString().length;r.setStart(o,a),r.setEnd(o,a),setTimeout(()=>{o.scrollIntoView({block:"end"})},100)}else r.selectNodeContents(e);n?.removeAllRanges(),n?.addRange(r)}else if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){let r=e.value.length;e.setSelectionRange(r,r)}let t=e.getBoundingClientRect();zd(t)&&e.scrollIntoView({block:"end"}),WS.forEach(r=>{e.dispatchEvent(new Event(r,{bubbles:!0,cancelable:!0}))})}catch{}}var km=(e,t)=>{if(e){e.focus();let r=Rn();if(e.contentEditable==="true"){let n="";if(r==="linkedin.com")e.matches(".msg-form__contenteditable")?(e.parentElement?.querySelector(".msg-form__placeholder")?.classList.remove("msg-form__placeholder"),t=`<p>${t}</p>`):n=e.querySelector("a.ql-mention")?.outerHTML||"";else if(r==="facebook.com"){e.focus();let o=document.createRange();o.selectNodeContents(e);let i=window.getSelection();i?.removeAllRanges(),i?.addRange(o),setTimeout(()=>{let a=new DataTransfer;a.setData("text/plain",t),e.dispatchEvent(new ClipboardEvent("paste",{clipboardData:a,bubbles:!0,cancelable:!0}))},100);return}e.innerHTML=n+t.replaceAll(/\n/g,"<br />")}else e.value=t;setTimeout(()=>{qS(e)},100)}};var Am=P(R());var cP=xt({key:"SidebarPageState",default:{sidebarConversationType:"Chat",messageListPageNum:1}}),Dm=xt({key:"SidebarSummaryConversationIdState",default:""}),Pm=()=>{try{let e=window.localStorage.getItem(Wp);return e?JSON.parse(e):{chatListShow:!0,sidebarNavOpen:!0}}catch{return{chatListShow:!0,sidebarNavOpen:!0}}},fP=xt({key:"ShowImmersiveChatHistory",default:Pm()?.chatListShow}),pP=xt({key:"ExpandImmersiveChatSidebarNav",default:Pm()?.sidebarNavOpen}),dP=xt({key:"ShowMiniScreemImmersiveChatSidebarChatList",default:!1});var KS=()=>{let e=ye(Dm),{setLocalSettings:t,localSettings:r}=Gt(),{hideWithClickAlwaysPintoSidebar:n}=an(),{conversationType:o,setConversationType:i}=ad(g=>({conversationType:g.conversationType,setConversationType:g.setConversationType})),a=o,s=r.sidebarSettings?.common?.currentAIProvider,u=r.sidebarSettings?.contextMenu?.conversationId,l=r.sidebarSettings?.chat?.conversationId,c=r.sidebarSettings?.search?.conversationId,f=r.sidebarSettings?.art?.conversationId,p=(0,Am.useMemo)(()=>{switch(a){case"ContextMenu":return u;case"Chat":return l;case"Search":return c;case"Summary":return e;case"Art":return f;default:return""}},[a,l,c,e,f,u]),d=async g=>{await t(b=>{let S={...b,sidebarSettings:g};return Ep(b,S)?b:S})},m=async g=>{await t(b=>({...b,immersiveSettings:g}))},h=g=>{i(g)},x=g=>{n(),Ed("SyncContextMenuConversationInSidebar",{conversationId:g,switchToRewrite:!0}),No()};return{sidebarSettings:r.sidebarSettings,immersiveSettings:r.immersiveSettings,currentSidebarConversationType:a,currentSidebarAIProvider:s,currentSidebarConversationId:p,updateSidebarSettings:d,updateSidebarConversationType:h,sidebarChatConversationId:l,sidebarSummaryConversationId:e,continueConversationInSidebar:x,updateImmersiveSettings:m}},Lm=KS;var Rm=P(R());function Ke(e){let t=(0,Rm.useRef)(e);return t.current=e,t}var YS={};function sn(e,t){let r=t||YS,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,o=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Fm(e,n,o)}function Fm(e,t,r){if(XS(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Nm(e.children,t,r)}return Array.isArray(e)?Nm(e,t,r):""}function Nm(e,t,r){let n=[],o=-1;for(;++o<e.length;)n[o]=Fm(e[o],t,r);return n.join("")}function XS(e){return!!(e&&typeof e=="object")}function Ye(e,t,r,n){let o=e.length,i=0,a;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(t,r),e.splice(...a);else for(r&&e.splice(t,r);i<n.length;)a=n.slice(i,i+1e4),a.unshift(t,0),e.splice(...a),i+=1e4,t+=1e4}function nt(e,t){return e.length>0?(Ye(e,e.length,0,t),e):t}var Vm={}.hasOwnProperty;function Bm(e){let t={},r=-1;for(;++r<e.length;)$S(t,e[r]);return t}function $S(e,t){let r;for(r in t){let o=(Vm.call(e,r)?e[r]:void 0)||(e[r]={}),i=t[r],a;if(i)for(a in i){Vm.call(o,a)||(o[a]=[]);let s=i[a];QS(o[a],Array.isArray(s)?s:s?[s]:[])}}}function QS(e,t){let r=-1,n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Ye(e,0,0,n)}function da(e,t){let r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"\uFFFD":String.fromCodePoint(r)}function fr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var ct=Ar(/[A-Za-z]/),ot=Ar(/[\dA-Za-z]/),Hm=Ar(/[#-'*+\--9=?A-Z^-~]/);function Bo(e){return e!==null&&(e<32||e===127)}var Ho=Ar(/\d/),zm=Ar(/[\dA-Fa-f]/),Um=Ar(/[!-/:-@[-`{-~]/);function U(e){return e!==null&&e<-2}function Ee(e){return e!==null&&(e<0||e===32)}function J(e){return e===-2||e===-1||e===32}var jm=Ar(/\p{P}|\p{S}/u),Gm=Ar(/\s/);function Ar(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function re(e,t,r,n){let o=n?n-1:Number.POSITIVE_INFINITY,i=0;return a;function a(u){return J(u)?(e.enter(r),s(u)):t(u)}function s(u){return J(u)&&i++<o?(e.consume(u),s):(e.exit(r),t(u))}}var Wm={tokenize:ZS};function ZS(e){let t=e.attempt(this.parser.constructs.contentInitial,n,o),r;return t;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),re(e,t,"linePrefix")}function o(s){return e.enter("paragraph"),i(s)}function i(s){let u=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=u),r=u,a(s)}function a(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return U(s)?(e.consume(s),e.exit("chunkText"),i):(e.consume(s),a)}}var Km={tokenize:JS},qm={tokenize:eC};function JS(e){let t=this,r=[],n=0,o,i,a;return s;function s(S){if(n<r.length){let T=r[n];return t.containerState=T[1],e.attempt(T[0].continuation,u,l)(S)}return l(S)}function u(S){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&b();let T=t.events.length,w=T,v;for(;w--;)if(t.events[w][0]==="exit"&&t.events[w][1].type==="chunkFlow"){v=t.events[w][1].end;break}g(n);let E=T;for(;E<t.events.length;)t.events[E][1].end=Object.assign({},v),E++;return Ye(t.events,w+1,0,t.events.slice(T)),t.events.length=E,l(S)}return s(S)}function l(S){if(n===r.length){if(!o)return p(S);if(o.currentConstruct&&o.currentConstruct.concrete)return m(S);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(qm,c,f)(S)}function c(S){return o&&b(),g(n),p(S)}function f(S){return t.parser.lazy[t.now().line]=n!==r.length,a=t.now().offset,m(S)}function p(S){return t.containerState={},e.attempt(qm,d,m)(S)}function d(S){return n++,r.push([t.currentConstruct,t.containerState]),p(S)}function m(S){if(S===null){o&&b(),g(0),e.consume(S);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:o}),h(S)}function h(S){if(S===null){x(e.exit("chunkFlow"),!0),g(0),e.consume(S);return}return U(S)?(e.consume(S),x(e.exit("chunkFlow")),n=0,t.interrupt=void 0,s):(e.consume(S),h)}function x(S,T){let w=t.sliceStream(S);if(T&&w.push(null),S.previous=i,i&&(i.next=S),i=S,o.defineSkip(S.start),o.write(w),t.parser.lazy[S.start.line]){let v=o.events.length;for(;v--;)if(o.events[v][1].start.offset<a&&(!o.events[v][1].end||o.events[v][1].end.offset>a))return;let E=t.events.length,M=E,I,k;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){if(I){k=t.events[M][1].end;break}I=!0}for(g(n),v=E;v<t.events.length;)t.events[v][1].end=Object.assign({},k),v++;Ye(t.events,M+1,0,t.events.slice(E)),t.events.length=v}}function g(S){let T=r.length;for(;T-- >S;){let w=r[T];t.containerState=w[1],w[0].exit.call(t,e)}r.length=S}function b(){o.write([null]),i=void 0,o=void 0,t.containerState._closeFlow=void 0}}function eC(e,t,r){return re(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function bl(e){if(e===null||Ee(e)||Gm(e))return 1;if(jm(e))return 2}function zn(e,t,r){let n=[],o=-1;for(;++o<e.length;){let i=e[o].resolveAll;i&&!n.includes(i)&&(t=i(t,r),n.push(i))}return t}var zo={name:"attention",tokenize:rC,resolveAll:tC};function tC(e,t){let r=-1,n,o,i,a,s,u,l,c;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;let f=Object.assign({},e[n][1].end),p=Object.assign({},e[r][1].start);Ym(f,-u),Ym(p,u),a={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[n][1].end)},s={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[r][1].start),end:p},i={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[r][1].start)},o={type:u>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},s.end)},e[n][1].end=Object.assign({},a.start),e[r][1].start=Object.assign({},s.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=nt(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=nt(l,[["enter",o,t],["enter",a,t],["exit",a,t],["enter",i,t]]),l=nt(l,zn(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),l=nt(l,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",o,t]]),e[r][1].end.offset-e[r][1].start.offset?(c=2,l=nt(l,[["enter",e[r][1],t],["exit",e[r][1],t]])):c=0,Ye(e,n-1,r-n+3,l),r=n+l.length-c-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function rC(e,t){let r=this.parser.constructs.attentionMarkers.null,n=this.previous,o=bl(n),i;return a;function a(u){return i=u,e.enter("attentionSequence"),s(u)}function s(u){if(u===i)return e.consume(u),s;let l=e.exit("attentionSequence"),c=bl(u),f=!c||c===2&&o||r.includes(u),p=!o||o===2&&c||r.includes(n);return l._open=!!(i===42?f:f&&(o||!p)),l._close=!!(i===42?p:p&&(c||!f)),t(u)}}function Ym(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}var Sl={name:"autolink",tokenize:nC};function nC(e,t,r){let n=0;return o;function o(d){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(d){return ct(d)?(e.consume(d),a):d===64?r(d):l(d)}function a(d){return d===43||d===45||d===46||ot(d)?(n=1,s(d)):l(d)}function s(d){return d===58?(e.consume(d),n=0,u):(d===43||d===45||d===46||ot(d))&&n++<32?(e.consume(d),s):(n=0,l(d))}function u(d){return d===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):d===null||d===32||d===60||Bo(d)?r(d):(e.consume(d),u)}function l(d){return d===64?(e.consume(d),c):Hm(d)?(e.consume(d),l):r(d)}function c(d){return ot(d)?f(d):r(d)}function f(d){return d===46?(e.consume(d),n=0,c):d===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):p(d)}function p(d){if((d===45||ot(d))&&n++<63){let m=d===45?p:f;return e.consume(d),m}return r(d)}}var Lr={tokenize:oC,partial:!0};function oC(e,t,r){return n;function n(i){return J(i)?re(e,o,"linePrefix")(i):o(i)}function o(i){return i===null||U(i)?t(i):r(i)}}var ma={name:"blockQuote",tokenize:iC,continuation:{tokenize:aC},exit:sC};function iC(e,t,r){let n=this;return o;function o(a){if(a===62){let s=n.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),i}return r(a)}function i(a){return J(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function aC(e,t,r){let n=this;return o;function o(a){return J(a)?re(e,i,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):i(a)}function i(a){return e.attempt(ma,t,r)(a)}}function sC(e){e.exit("blockQuote")}var ha={name:"characterEscape",tokenize:uC};function uC(e,t,r){return n;function n(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),o}function o(i){return Um(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(i)}}var ga={name:"characterReference",tokenize:lC};function lC(e,t,r){let n=this,o=0,i,a;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),i=31,a=ot,c(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,a=zm,c):(e.enter("characterReferenceValue"),i=7,a=Ho,c(f))}function c(f){if(f===59&&o){let p=e.exit("characterReferenceValue");return a===ot&&!Fn(n.sliceSerialize(p))?r(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(f)&&o++<i?(e.consume(f),c):r(f)}}var Xm={tokenize:fC,partial:!0},va={name:"codeFenced",tokenize:cC,concrete:!0};function cC(e,t,r){let n=this,o={tokenize:w,partial:!0},i=0,a=0,s;return u;function u(v){return l(v)}function l(v){let E=n.events[n.events.length-1];return i=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,s=v,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(v)}function c(v){return v===s?(a++,e.consume(v),c):a<3?r(v):(e.exit("codeFencedFenceSequence"),J(v)?re(e,f,"whitespace")(v):f(v))}function f(v){return v===null||U(v)?(e.exit("codeFencedFence"),n.interrupt?t(v):e.check(Xm,h,T)(v)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||U(v)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(v)):J(v)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),re(e,d,"whitespace")(v)):v===96&&v===s?r(v):(e.consume(v),p)}function d(v){return v===null||U(v)?f(v):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===null||U(v)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(v)):v===96&&v===s?r(v):(e.consume(v),m)}function h(v){return e.attempt(o,T,x)(v)}function x(v){return e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),g}function g(v){return i>0&&J(v)?re(e,b,"linePrefix",i+1)(v):b(v)}function b(v){return v===null||U(v)?e.check(Xm,h,T)(v):(e.enter("codeFlowValue"),S(v))}function S(v){return v===null||U(v)?(e.exit("codeFlowValue"),b(v)):(e.consume(v),S)}function T(v){return e.exit("codeFenced"),t(v)}function w(v,E,M){let I=0;return k;function k(L){return v.enter("lineEnding"),v.consume(L),v.exit("lineEnding"),F}function F(L){return v.enter("codeFencedFence"),J(L)?re(v,H,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):H(L)}function H(L){return L===s?(v.enter("codeFencedFenceSequence"),A(L)):M(L)}function A(L){return L===s?(I++,v.consume(L),A):I>=a?(v.exit("codeFencedFenceSequence"),J(L)?re(v,N,"whitespace")(L):N(L)):M(L)}function N(L){return L===null||U(L)?(v.exit("codeFencedFence"),E(L)):M(L)}}}function fC(e,t,r){let n=this;return o;function o(a){return a===null?r(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i)}function i(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}var Uo={name:"codeIndented",tokenize:dC},pC={tokenize:mC,partial:!0};function dC(e,t,r){let n=this;return o;function o(l){return e.enter("codeIndented"),re(e,i,"linePrefix",5)(l)}function i(l){let c=n.events[n.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(l):r(l)}function a(l){return l===null?u(l):U(l)?e.attempt(pC,a,u)(l):(e.enter("codeFlowValue"),s(l))}function s(l){return l===null||U(l)?(e.exit("codeFlowValue"),a(l)):(e.consume(l),s)}function u(l){return e.exit("codeIndented"),t(l)}}function mC(e,t,r){let n=this;return o;function o(a){return n.parser.lazy[n.now().line]?r(a):U(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):re(e,i,"linePrefix",5)(a)}function i(a){let s=n.events[n.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):U(a)?o(a):r(a)}}var Cl={name:"codeText",tokenize:vC,resolve:hC,previous:gC};function hC(e){let t=e.length-4,r=3,n,o;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)o===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(o=n):(n===t||e[n][1].type==="lineEnding")&&(e[o][1].type="codeTextData",n!==o+2&&(e[o][1].end=e[n-1][1].end,e.splice(o+2,n-o-2),t-=n-o-2,n=o+2),o=void 0);return e}function gC(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function vC(e,t,r){let n=this,o=0,i,a;return s;function s(p){return e.enter("codeText"),e.enter("codeTextSequence"),u(p)}function u(p){return p===96?(e.consume(p),o++,u):(e.exit("codeTextSequence"),l(p))}function l(p){return p===null?r(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),l):p===96?(a=e.enter("codeTextSequence"),i=0,f(p)):U(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||U(p)?(e.exit("codeTextData"),l(p)):(e.consume(p),c)}function f(p){return p===96?(e.consume(p),i++,f):i===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(a.type="codeTextData",c(p))}}var xa=class{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){let n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){let o=r||0;this.setCursor(Math.trunc(t));let i=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return n&&jo(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),jo(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),jo(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){let r=this.left.splice(t,Number.POSITIVE_INFINITY);jo(this.right,r.reverse())}else{let r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);jo(this.left,r.reverse())}}};function jo(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function ya(e){let t={},r=-1,n,o,i,a,s,u,l,c=new xa(e);for(;++r<c.length;){for(;r in t;)r=t[r];if(n=c.get(r),r&&n[1].type==="chunkFlow"&&c.get(r-1)[1].type==="listItemPrefix"&&(u=n[1]._tokenizer.events,i=0,i<u.length&&u[i][1].type==="lineEndingBlank"&&(i+=2),i<u.length&&u[i][1].type==="content"))for(;++i<u.length&&u[i][1].type!=="content";)u[i][1].type==="chunkText"&&(u[i][1]._isInFirstContentOfListItem=!0,i++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,xC(c,r)),r=t[r],l=!0);else if(n[1]._container){for(i=r,o=void 0;i--&&(a=c.get(i),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(o&&(c.get(o)[1].type="lineEndingBlank"),a[1].type="lineEnding",o=i);o&&(n[1].end=Object.assign({},c.get(o)[1].start),s=c.slice(o,r),s.unshift(n),c.splice(o,r-o+1,s))}}return Ye(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!l}function xC(e,t){let r=e.get(t)[1],n=e.get(t)[2],o=t-1,i=[],a=r._tokenizer||n.parser[r.contentType](r.start),s=a.events,u=[],l={},c,f,p=-1,d=r,m=0,h=0,x=[h];for(;d;){for(;e.get(++o)[1]!==d;);i.push(o),d._tokenizer||(c=n.sliceStream(d),d.next||c.push(null),f&&a.defineSkip(d.start),d._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),d._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=d,d=d.next}for(d=r;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(h=p+1,x.push(h),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(a.events=[],d?(d._tokenizer=void 0,d.previous=void 0):x.pop(),p=x.length;p--;){let g=s.slice(x[p],x[p+1]),b=i.pop();u.push([b,b+g.length-1]),e.splice(b,2,g)}for(u.reverse(),p=-1;++p<u.length;)l[m+u[p][0]]=m+u[p][1],m+=u[p][1]-u[p][0]-1;return l}var El={tokenize:SC,resolve:bC},yC={tokenize:CC,partial:!0};function bC(e){return ya(e),e}function SC(e,t){let r;return n;function n(s){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),o(s)}function o(s){return s===null?i(s):U(s)?e.check(yC,a,i)(s):(e.consume(s),o)}function i(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function a(s){return e.consume(s),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,o}}function CC(e,t,r){let n=this;return o;function o(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),re(e,i,"linePrefix")}function i(a){if(a===null||U(a))return r(a);let s=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):e.interrupt(n.parser.constructs.flow,r,t)(a)}}function ba(e,t,r,n,o,i,a,s,u){let l=u||Number.POSITIVE_INFINITY,c=0;return f;function f(g){return g===60?(e.enter(n),e.enter(o),e.enter(i),e.consume(g),e.exit(i),p):g===null||g===32||g===41||Bo(g)?r(g):(e.enter(n),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),h(g))}function p(g){return g===62?(e.enter(i),e.consume(g),e.exit(i),e.exit(o),e.exit(n),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===62?(e.exit("chunkString"),e.exit(s),p(g)):g===null||g===60||U(g)?r(g):(e.consume(g),g===92?m:d)}function m(g){return g===60||g===62||g===92?(e.consume(g),d):d(g)}function h(g){return!c&&(g===null||g===41||Ee(g))?(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(n),t(g)):c<l&&g===40?(e.consume(g),c++,h):g===41?(e.consume(g),c--,h):g===null||g===32||g===40||Bo(g)?r(g):(e.consume(g),g===92?x:h)}function x(g){return g===40||g===41||g===92?(e.consume(g),h):h(g)}}function Sa(e,t,r,n,o,i){let a=this,s=0,u;return l;function l(d){return e.enter(n),e.enter(o),e.consume(d),e.exit(o),e.enter(i),c}function c(d){return s>999||d===null||d===91||d===93&&!u||d===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?r(d):d===93?(e.exit(i),e.enter(o),e.consume(d),e.exit(o),e.exit(n),t):U(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(d))}function f(d){return d===null||d===91||d===93||U(d)||s++>999?(e.exit("chunkString"),c(d)):(e.consume(d),u||(u=!J(d)),d===92?p:f)}function p(d){return d===91||d===92||d===93?(e.consume(d),s++,f):f(d)}}function Ca(e,t,r,n,o,i){let a;return s;function s(p){return p===34||p===39||p===40?(e.enter(n),e.enter(o),e.consume(p),e.exit(o),a=p===40?41:p,u):r(p)}function u(p){return p===a?(e.enter(o),e.consume(p),e.exit(o),e.exit(n),t):(e.enter(i),l(p))}function l(p){return p===a?(e.exit(i),u(a)):p===null?r(p):U(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),re(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===a||p===null||U(p)?(e.exit("chunkString"),l(p)):(e.consume(p),p===92?f:c)}function f(p){return p===a||p===92?(e.consume(p),c):c(p)}}function un(e,t){let r;return n;function n(o){return U(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),r=!0,n):J(o)?re(e,n,r?"linePrefix":"lineSuffix")(o):t(o)}}var Tl={name:"definition",tokenize:TC},EC={tokenize:wC,partial:!0};function TC(e,t,r){let n=this,o;return i;function i(d){return e.enter("definition"),a(d)}function a(d){return Sa.call(n,e,s,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function s(d){return o=fr(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),d===58?(e.enter("definitionMarker"),e.consume(d),e.exit("definitionMarker"),u):r(d)}function u(d){return Ee(d)?un(e,l)(d):l(d)}function l(d){return ba(e,c,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function c(d){return e.attempt(EC,f,f)(d)}function f(d){return J(d)?re(e,p,"whitespace")(d):p(d)}function p(d){return d===null||U(d)?(e.exit("definition"),n.parser.defined.push(o),t(d)):r(d)}}function wC(e,t,r){return n;function n(s){return Ee(s)?un(e,o)(s):r(s)}function o(s){return Ca(e,i,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function i(s){return J(s)?re(e,a,"whitespace")(s):a(s)}function a(s){return s===null||U(s)?t(s):r(s)}}var wl={name:"hardBreakEscape",tokenize:IC};function IC(e,t,r){return n;function n(i){return e.enter("hardBreakEscape"),e.consume(i),o}function o(i){return U(i)?(e.exit("hardBreakEscape"),t(i)):r(i)}}var Il={name:"headingAtx",tokenize:_C,resolve:MC};function MC(e,t){let r=e.length-2,n=3,o,i;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(o={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},i={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Ye(e,n,r-n+1,[["enter",o,t],["enter",i,t],["exit",i,t],["exit",o,t]])),e}function _C(e,t,r){let n=0;return o;function o(c){return e.enter("atxHeading"),i(c)}function i(c){return e.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&n++<6?(e.consume(c),a):c===null||Ee(c)?(e.exit("atxHeadingSequence"),s(c)):r(c)}function s(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||U(c)?(e.exit("atxHeading"),t(c)):J(c)?re(e,s,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),s(c))}function l(c){return c===null||c===35||Ee(c)?(e.exit("atxHeadingText"),s(c)):(e.consume(c),l)}}var $m=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ml=["pre","script","style","textarea"];var _l={name:"htmlFlow",tokenize:PC,resolveTo:DC,concrete:!0},OC={tokenize:LC,partial:!0},kC={tokenize:AC,partial:!0};function DC(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function PC(e,t,r){let n=this,o,i,a,s,u;return l;function l(y){return c(y)}function c(y){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(y),f}function f(y){return y===33?(e.consume(y),p):y===47?(e.consume(y),i=!0,h):y===63?(e.consume(y),o=3,n.interrupt?t:C):ct(y)?(e.consume(y),a=String.fromCharCode(y),x):r(y)}function p(y){return y===45?(e.consume(y),o=2,d):y===91?(e.consume(y),o=5,s=0,m):ct(y)?(e.consume(y),o=4,n.interrupt?t:C):r(y)}function d(y){return y===45?(e.consume(y),n.interrupt?t:C):r(y)}function m(y){let V="CDATA[";return y===V.charCodeAt(s++)?(e.consume(y),s===V.length?n.interrupt?t:H:m):r(y)}function h(y){return ct(y)?(e.consume(y),a=String.fromCharCode(y),x):r(y)}function x(y){if(y===null||y===47||y===62||Ee(y)){let V=y===47,G=a.toLowerCase();return!V&&!i&&Ml.includes(G)?(o=1,n.interrupt?t(y):H(y)):$m.includes(a.toLowerCase())?(o=6,V?(e.consume(y),g):n.interrupt?t(y):H(y)):(o=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(y):i?b(y):S(y))}return y===45||ot(y)?(e.consume(y),a+=String.fromCharCode(y),x):r(y)}function g(y){return y===62?(e.consume(y),n.interrupt?t:H):r(y)}function b(y){return J(y)?(e.consume(y),b):k(y)}function S(y){return y===47?(e.consume(y),k):y===58||y===95||ct(y)?(e.consume(y),T):J(y)?(e.consume(y),S):k(y)}function T(y){return y===45||y===46||y===58||y===95||ot(y)?(e.consume(y),T):w(y)}function w(y){return y===61?(e.consume(y),v):J(y)?(e.consume(y),w):S(y)}function v(y){return y===null||y===60||y===61||y===62||y===96?r(y):y===34||y===39?(e.consume(y),u=y,E):J(y)?(e.consume(y),v):M(y)}function E(y){return y===u?(e.consume(y),u=null,I):y===null||U(y)?r(y):(e.consume(y),E)}function M(y){return y===null||y===34||y===39||y===47||y===60||y===61||y===62||y===96||Ee(y)?w(y):(e.consume(y),M)}function I(y){return y===47||y===62||J(y)?S(y):r(y)}function k(y){return y===62?(e.consume(y),F):r(y)}function F(y){return y===null||U(y)?H(y):J(y)?(e.consume(y),F):r(y)}function H(y){return y===45&&o===2?(e.consume(y),W):y===60&&o===1?(e.consume(y),$):y===62&&o===4?(e.consume(y),ee):y===63&&o===3?(e.consume(y),C):y===93&&o===5?(e.consume(y),xe):U(y)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(OC,ae,A)(y)):y===null||U(y)?(e.exit("htmlFlowData"),A(y)):(e.consume(y),H)}function A(y){return e.check(kC,N,ae)(y)}function N(y){return e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),L}function L(y){return y===null||U(y)?A(y):(e.enter("htmlFlowData"),H(y))}function W(y){return y===45?(e.consume(y),C):H(y)}function $(y){return y===47?(e.consume(y),a="",me):H(y)}function me(y){if(y===62){let V=a.toLowerCase();return Ml.includes(V)?(e.consume(y),ee):H(y)}return ct(y)&&a.length<8?(e.consume(y),a+=String.fromCharCode(y),me):H(y)}function xe(y){return y===93?(e.consume(y),C):H(y)}function C(y){return y===62?(e.consume(y),ee):y===45&&o===2?(e.consume(y),C):H(y)}function ee(y){return y===null||U(y)?(e.exit("htmlFlowData"),ae(y)):(e.consume(y),ee)}function ae(y){return e.exit("htmlFlow"),t(y)}}function AC(e,t,r){let n=this;return o;function o(a){return U(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):r(a)}function i(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}function LC(e,t,r){return n;function n(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Lr,t,r)}}var Ol={name:"htmlText",tokenize:RC};function RC(e,t,r){let n=this,o,i,a;return s;function s(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),u}function u(C){return C===33?(e.consume(C),l):C===47?(e.consume(C),w):C===63?(e.consume(C),S):ct(C)?(e.consume(C),M):r(C)}function l(C){return C===45?(e.consume(C),c):C===91?(e.consume(C),i=0,m):ct(C)?(e.consume(C),b):r(C)}function c(C){return C===45?(e.consume(C),d):r(C)}function f(C){return C===null?r(C):C===45?(e.consume(C),p):U(C)?(a=f,$(C)):(e.consume(C),f)}function p(C){return C===45?(e.consume(C),d):f(C)}function d(C){return C===62?W(C):C===45?p(C):f(C)}function m(C){let ee="CDATA[";return C===ee.charCodeAt(i++)?(e.consume(C),i===ee.length?h:m):r(C)}function h(C){return C===null?r(C):C===93?(e.consume(C),x):U(C)?(a=h,$(C)):(e.consume(C),h)}function x(C){return C===93?(e.consume(C),g):h(C)}function g(C){return C===62?W(C):C===93?(e.consume(C),g):h(C)}function b(C){return C===null||C===62?W(C):U(C)?(a=b,$(C)):(e.consume(C),b)}function S(C){return C===null?r(C):C===63?(e.consume(C),T):U(C)?(a=S,$(C)):(e.consume(C),S)}function T(C){return C===62?W(C):S(C)}function w(C){return ct(C)?(e.consume(C),v):r(C)}function v(C){return C===45||ot(C)?(e.consume(C),v):E(C)}function E(C){return U(C)?(a=E,$(C)):J(C)?(e.consume(C),E):W(C)}function M(C){return C===45||ot(C)?(e.consume(C),M):C===47||C===62||Ee(C)?I(C):r(C)}function I(C){return C===47?(e.consume(C),W):C===58||C===95||ct(C)?(e.consume(C),k):U(C)?(a=I,$(C)):J(C)?(e.consume(C),I):W(C)}function k(C){return C===45||C===46||C===58||C===95||ot(C)?(e.consume(C),k):F(C)}function F(C){return C===61?(e.consume(C),H):U(C)?(a=F,$(C)):J(C)?(e.consume(C),F):I(C)}function H(C){return C===null||C===60||C===61||C===62||C===96?r(C):C===34||C===39?(e.consume(C),o=C,A):U(C)?(a=H,$(C)):J(C)?(e.consume(C),H):(e.consume(C),N)}function A(C){return C===o?(e.consume(C),o=void 0,L):C===null?r(C):U(C)?(a=A,$(C)):(e.consume(C),A)}function N(C){return C===null||C===34||C===39||C===60||C===61||C===96?r(C):C===47||C===62||Ee(C)?I(C):(e.consume(C),N)}function L(C){return C===47||C===62||Ee(C)?I(C):r(C)}function W(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):r(C)}function $(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),me}function me(C){return J(C)?re(e,xe,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):xe(C)}function xe(C){return e.enter("htmlTextData"),a(C)}}var ln={name:"labelEnd",tokenize:zC,resolveTo:HC,resolveAll:BC},NC={tokenize:UC},FC={tokenize:jC},VC={tokenize:GC};function BC(e){let t=-1;for(;++t<e.length;){let r=e[t][1];(r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd")&&(e.splice(t+1,r.type==="labelImage"?4:2),r.type="data",t++)}return e}function HC(e,t){let r=e.length,n=0,o,i,a,s;for(;r--;)if(o=e[r][1],i){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[r][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(a){if(e[r][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(i=r,o.type!=="labelLink")){n=2;break}}else o.type==="labelEnd"&&(a=r);let u={type:e[i][1].type==="labelLink"?"link":"image",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[i][1].start),end:Object.assign({},e[a][1].end)},c={type:"labelText",start:Object.assign({},e[i+n+2][1].end),end:Object.assign({},e[a-2][1].start)};return s=[["enter",u,t],["enter",l,t]],s=nt(s,e.slice(i+1,i+n+3)),s=nt(s,[["enter",c,t]]),s=nt(s,zn(t.parser.constructs.insideSpan.null,e.slice(i+n+4,a-3),t)),s=nt(s,[["exit",c,t],e[a-2],e[a-1],["exit",l,t]]),s=nt(s,e.slice(a+1)),s=nt(s,[["exit",u,t]]),Ye(e,i,e.length,s),e}function zC(e,t,r){let n=this,o=n.events.length,i,a;for(;o--;)if((n.events[o][1].type==="labelImage"||n.events[o][1].type==="labelLink")&&!n.events[o][1]._balanced){i=n.events[o][1];break}return s;function s(p){return i?i._inactive?f(p):(a=n.parser.defined.includes(fr(n.sliceSerialize({start:i.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),u):r(p)}function u(p){return p===40?e.attempt(NC,c,a?c:f)(p):p===91?e.attempt(FC,c,a?l:f)(p):a?c(p):f(p)}function l(p){return e.attempt(VC,c,f)(p)}function c(p){return t(p)}function f(p){return i._balanced=!0,r(p)}}function UC(e,t,r){return n;function n(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),o}function o(f){return Ee(f)?un(e,i)(f):i(f)}function i(f){return f===41?c(f):ba(e,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return Ee(f)?un(e,u)(f):c(f)}function s(f){return r(f)}function u(f){return f===34||f===39||f===40?Ca(e,l,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function l(f){return Ee(f)?un(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):r(f)}}function jC(e,t,r){let n=this;return o;function o(s){return Sa.call(n,e,i,a,"reference","referenceMarker","referenceString")(s)}function i(s){return n.parser.defined.includes(fr(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(s):r(s)}function a(s){return r(s)}}function GC(e,t,r){return n;function n(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),o}function o(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):r(i)}}var kl={name:"labelStartImage",tokenize:WC,resolveAll:ln.resolveAll};function WC(e,t,r){let n=this;return o;function o(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),i}function i(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),a):r(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}var Dl={name:"labelStartLink",tokenize:qC,resolveAll:ln.resolveAll};function qC(e,t,r){let n=this;return o;function o(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),i}function i(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):t(a)}}var Go={name:"lineEnding",tokenize:KC};function KC(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),re(e,t,"linePrefix")}}var cn={name:"thematicBreak",tokenize:YC};function YC(e,t,r){let n=0,o;return i;function i(l){return e.enter("thematicBreak"),a(l)}function a(l){return o=l,s(l)}function s(l){return l===o?(e.enter("thematicBreakSequence"),u(l)):n>=3&&(l===null||U(l))?(e.exit("thematicBreak"),t(l)):r(l)}function u(l){return l===o?(e.consume(l),n++,u):(e.exit("thematicBreakSequence"),J(l)?re(e,s,"whitespace")(l):s(l))}}var Xe={name:"list",tokenize:QC,continuation:{tokenize:ZC},exit:eE},XC={tokenize:tE,partial:!0},$C={tokenize:JC,partial:!0};function QC(e,t,r){let n=this,o=n.events[n.events.length-1],i=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,a=0;return s;function s(d){let m=n.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!n.containerState.marker||d===n.containerState.marker:Ho(d)){if(n.containerState.type||(n.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),d===42||d===45?e.check(cn,r,l)(d):l(d);if(!n.interrupt||d===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(d)}return r(d)}function u(d){return Ho(d)&&++a<10?(e.consume(d),u):(!n.interrupt||a<2)&&(n.containerState.marker?d===n.containerState.marker:d===41||d===46)?(e.exit("listItemValue"),l(d)):r(d)}function l(d){return e.enter("listItemMarker"),e.consume(d),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||d,e.check(Lr,n.interrupt?r:c,e.attempt(XC,p,f))}function c(d){return n.containerState.initialBlankLine=!0,i++,p(d)}function f(d){return J(d)?(e.enter("listItemPrefixWhitespace"),e.consume(d),e.exit("listItemPrefixWhitespace"),p):r(d)}function p(d){return n.containerState.size=i+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(d)}}function ZC(e,t,r){let n=this;return n.containerState._closeFlow=void 0,e.check(Lr,o,i);function o(s){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,re(e,t,"listItemIndent",n.containerState.size+1)(s)}function i(s){return n.containerState.furtherBlankLines||!J(s)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(s)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt($C,t,a)(s))}function a(s){return n.containerState._closeFlow=!0,n.interrupt=void 0,re(e,e.attempt(Xe,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function JC(e,t,r){let n=this;return re(e,o,"listItemIndent",n.containerState.size+1);function o(i){let a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?t(i):r(i)}}function eE(e){e.exit(this.containerState.type)}function tE(e,t,r){let n=this;return re(e,o,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(i){let a=n.events[n.events.length-1];return!J(i)&&a&&a[1].type==="listItemPrefixWhitespace"?t(i):r(i)}}var Ea={name:"setextUnderline",tokenize:nE,resolveTo:rE};function rE(e,t){let r=e.length,n,o,i;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(o=r)}else e[r][1].type==="content"&&e.splice(r,1),!i&&e[r][1].type==="definition"&&(i=r);let a={type:"setextHeading",start:Object.assign({},e[o][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[o][1].type="setextHeadingText",i?(e.splice(o,0,["enter",a,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[i][1].end)):e[n][1]=a,e.push(["exit",a,t]),e}function nE(e,t,r){let n=this,o;return i;function i(l){let c=n.events.length,f;for(;c--;)if(n.events[c][1].type!=="lineEnding"&&n.events[c][1].type!=="linePrefix"&&n.events[c][1].type!=="content"){f=n.events[c][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||f)?(e.enter("setextHeadingLine"),o=l,a(l)):r(l)}function a(l){return e.enter("setextHeadingLineSequence"),s(l)}function s(l){return l===o?(e.consume(l),s):(e.exit("setextHeadingLineSequence"),J(l)?re(e,u,"lineSuffix")(l):u(l))}function u(l){return l===null||U(l)?(e.exit("setextHeadingLine"),t(l)):r(l)}}var Qm={tokenize:oE};function oE(e){let t=this,r=e.attempt(Lr,n,e.attempt(this.parser.constructs.flowInitial,o,re(e,e.attempt(this.parser.constructs.flow,o,e.attempt(El,o)),"linePrefix")));return r;function n(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function o(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,r}}var Zm={resolveAll:rh()},Jm=th("string"),eh=th("text");function th(e){return{tokenize:t,resolveAll:rh(e==="text"?iE:void 0)};function t(r){let n=this,o=this.parser.constructs[e],i=r.attempt(o,a,s);return a;function a(c){return l(c)?i(c):s(c)}function s(c){if(c===null){r.consume(c);return}return r.enter("data"),r.consume(c),u}function u(c){return l(c)?(r.exit("data"),i(c)):(r.consume(c),u)}function l(c){if(c===null)return!0;let f=o[c],p=-1;if(f)for(;++p<f.length;){let d=f[p];if(!d.previous||d.previous.call(n,n.previous))return!0}return!1}}}function rh(e){return t;function t(r,n){let o=-1,i;for(;++o<=r.length;)i===void 0?r[o]&&r[o][1].type==="data"&&(i=o,o++):(!r[o]||r[o][1].type!=="data")&&(o!==i+2&&(r[i][1].end=r[o-1][1].end,r.splice(i+2,o-i-2),o=i+2),i=void 0);return e?e(r,n):r}}function iE(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){let n=e[r-1][1],o=t.sliceStream(n),i=o.length,a=-1,s=0,u;for(;i--;){let l=o[i];if(typeof l=="string"){for(a=l.length;l.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(l===-2)u=!0,s++;else if(l!==-1){i++;break}}if(s){let l={type:r===e.length||u||s<2?"lineSuffix":"hardBreakTrailing",start:{line:n.end.line,column:n.end.column-s,offset:n.end.offset-s,_index:n.start._index+i,_bufferIndex:i?a:n.start._bufferIndex+a},end:Object.assign({},n.end)};n.end=Object.assign({},l.start),n.start.offset===n.end.offset?Object.assign(n,l):(e.splice(r,0,["enter",l,t],["exit",l,t]),r+=2)}r++}return e}function nh(e,t,r){let n=Object.assign(r?Object.assign({},r):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),o={},i=[],a=[],s=[],u=!0,l={consume:T,enter:w,exit:v,attempt:I(E),check:I(M),interrupt:I(M,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:m,now:x,defineSkip:g,write:d},f=t.tokenize.call(c,l),p;return t.resolveAll&&i.push(t),c;function d(A){return a=nt(a,A),b(),a[a.length-1]!==null?[]:(k(t,0),c.events=zn(i,c.events,c),c.events)}function m(A,N){return sE(h(A),N)}function h(A){return aE(a,A)}function x(){let{line:A,column:N,offset:L,_index:W,_bufferIndex:$}=n;return{line:A,column:N,offset:L,_index:W,_bufferIndex:$}}function g(A){o[A.line]=A.column,H()}function b(){let A;for(;n._index<a.length;){let N=a[n._index];if(typeof N=="string")for(A=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===A&&n._bufferIndex<N.length;)S(N.charCodeAt(n._bufferIndex));else S(N)}}function S(A){u=void 0,p=A,f=f(A)}function T(A){U(A)?(n.line++,n.column=1,n.offset+=A===-3?2:1,H()):A!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=A,u=!0}function w(A,N){let L=N||{};return L.type=A,L.start=x(),c.events.push(["enter",L,c]),s.push(L),L}function v(A){let N=s.pop();return N.end=x(),c.events.push(["exit",N,c]),N}function E(A,N){k(A,N.from)}function M(A,N){N.restore()}function I(A,N){return L;function L(W,$,me){let xe,C,ee,ae;return Array.isArray(W)?V(W):"tokenize"in W?V([W]):y(W);function y(X){return ue;function ue(te){let Pe=te!==null&&X[te],Ae=te!==null&&X.null,Oe=[...Array.isArray(Pe)?Pe:Pe?[Pe]:[],...Array.isArray(Ae)?Ae:Ae?[Ae]:[]];return V(Oe)(te)}}function V(X){return xe=X,C=0,X.length===0?me:G(X[C])}function G(X){return ue;function ue(te){return ae=F(),ee=X,X.partial||(c.currentConstruct=X),X.name&&c.parser.constructs.disable.null.includes(X.name)?De(te):X.tokenize.call(N?Object.assign(Object.create(c),N):c,l,he,De)(te)}}function he(X){return u=!0,A(ee,ae),$}function De(X){return u=!0,ae.restore(),++C<xe.length?G(xe[C]):me}}}function k(A,N){A.resolveAll&&!i.includes(A)&&i.push(A),A.resolve&&Ye(c.events,N,c.events.length-N,A.resolve(c.events.slice(N),c)),A.resolveTo&&(c.events=A.resolveTo(c.events,c))}function F(){let A=x(),N=c.previous,L=c.currentConstruct,W=c.events.length,$=Array.from(s);return{restore:me,from:W};function me(){n=A,c.previous=N,c.currentConstruct=L,c.events.length=W,s=$,H()}}function H(){n.line in o&&n.column<2&&(n.column=o[n.line],n.offset+=o[n.line]-1)}}function aE(e,t){let r=t.start._index,n=t.start._bufferIndex,o=t.end._index,i=t.end._bufferIndex,a;if(r===o)a=[e[r].slice(n,i)];else{if(a=e.slice(r,o),n>-1){let s=a[0];typeof s=="string"?a[0]=s.slice(n):a.shift()}i>0&&a.push(e[o].slice(0,i))}return a}function sE(e,t){let r=-1,n=[],o;for(;++r<e.length;){let i=e[r],a;if(typeof i=="string")a=i;else switch(i){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&o)continue;a=" ";break}default:a=String.fromCharCode(i)}o=i===-2,n.push(a)}return n.join("")}var Pl={};hp(Pl,{attentionMarkers:()=>hE,contentInitial:()=>lE,disable:()=>gE,document:()=>uE,flow:()=>fE,flowInitial:()=>cE,insideSpan:()=>mE,string:()=>pE,text:()=>dE});var uE={42:Xe,43:Xe,45:Xe,48:Xe,49:Xe,50:Xe,51:Xe,52:Xe,53:Xe,54:Xe,55:Xe,56:Xe,57:Xe,62:ma},lE={91:Tl},cE={[-2]:Uo,[-1]:Uo,32:Uo},fE={35:Il,42:cn,45:[Ea,cn],60:_l,61:Ea,95:cn,96:va,126:va},pE={38:ga,92:ha},dE={[-5]:Go,[-4]:Go,[-3]:Go,33:kl,38:ga,42:zo,60:[Sl,Ol],91:Dl,92:[wl,ha],93:ln,95:zo,96:Cl},mE={null:[zo,Zm]},hE={null:[42,95]},gE={null:[]};function Al(e){let r=Bm([Pl,...(e||{}).extensions||[]]),n={defined:[],lazy:{},constructs:r,content:o(Wm),document:o(Km),flow:o(Qm),string:o(Jm),text:o(eh)};return n;function o(i){return a;function a(s){return nh(n,i,s)}}}function Ll(e){for(;!ya(e););return e}var oh=/[\0\t\n\r]/g;function Rl(){let e=1,t="",r=!0,n;return o;function o(i,a,s){let u=[],l,c,f,p,d;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(a||void 0).decode(i)),f=0,t="",r&&(i.charCodeAt(0)===65279&&f++,r=void 0);f<i.length;){if(oh.lastIndex=f,l=oh.exec(i),p=l&&l.index!==void 0?l.index:i.length,d=i.charCodeAt(p),!l){t=i.slice(f);break}if(d===10&&f===p&&n)u.push(-3),n=void 0;else switch(n&&(u.push(-5),n=void 0),f<p&&(u.push(i.slice(f,p)),e+=p-f),d){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:n=!0,e=1}f=p+1}return s&&(n&&u.push(-5),t&&u.push(t),u.push(null)),u}}var vE=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ta(e){return e.replace(vE,xE)}function xE(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){let o=r.charCodeAt(1),i=o===120||o===88;return da(r.slice(i?2:1),i?16:10)}return Fn(r)||e}function Rr(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?ih(e.position):"start"in e||"end"in e?ih(e):"line"in e||"column"in e?Nl(e):""}function Nl(e){return ah(e&&e.line)+":"+ah(e&&e.column)}function ih(e){return Nl(e&&e.start)+"-"+Nl(e&&e.end)}function ah(e){return e&&typeof e=="number"?e:1}var uh={}.hasOwnProperty;function Fl(e,t,r){return typeof t!="string"&&(r=t,t=void 0),yE(r)(Ll(Al(r).document().write(Rl()(e,t,!0))))}function yE(e){let t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(wr),autolinkProtocol:I,autolinkEmail:I,atxHeading:i(Tr),blockQuote:i(te),characterEscape:I,characterReference:I,codeFenced:i(Pe),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:i(Pe,a),codeText:i(Ae,a),codeTextData:I,data:I,codeFlowValue:I,definition:i(Oe),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:i(Ie),hardBreakEscape:i(or),hardBreakTrailing:i(or),htmlFlow:i(ir,a),htmlFlowData:I,htmlText:i(ir,a),htmlTextData:I,image:i(_o),label:a,link:i(wr),listItem:i(Bi),listItemValue:p,listOrdered:i(Vi,f),listUnordered:i(Vi),paragraph:i(el),reference:y,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:i(Tr),strong:i(tl),thematicBreak:i(zi)},exit:{atxHeading:u(),atxHeadingSequence:w,autolink:u(),autolinkEmail:ue,autolinkProtocol:X,blockQuote:u(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:G,characterReferenceMarkerNumeric:G,characterReferenceValue:he,characterReference:De,codeFenced:u(x),codeFencedFence:h,codeFencedFenceInfo:d,codeFencedFenceMeta:m,codeFlowValue:k,codeIndented:u(g),codeText:u(L),codeTextData:k,data:k,definition:u(),definitionDestinationString:T,definitionLabelString:b,definitionTitleString:S,emphasis:u(),hardBreakEscape:u(H),hardBreakTrailing:u(H),htmlFlow:u(A),htmlFlowData:k,htmlText:u(N),htmlTextData:k,image:u($),label:xe,labelText:me,lineEnding:F,link:u(W),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:V,resourceDestinationString:C,resourceTitleString:ee,resource:ae,setextHeading:u(M),setextHeadingLineSequence:E,setextHeadingText:v,strong:u(),thematicBreak:u()}};lh(t,(e||{}).mdastExtensions||[]);let r={};return n;function n(O){let _={type:"root",children:[]},z={stack:[_],tokenStack:[],config:t,enter:s,exit:l,buffer:a,resume:c,data:r},B=[],Q=-1;for(;++Q<O.length;)if(O[Q][1].type==="listOrdered"||O[Q][1].type==="listUnordered")if(O[Q][0]==="enter")B.push(Q);else{let se=B.pop();Q=o(O,se,Q)}for(Q=-1;++Q<O.length;){let se=t[O[Q][0]];uh.call(se,O[Q][1].type)&&se[O[Q][1].type].call(Object.assign({sliceSerialize:O[Q][2].sliceSerialize},z),O[Q][1])}if(z.tokenStack.length>0){let se=z.tokenStack[z.tokenStack.length-1];(se[1]||sh).call(z,void 0,se[0])}for(_.position={start:Nr(O.length>0?O[0][1].start:{line:1,column:1,offset:0}),end:Nr(O.length>0?O[O.length-2][1].end:{line:1,column:1,offset:0})},Q=-1;++Q<t.transforms.length;)_=t.transforms[Q](_)||_;return _}function o(O,_,z){let B=_-1,Q=-1,se=!1,oe,fe,jt,Le;for(;++B<=z;){let Ge=O[B];switch(Ge[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ge[0]==="enter"?Q++:Q--,Le=void 0;break}case"lineEndingBlank":{Ge[0]==="enter"&&(oe&&!Le&&!Q&&!jt&&(jt=B),Le=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Le=void 0}if(!Q&&Ge[0]==="enter"&&Ge[1].type==="listItemPrefix"||Q===-1&&Ge[0]==="exit"&&(Ge[1].type==="listUnordered"||Ge[1].type==="listOrdered")){if(oe){let ar=B;for(fe=void 0;ar--;){let vt=O[ar];if(vt[1].type==="lineEnding"||vt[1].type==="lineEndingBlank"){if(vt[0]==="exit")continue;fe&&(O[fe][1].type="lineEndingBlank",se=!0),vt[1].type="lineEnding",fe=ar}else if(!(vt[1].type==="linePrefix"||vt[1].type==="blockQuotePrefix"||vt[1].type==="blockQuotePrefixWhitespace"||vt[1].type==="blockQuoteMarker"||vt[1].type==="listItemIndent"))break}jt&&(!fe||jt<fe)&&(oe._spread=!0),oe.end=Object.assign({},fe?O[fe][1].start:Ge[1].end),O.splice(fe||B,0,["exit",oe,Ge[2]]),B++,z++}if(Ge[1].type==="listItemPrefix"){let ar={type:"listItem",_spread:!1,start:Object.assign({},Ge[1].start),end:void 0};oe=ar,O.splice(B,0,["enter",ar,Ge[2]]),B++,z++,jt=void 0,Le=!0}}}return O[_][1]._spread=se,z}function i(O,_){return z;function z(B){s.call(this,O(B),B),_&&_.call(this,B)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(O,_,z){this.stack[this.stack.length-1].children.push(O),this.stack.push(O),this.tokenStack.push([_,z]),O.position={start:Nr(_.start),end:void 0}}function u(O){return _;function _(z){O&&O.call(this,z),l.call(this,z)}}function l(O,_){let z=this.stack.pop(),B=this.tokenStack.pop();if(B)B[0].type!==O.type&&(_?_.call(this,O,B[0]):(B[1]||sh).call(this,O,B[0]));else throw new Error("Cannot close `"+O.type+"` ("+Rr({start:O.start,end:O.end})+"): it\u2019s not open");z.position.end=Nr(O.end)}function c(){return sn(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(O){if(this.data.expectingFirstListItemValue){let _=this.stack[this.stack.length-2];_.start=Number.parseInt(this.sliceSerialize(O),10),this.data.expectingFirstListItemValue=void 0}}function d(){let O=this.resume(),_=this.stack[this.stack.length-1];_.lang=O}function m(){let O=this.resume(),_=this.stack[this.stack.length-1];_.meta=O}function h(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){let O=this.resume(),_=this.stack[this.stack.length-1];_.value=O.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){let O=this.resume(),_=this.stack[this.stack.length-1];_.value=O.replace(/(\r?\n|\r)$/g,"")}function b(O){let _=this.resume(),z=this.stack[this.stack.length-1];z.label=_,z.identifier=fr(this.sliceSerialize(O)).toLowerCase()}function S(){let O=this.resume(),_=this.stack[this.stack.length-1];_.title=O}function T(){let O=this.resume(),_=this.stack[this.stack.length-1];_.url=O}function w(O){let _=this.stack[this.stack.length-1];if(!_.depth){let z=this.sliceSerialize(O).length;_.depth=z}}function v(){this.data.setextHeadingSlurpLineEnding=!0}function E(O){let _=this.stack[this.stack.length-1];_.depth=this.sliceSerialize(O).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function I(O){let z=this.stack[this.stack.length-1].children,B=z[z.length-1];(!B||B.type!=="text")&&(B=Hi(),B.position={start:Nr(O.start),end:void 0},z.push(B)),this.stack.push(B)}function k(O){let _=this.stack.pop();_.value+=this.sliceSerialize(O),_.position.end=Nr(O.end)}function F(O){let _=this.stack[this.stack.length-1];if(this.data.atHardBreak){let z=_.children[_.children.length-1];z.position.end=Nr(O.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(_.type)&&(I.call(this,O),k.call(this,O))}function H(){this.data.atHardBreak=!0}function A(){let O=this.resume(),_=this.stack[this.stack.length-1];_.value=O}function N(){let O=this.resume(),_=this.stack[this.stack.length-1];_.value=O}function L(){let O=this.resume(),_=this.stack[this.stack.length-1];_.value=O}function W(){let O=this.stack[this.stack.length-1];if(this.data.inReference){let _=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=_,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function $(){let O=this.stack[this.stack.length-1];if(this.data.inReference){let _=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=_,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function me(O){let _=this.sliceSerialize(O),z=this.stack[this.stack.length-2];z.label=Ta(_),z.identifier=fr(_).toLowerCase()}function xe(){let O=this.stack[this.stack.length-1],_=this.resume(),z=this.stack[this.stack.length-1];if(this.data.inReference=!0,z.type==="link"){let B=O.children;z.children=B}else z.alt=_}function C(){let O=this.resume(),_=this.stack[this.stack.length-1];_.url=O}function ee(){let O=this.resume(),_=this.stack[this.stack.length-1];_.title=O}function ae(){this.data.inReference=void 0}function y(){this.data.referenceType="collapsed"}function V(O){let _=this.resume(),z=this.stack[this.stack.length-1];z.label=_,z.identifier=fr(this.sliceSerialize(O)).toLowerCase(),this.data.referenceType="full"}function G(O){this.data.characterReferenceType=O.type}function he(O){let _=this.sliceSerialize(O),z=this.data.characterReferenceType,B;z?(B=da(_,z==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):B=Fn(_);let Q=this.stack[this.stack.length-1];Q.value+=B}function De(O){let _=this.stack.pop();_.position.end=Nr(O.end)}function X(O){k.call(this,O);let _=this.stack[this.stack.length-1];_.url=this.sliceSerialize(O)}function ue(O){k.call(this,O);let _=this.stack[this.stack.length-1];_.url="mailto:"+this.sliceSerialize(O)}function te(){return{type:"blockquote",children:[]}}function Pe(){return{type:"code",lang:null,meta:null,value:""}}function Ae(){return{type:"inlineCode",value:""}}function Oe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ie(){return{type:"emphasis",children:[]}}function Tr(){return{type:"heading",depth:0,children:[]}}function or(){return{type:"break"}}function ir(){return{type:"html",value:""}}function _o(){return{type:"image",title:null,url:"",alt:null}}function wr(){return{type:"link",title:null,url:"",children:[]}}function Vi(O){return{type:"list",ordered:O.type==="listOrdered",start:null,spread:O._spread,children:[]}}function Bi(O){return{type:"listItem",spread:O._spread,checked:null,children:[]}}function el(){return{type:"paragraph",children:[]}}function tl(){return{type:"strong",children:[]}}function Hi(){return{type:"text",value:""}}function zi(){return{type:"thematicBreak"}}}function Nr(e){return{line:e.line,column:e.column,offset:e.offset}}function lh(e,t){let r=-1;for(;++r<t.length;){let n=t[r];Array.isArray(n)?lh(e,n):bE(e,n)}}function bE(e,t){let r;for(r in t)if(uh.call(t,r))switch(r){case"canContainEols":{let n=t[r];n&&e[r].push(...n);break}case"transforms":{let n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{let n=t[r];n&&Object.assign(e[r],n);break}}}function sh(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Rr({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Rr({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Rr({start:t.start,end:t.end})+") is still open")}function wa(e){let t=this;t.parser=r;function r(n){return Fl(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}var ch={}.hasOwnProperty;function fh(e,t){let r=t||{};function n(o,...i){let a=n.invalid,s=n.handlers;if(o&&ch.call(o,e)){let u=String(o[e]);a=ch.call(s,u)?s[u]:n.unknown}if(a)return a.call(this,o,...i)}return n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}var SE={}.hasOwnProperty;function Vl(e,t){let r=-1,n;if(t.extensions)for(;++r<t.extensions.length;)Vl(e,t.extensions[r]);for(n in t)if(SE.call(t,n))switch(n){case"extensions":break;case"unsafe":{ph(e[n],t[n]);break}case"join":{ph(e[n],t[n]);break}case"handlers":{CE(e[n],t[n]);break}default:e.options[n]=t[n]}return e}function ph(e,t){t&&e.push(...t)}function CE(e,t){t&&Object.assign(e,t)}function dh(e,t,r,n){let o=r.enter("blockquote"),i=r.createTracker(n);i.move("> "),i.shift(2);let a=r.indentLines(r.containerFlow(e,i.current()),EE);return o(),a}function EE(e,t,r){return">"+(r?"":" ")+e}function Ia(e,t){return mh(e,t.inConstruct,!0)&&!mh(e,t.notInConstruct,!1)}function mh(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function Bl(e,t,r,n){let o=-1;for(;++o<r.unsafe.length;)if(r.unsafe[o].character===`
`&&Ia(r.stack,r.unsafe[o]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function Wo(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function hh(e){let t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function gh(e,t,r,n){let o=hh(r),i=e.value||"",a=o==="`"?"GraveAccent":"Tilde";if(Wo(e,r)){let f=r.enter("codeIndented"),p=r.indentLines(i,TE);return f(),p}let s=r.createTracker(n),u=o.repeat(Math.max(Od(i,o)+1,3)),l=r.enter("codeFenced"),c=s.move(u);if(e.lang){let f=r.enter(`codeFencedLang${a}`);c+=s.move(r.safe(e.lang,{before:c,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){let f=r.enter(`codeFencedMeta${a}`);c+=s.move(" "),c+=s.move(r.safe(e.meta,{before:c,after:`
`,encode:["`"],...s.current()})),f()}return c+=s.move(`
`),i&&(c+=s.move(i+`
`)),c+=s.move(u),l(),c}function TE(e,t,r){return(r?"":"    ")+e}function Un(e){let t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function vh(e,t,r,n){let o=Un(r),i=o==='"'?"Quote":"Apostrophe",a=r.enter("definition"),s=r.enter("label"),u=r.createTracker(n),l=u.move("[");return l+=u.move(r.safe(r.associationId(e),{before:l,after:"]",...u.current()})),l+=u.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=r.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(r.safe(e.url,{before:l,after:">",...u.current()})),l+=u.move(">")):(s=r.enter("destinationRaw"),l+=u.move(r.safe(e.url,{before:l,after:e.title?" ":`
`,...u.current()}))),s(),e.title&&(s=r.enter(`title${i}`),l+=u.move(" "+o),l+=u.move(r.safe(e.title,{before:l,after:o,...u.current()})),l+=u.move(o),s()),a(),l}function xh(e){let t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}Hl.peek=wE;function Hl(e,t,r,n){let o=xh(r),i=r.enter("emphasis"),a=r.createTracker(n),s=a.move(o);return s+=a.move(r.containerPhrasing(e,{before:s,after:o,...a.current()})),s+=a.move(o),i(),s}function wE(e,t,r){return r.options.emphasis||"*"}function Ma(e,t){let r=!1;return Pd(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,Dd}),!!((!e.depth||e.depth<3)&&sn(e)&&(t.options.setext||r))}function yh(e,t,r,n){let o=Math.max(Math.min(6,e.depth||1),1),i=r.createTracker(n);if(Ma(e,r)){let c=r.enter("headingSetext"),f=r.enter("phrasing"),p=r.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),c(),p+`
`+(o===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}let a="#".repeat(o),s=r.enter("headingAtx"),u=r.enter("phrasing");i.move(a+" ");let l=r.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(l)&&(l="&#x"+l.charCodeAt(0).toString(16).toUpperCase()+";"+l.slice(1)),l=l?a+" "+l:a,r.options.closeAtx&&(l+=" "+a),u(),s(),l}zl.peek=IE;function zl(e){return e.value||""}function IE(){return"<"}Ul.peek=ME;function Ul(e,t,r,n){let o=Un(r),i=o==='"'?"Quote":"Apostrophe",a=r.enter("image"),s=r.enter("label"),u=r.createTracker(n),l=u.move("![");return l+=u.move(r.safe(e.alt,{before:l,after:"]",...u.current()})),l+=u.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=r.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(r.safe(e.url,{before:l,after:">",...u.current()})),l+=u.move(">")):(s=r.enter("destinationRaw"),l+=u.move(r.safe(e.url,{before:l,after:e.title?" ":")",...u.current()}))),s(),e.title&&(s=r.enter(`title${i}`),l+=u.move(" "+o),l+=u.move(r.safe(e.title,{before:l,after:o,...u.current()})),l+=u.move(o),s()),l+=u.move(")"),a(),l}function ME(){return"!"}jl.peek=_E;function jl(e,t,r,n){let o=e.referenceType,i=r.enter("imageReference"),a=r.enter("label"),s=r.createTracker(n),u=s.move("!["),l=r.safe(e.alt,{before:u,after:"]",...s.current()});u+=s.move(l+"]["),a();let c=r.stack;r.stack=[],a=r.enter("reference");let f=r.safe(r.associationId(e),{before:u,after:"]",...s.current()});return a(),r.stack=c,i(),o==="full"||!l||l!==f?u+=s.move(f+"]"):o==="shortcut"?u=u.slice(0,-1):u+=s.move("]"),u}function _E(){return"!"}Gl.peek=OE;function Gl(e,t,r){let n=e.value||"",o="`",i=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(n);)o+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++i<r.unsafe.length;){let a=r.unsafe[i],s=r.compilePattern(a),u;if(a.atBreak)for(;u=s.exec(n);){let l=u.index;n.charCodeAt(l)===10&&n.charCodeAt(l-1)===13&&l--,n=n.slice(0,l)+" "+n.slice(u.index+1)}}return o+n+o}function OE(){return"`"}function Wl(e,t){let r=sn(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}ql.peek=kE;function ql(e,t,r,n){let o=Un(r),i=o==='"'?"Quote":"Apostrophe",a=r.createTracker(n),s,u;if(Wl(e,r)){let c=r.stack;r.stack=[],s=r.enter("autolink");let f=a.move("<");return f+=a.move(r.containerPhrasing(e,{before:f,after:">",...a.current()})),f+=a.move(">"),s(),r.stack=c,f}s=r.enter("link"),u=r.enter("label");let l=a.move("[");return l+=a.move(r.containerPhrasing(e,{before:l,after:"](",...a.current()})),l+=a.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=r.enter("destinationLiteral"),l+=a.move("<"),l+=a.move(r.safe(e.url,{before:l,after:">",...a.current()})),l+=a.move(">")):(u=r.enter("destinationRaw"),l+=a.move(r.safe(e.url,{before:l,after:e.title?" ":")",...a.current()}))),u(),e.title&&(u=r.enter(`title${i}`),l+=a.move(" "+o),l+=a.move(r.safe(e.title,{before:l,after:o,...a.current()})),l+=a.move(o),u()),l+=a.move(")"),s(),l}function kE(e,t,r){return Wl(e,r)?"<":"["}Kl.peek=DE;function Kl(e,t,r,n){let o=e.referenceType,i=r.enter("linkReference"),a=r.enter("label"),s=r.createTracker(n),u=s.move("["),l=r.containerPhrasing(e,{before:u,after:"]",...s.current()});u+=s.move(l+"]["),a();let c=r.stack;r.stack=[],a=r.enter("reference");let f=r.safe(r.associationId(e),{before:u,after:"]",...s.current()});return a(),r.stack=c,i(),o==="full"||!l||l!==f?u+=s.move(f+"]"):o==="shortcut"?u=u.slice(0,-1):u+=s.move("]"),u}function DE(){return"["}function jn(e){let t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function bh(e){let t=jn(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function Sh(e){let t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function _a(e){let t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Ch(e,t,r,n){let o=r.enter("list"),i=r.bulletCurrent,a=e.ordered?Sh(r):jn(r),s=e.ordered?a==="."?")":".":bh(r),u=t&&r.bulletLastUsed?a===r.bulletLastUsed:!1;if(!e.ordered){let c=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&c&&(!c.children||!c.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(u=!0),_a(r)===a&&c){let f=-1;for(;++f<e.children.length;){let p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=s),r.bulletCurrent=a;let l=r.containerFlow(e,n);return r.bulletLastUsed=a,r.bulletCurrent=i,o(),l}function Eh(e){let t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Th(e,t,r,n){let o=Eh(r),i=r.bulletCurrent||jn(r);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let a=i.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);let s=r.createTracker(n);s.move(i+" ".repeat(a-i.length)),s.shift(a);let u=r.enter("listItem"),l=r.indentLines(r.containerFlow(e,s.current()),c);return u(),l;function c(f,p,d){return p?(d?"":" ".repeat(a))+f:(d?i:i+" ".repeat(a-i.length))+f}}function wh(e,t,r,n){let o=r.enter("paragraph"),i=r.enter("phrasing"),a=r.containerPhrasing(e,n);return i(),o(),a}var Yl=kd(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Ih(e,t,r,n){return(e.children.some(function(a){return Yl(a)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function Mh(e){let t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Xl.peek=PE;function Xl(e,t,r,n){let o=Mh(r),i=r.enter("strong"),a=r.createTracker(n),s=a.move(o+o);return s+=a.move(r.containerPhrasing(e,{before:s,after:o,...a.current()})),s+=a.move(o+o),i(),s}function PE(e,t,r){return r.options.strong||"*"}function _h(e,t,r,n){return r.safe(e.value,n)}function Oh(e){let t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function kh(e,t,r){let n=(_a(r)+(r.options.ruleSpaces?" ":"")).repeat(Oh(r));return r.options.ruleSpaces?n.slice(0,-1):n}var Dh={blockquote:dh,break:Bl,code:gh,definition:vh,emphasis:Hl,hardBreak:Bl,heading:yh,html:zl,image:Ul,imageReference:jl,inlineCode:Gl,link:ql,linkReference:Kl,list:Ch,listItem:Th,paragraph:wh,root:Ih,strong:Xl,text:_h,thematicBreak:kh};var Ph=[AE];function AE(e,t,r,n){if(t.type==="code"&&Wo(t,n)&&(e.type==="list"||e.type===t.type&&Wo(e,n)))return!1;if("spread"in r&&typeof r.spread=="boolean")return e.type==="paragraph"&&(e.type===t.type||t.type==="definition"||t.type==="heading"&&Ma(t,n))?void 0:r.spread?1:0}var fn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],Ah=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:fn},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:fn},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:fn},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:fn},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:fn},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:fn},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:fn},{atBreak:!0,character:"~"}];function Lh(e){return e.label||!e.identifier?e.label||"":Ta(e.identifier)}function Rh(e){if(!e._compiled){let t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function Nh(e,t,r){let n=t.indexStack,o=e.children||[],i=[],a=-1,s=r.before;n.push(-1);let u=t.createTracker(r);for(;++a<o.length;){let l=o[a],c;if(n[n.length-1]=a,a+1<o.length){let f=t.handle.handlers[o[a+1].type];f&&f.peek&&(f=f.peek),c=f?f(o[a+1],e,t,{before:"",after:"",...u.current()}).charAt(0):""}else c=r.after;i.length>0&&(s==="\r"||s===`
`)&&l.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),s=" ",u=t.createTracker(r),u.move(i.join(""))),i.push(u.move(t.handle(l,e,t,{...u.current(),before:s,after:c}))),s=i[i.length-1].slice(-1)}return n.pop(),i.join("")}function Fh(e,t,r){let n=t.indexStack,o=e.children||[],i=t.createTracker(r),a=[],s=-1;for(n.push(-1);++s<o.length;){let u=o[s];n[n.length-1]=s,a.push(i.move(t.handle(u,e,t,{before:`
`,after:`
`,...i.current()}))),u.type!=="list"&&(t.bulletLastUsed=void 0),s<o.length-1&&a.push(i.move(LE(u,o[s+1],e,t)))}return n.pop(),a.join("")}function LE(e,t,r,n){let o=n.join.length;for(;o--;){let i=n.join[o](e,t,r,n);if(i===!0||i===1)break;if(typeof i=="number")return`
`.repeat(1+i);if(i===!1)return`

<!---->

`}return`

`}var RE=/\r?\n|\r/g;function Vh(e,t){let r=[],n=0,o=0,i;for(;i=RE.exec(e);)a(e.slice(n,i.index)),r.push(i[0]),n=i.index+i[0].length,o++;return a(e.slice(n)),r.join("");function a(s){r.push(t(s,o,!s))}}function Hh(e,t,r){let n=(r.before||"")+(t||"")+(r.after||""),o=[],i=[],a={},s=-1;for(;++s<e.unsafe.length;){let c=e.unsafe[s];if(!Ia(e.stack,c))continue;let f=e.compilePattern(c),p;for(;p=f.exec(n);){let d="before"in c||!!c.atBreak,m="after"in c,h=p.index+(d?p[1].length:0);o.includes(h)?(a[h].before&&!d&&(a[h].before=!1),a[h].after&&!m&&(a[h].after=!1)):(o.push(h),a[h]={before:d,after:m})}}o.sort(NE);let u=r.before?r.before.length:0,l=n.length-(r.after?r.after.length:0);for(s=-1;++s<o.length;){let c=o[s];c<u||c>=l||c+1<l&&o[s+1]===c+1&&a[c].after&&!a[c+1].before&&!a[c+1].after||o[s-1]===c-1&&a[c].before&&!a[c-1].before&&!a[c-1].after||(u!==c&&i.push(Bh(n.slice(u,c),"\\")),u=c,/[!-/:-@[-`{-~]/.test(n.charAt(c))&&(!r.encode||!r.encode.includes(n.charAt(c)))?i.push("\\"):(i.push("&#x"+n.charCodeAt(c).toString(16).toUpperCase()+";"),u++))}return i.push(Bh(n.slice(u,l),r.after)),i.join("")}function NE(e,t){return e-t}function Bh(e,t){let r=/\\(?=[!-/:-@[-`{-~])/g,n=[],o=[],i=e+t,a=-1,s=0,u;for(;u=r.exec(i);)n.push(u.index);for(;++a<n.length;)s!==n[a]&&o.push(e.slice(s,n[a])),o.push("\\"),s=n[a];return o.push(e.slice(s)),o.join("")}function zh(e){let t=e||{},r=t.now||{},n=t.lineShift||0,o=r.line||1,i=r.column||1;return{move:u,current:a,shift:s};function a(){return{now:{line:o,column:i},lineShift:n}}function s(l){n+=l}function u(l){let c=l||"",f=c.split(/\r?\n|\r/g),p=f[f.length-1];return o+=f.length-1,i=f.length===1?i+p.length:1+p.length+n,c}}function $l(e,t={}){let r={enter:o,indentLines:Vh,associationId:Lh,containerPhrasing:HE,containerFlow:zE,createTracker:zh,compilePattern:Rh,safe:UE,stack:[],unsafe:[...Ah],join:[...Ph],handlers:{...Dh},options:{},indexStack:[],handle:void 0};Vl(r,t),r.options.tightDefinitions&&r.join.push(BE),r.handle=fh("type",{invalid:FE,unknown:VE,handlers:r.handlers});let n=r.handle(e,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return n&&n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n;function o(i){return r.stack.push(i),a;function a(){r.stack.pop()}}}function FE(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function VE(e){let t=e;throw new Error("Cannot handle unknown node `"+t.type+"`")}function BE(e,t){if(e.type==="definition"&&e.type===t.type)return 0}function HE(e,t){return Nh(e,this,t)}function zE(e,t){return Fh(e,this,t)}function UE(e,t){return Hh(this,e,t)}function Oa(e){let t=this;t.compiler=r;function r(n){return $l(n,{...t.data("settings"),...e,extensions:t.data("toMarkdownExtensions")||[]})}}var Da=P(LS(),1);var Fe=class extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let o="",i={},a=!1;if(r&&("line"in r&&"column"in r?i={place:r}:"start"in r&&"end"in r?i={place:r}:"type"in r?i={ancestors:[r],place:r.position}:i={...r}),typeof t=="string"?o=t:!i.cause&&t&&(a=!0,o=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof n=="string"){let u=n.indexOf(":");u===-1?i.ruleId=n:(i.source=n.slice(0,u),i.ruleId=n.slice(u+1))}if(!i.place&&i.ancestors&&i.ancestors){let u=i.ancestors[i.ancestors.length-1];u&&(i.place=u.position)}let s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=s?s.line:void 0,this.name=Rr(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}};Fe.prototype.file="";Fe.prototype.name="";Fe.prototype.reason="";Fe.prototype.message="";Fe.prototype.stack="";Fe.prototype.column=void 0;Fe.prototype.line=void 0;Fe.prototype.ancestors=void 0;Fe.prototype.cause=void 0;Fe.prototype.fatal=void 0;Fe.prototype.place=void 0;Fe.prototype.ruleId=void 0;Fe.prototype.source=void 0;var At={basename:jE,dirname:GE,extname:WE,join:qE,sep:"/"};function jE(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');qo(e);let r=0,n=-1,o=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(i){r=o+1;break}}else n<0&&(i=!0,n=o+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let a=-1,s=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(i){r=o+1;break}}else a<0&&(i=!0,a=o+1),s>-1&&(e.codePointAt(o)===t.codePointAt(s--)?s<0&&(n=o):(s=-1,n=a));return r===n?n=a:n<0&&(n=e.length),e.slice(r,n)}function GE(e){if(qo(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function WE(e){qo(e);let t=e.length,r=-1,n=0,o=-1,i=0,a;for(;t--;){let s=e.codePointAt(t);if(s===47){if(a){n=t+1;break}continue}r<0&&(a=!0,r=t+1),s===46?o<0?o=t:i!==1&&(i=1):o>-1&&(i=-1)}return o<0||r<0||i===0||i===1&&o===r-1&&o===n+1?"":e.slice(o,r)}function qE(...e){let t=-1,r;for(;++t<e.length;)qo(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":KE(r)}function KE(e){qo(e);let t=e.codePointAt(0)===47,r=YE(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function YE(e,t){let r="",n=0,o=-1,i=0,a=-1,s,u;for(;++a<=e.length;){if(a<e.length)s=e.codePointAt(a);else{if(s===47)break;s=47}if(s===47){if(!(o===a-1||i===1))if(o!==a-1&&i===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(u=r.lastIndexOf("/"),u!==r.length-1){u<0?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),o=a,i=0;continue}}else if(r.length>0){r="",n=0,o=a,i=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(o+1,a):r=e.slice(o+1,a),n=a-o-1;o=a,i=0}else s===46&&i>-1?i++:i=-1}return r}function qo(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}var Uh={cwd:XE};function XE(){return"/"}function Gn(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function jh(e){if(typeof e=="string")e=new URL(e);else if(!Gn(e)){let t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){let t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return $E(e)}function $E(e){if(e.hostname!==""){let n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}let t=e.pathname,r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){let n=t.codePointAt(r+2);if(n===70||n===102){let o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}var Ql=["history","path","basename","stem","extname","dirname"],Ko=class{constructor(t){let r;t?Gn(t)?r={path:t}:typeof t=="string"||QE(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":Uh.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<Ql.length;){let i=Ql[n];i in r&&r[i]!==void 0&&r[i]!==null&&(this[i]=i==="history"?[...r[i]]:r[i])}let o;for(o in r)Ql.includes(o)||(this[o]=r[o])}get basename(){return typeof this.path=="string"?At.basename(this.path):void 0}set basename(t){Jl(t,"basename"),Zl(t,"basename"),this.path=At.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?At.dirname(this.path):void 0}set dirname(t){Gh(this.basename,"dirname"),this.path=At.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?At.extname(this.path):void 0}set extname(t){if(Zl(t,"extname"),Gh(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=At.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Gn(t)&&(t=jh(t)),Jl(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?At.basename(this.path,this.extname):void 0}set stem(t){Jl(t,"stem"),Zl(t,"stem"),this.path=At.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){let o=this.message(t,r,n);throw o.fatal=!0,o}info(t,r,n){let o=this.message(t,r,n);return o.fatal=void 0,o}message(t,r,n){let o=new Fe(t,r,n);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}};function Zl(e,t){if(e&&e.includes(At.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+At.sep+"`")}function Jl(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Gh(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function QE(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}var Wh=function(e){let n=this.constructor.prototype,o=n[e],i=function(){return o.apply(i,arguments)};return Object.setPrototypeOf(i,n),i};var ZE={}.hasOwnProperty,nc=class e extends Wh{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=_d()}copy(){let t=new e,r=-1;for(;++r<this.attachers.length;){let n=this.attachers[r];t.use(...n)}return t.data((0,Da.default)(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(rc("data",this.frozen),this.namespace[t]=r,this):ZE.call(this.namespace,t)&&this.namespace[t]||void 0:t?(rc("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;let t=this;for(;++this.freezeIndex<this.attachers.length;){let[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);let o=r.call(t,...n);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();let r=ka(t),n=this.parser||this.Parser;return ec("parse",n),n(String(r),r)}process(t,r){let n=this;return this.freeze(),ec("process",this.parser||this.Parser),tc("process",this.compiler||this.Compiler),r?o(void 0,r):new Promise(o);function o(i,a){let s=ka(t),u=n.parse(s);n.run(u,s,function(c,f,p){if(c||!f||!p)return l(c);let d=f,m=n.stringify(d,p);eT(m)?p.value=m:p.result=m,l(c,p)});function l(c,f){c||!f?a(c):i?i(f):r(void 0,f)}}}processSync(t){let r=!1,n;return this.freeze(),ec("processSync",this.parser||this.Parser),tc("processSync",this.compiler||this.Compiler),this.process(t,o),Kh("processSync","process",r),n;function o(i,a){r=!0,ol(i),n=a}}run(t,r,n){qh(t),this.freeze();let o=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?i(void 0,n):new Promise(i);function i(a,s){let u=ka(r);o.run(t,u,l);function l(c,f,p){let d=f||t;c?s(c):a?a(d):n(void 0,d,p)}}}runSync(t,r){let n=!1,o;return this.run(t,r,i),Kh("runSync","run",n),o;function i(a,s){ol(a),o=s,n=!0}}stringify(t,r){this.freeze();let n=ka(r),o=this.compiler||this.Compiler;return tc("stringify",o),qh(t),o(t,n)}use(t,...r){let n=this.attachers,o=this.namespace;if(rc("use",this.frozen),t!=null)if(typeof t=="function")u(t,r);else if(typeof t=="object")Array.isArray(t)?s(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(l){if(typeof l=="function")u(l,[]);else if(typeof l=="object")if(Array.isArray(l)){let[c,...f]=l;u(c,f)}else a(l);else throw new TypeError("Expected usable value, not `"+l+"`")}function a(l){if(!("plugins"in l)&&!("settings"in l))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(l.plugins),l.settings&&(o.settings=(0,Da.default)(!0,o.settings,l.settings))}function s(l){let c=-1;if(l!=null)if(Array.isArray(l))for(;++c<l.length;){let f=l[c];i(f)}else throw new TypeError("Expected a list of plugins, not `"+l+"`")}function u(l,c){let f=-1,p=-1;for(;++f<n.length;)if(n[f][0]===l){p=f;break}if(p===-1)n.push([l,...c]);else if(c.length>0){let[d,...m]=c,h=n[p][1];ea(h)&&ea(d)&&(d=(0,Da.default)(!0,h,d)),n[p]=[l,d,...m]}}}},oc=new nc().freeze();function ec(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function tc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function rc(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function qh(e){if(!ea(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Kh(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ka(e){return JE(e)?e:new Ko(e)}function JE(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function eT(e){return typeof e=="string"||tT(e)}function tT(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}var Yh=oc().use(wa).use(Oa).freeze();var rT={blockquote:Fr,break:aT,code:Lt,definition:Lt,delete:Fr,emphasis:Fr,footnoteReference:Lt,footnoteDefinition:Lt,heading:iT,html:Lt,image:$h,imageReference:$h,inlineCode:Qh,list:Fr,listItem:Fr,link:Fr,linkReference:Fr,strong:Fr,table:Lt,tableCell:Lt,text:Qh,thematicBreak:Lt,toml:Lt,yaml:Lt},nT={},Xh=[];function Pa(e){let t={...rT},r=e||nT,n=r.keep||Xh,o=r.remove||Xh,i=-1;for(;++i<o.length;){let l=o[i];typeof l=="string"?t[l]=Lt:t[l[0]]=l[1]}let a={};if(n.length===0)a=t;else{let l;for(l in t)n.includes(l)||(a[l]=t[l]);for(i=-1;++i<n.length;)if(l=n[i],!Object.hasOwn(t,l))throw new Error("Unknown node type `"+l+"` in `keep`, use a replace tuple with a handle instead: `remove: [['"+l+"', handle]]`")}return function(l){return s(l)};function s(l){let c=l.type,f=l;if(Object.hasOwn(a,c)){let p=a[c];p&&(f=p(f)||void 0)}return f=Array.isArray(f)?u(f):f,f&&"children"in f&&(f.children=u(f.children)),f}function u(l){let c=-1,f=[];for(;++c<l.length;){let p=s(l[c]);Array.isArray(p)?f.push(...u(p)):p&&f.push(p)}return oT(f)}}function oT(e){let t=-1,r=[],n;for(;++t<e.length;){let o=e[t];n&&o.type===n.type&&"value"in o&&"value"in n?n.value+=o.value:(r.push(o),n=o)}return r}function $h(e){let t="title"in e?e.title:"",r=e.alt||t||"";return r?{type:"text",value:r}:void 0}function Qh(e){return{type:"text",value:e.value}}function iT(e){return{type:"paragraph",children:e.children}}function Fr(e){return e.children}function aT(){return{type:"text",value:`
`}}function Lt(){}var sT=async e=>{let t=e,r=Array.from(e.matchAll(/\[maxai-embed\]\(([^)]+)\)/g)),n=Array.from(new Set(r.map(o=>o[1])));return await Promise.all(n.map(async o=>{let{data:i}=await yp(()=>Md.downloadDocument(o)),a=i?.data;return a?(t=t.replaceAll(`[maxai-embed](${o})`,""),a):null})),t},Zh=async e=>{let t=await sT(e);return(await Yh().use(Pa).process(t)).toString()};var uT=[],lT=new Qi({runtime:"client"}),cT=e=>[],Aa=()=>{let e=rt()?.querySelector(".max-ai__action__set_variables_modal");if(e){let r=Array.from(e.querySelectorAll("textarea")).filter(o=>!o.hasAttribute("aria-hidden")),n=r.find(o=>o.value==="")||r[r.length-1];if(n){n.focus(),setTimeout(()=>{n?.focus()},1);return}}let t=rt()?.querySelector(`#${Ln}`);t&&setTimeout(()=>{t?.focus()},1)},fT=()=>{let[e,t]=(0,ke.useState)(""),[r,n]=(0,ke.useState)(!1),[o,i]=(0,ke.useState)(!1),[a,s]=(0,ke.useState)(!1),[u]=et(st),{setAppSettingsState:l,appSettings:c}=cr(),f=c.userSettings?.alwaysContinueInSidebar,[p,d]=(0,ke.useState)([]),{currentSelectionRef:m,hideRangy:h}=pn(),{setLocalSettings:x}=Gt(),{askAIQuestion:g,stopGenerate:b,shortCutsEngine:S,runLastActionsAgain:T,askAIWithShortcuts:w}=Fd(),v=at(sl),{contextMenuPath:E,mode:M}=Ne(),{continueConversationInSidebar:I}=Lm(),{conversationId:k}=ta(),F=Ad(k),H=Rd(k),{activeResponseMessage:A,currentFloatingContextMenuDraft:N,activeResponseMessageIdRef:L,autoUpdateActiveIndex:W}=Yo(),$=Ke(A),{liteContextMenuActionsItems:me,liteContextMenuList:xe}=Om(M==="list"?e:"",{enabledFavorite:!0,enabledVisibilitySettings:!0,selectionInputAble:m.current?.selectionInputAble}),C=ac(me,e),[ee,ae]=et(Ro),y=(0,ke.useMemo)(()=>F||a||A&&wd(A,"needUpgrade")?uT:N?e.trim()?[...C,...me]:C:me,[a,e,F,me,N,C,A]),V=ie(({snapshot:X,set:ue})=>async te=>{let{currentSelection:Pe,tempSelection:Ae}=await X.getPromise(Vn),Oe=await Zh(N),Ie=Pe?.selectionElement||Ae?.selectionElement,Tr=["REPLACE_SELECTION","INSERT_BELOW","INSERT","INSERT_ABOVE","DISCARD","COPY","ACCEPT_AND_COPY"],or=al(te);if(or)switch(Tr.includes(or)&&(ue(aa,{range:null,selectionText:""}),ue(st,{open:!1,rootRect:null,showModelSelector:!1,miniMenuPlacement:null}),ue(sl,{selectedDraftContextMenuId:"",lastOutput:""}),h(!0)),or){case"INSERT_BELOW":case"INSERT":case"INSERT_ABOVE":case"REPLACE_SELECTION":Ie&&lT.postMessage({event:"Client_updateIframeInput",data:{value:Oe,type:or,id:Ie.id,startMarkerId:Ie.startMarkerId,endMarkerId:Ie.endMarkerId,caretOffset:Ie.caretOffset}});break;case"ACCEPT_AND_COPY":try{let ir=Pe?.selectionElement?.target?.getAttribute("maxai-input-assistant-button-id");if(ir){yl(Oe);let _o=Wd.get(ir);km(_o,Oe)}}catch{}break;case"COPY":try{yl(Oe)}catch{}break;default:break}});ic(e,o);let G=async()=>{if(e.trim()){let X=m.current?.selectionElement,ue=X?.editableElementSelectionText||X?.selectionText||"",te="";X&&(X.isEditableElement?ue?N?te=N:te=ue:N?te=N:te="":te=ue+`
`+N);let Pe=`${e}`;te&&(Pe+=`:
"""
${te}
"""`),t(""),f&&I(k),await g({type:"user",text:Pe,meta:{includeHistory:!0,messageVisibleText:e}},{beforeActions:[{type:"SET_VARIABLE",parameters:{Variable:{key:"SELECTED_TEXT",value:te,label:"Selected text",isBuiltIn:!0,overwrite:!0}}}]})}};(0,ke.useEffect)(()=>{let X=null;return r?s(!0):X=setTimeout(()=>{s(!1)},200),()=>{X&&clearTimeout(X)}},[r]),(0,ke.useEffect)(()=>{if(u.open&&y.length>0){let X=null;for(let ue=0;ue<y.length;ue++){let te=y[ue];if(te.type==="group"){if(te.children&&te.children.length>0){X=te.children[0];break}}else{X=te;break}}X&&ae(ue=>({...ue,lastHoverContextMenuId:X?.prompt_id||""}))}},[y,u.open]);let he=Ke(b);(0,ke.useEffect)(()=>{if(ee.selectedContextMenuId&&y.length>0&&u.open&&!F){let X=ee.selectedContextMenuId,ue=!1,te=null;Xd(X)&&(X=X.replace(Pt,""),ue=!0);let Pe=Ud(X);if(Pe){let Ae=jd(X);Ae&&(te=Ae)}else{let Ae=xe.find(Oe=>Oe.prompt_id===X)||null;te=Ae?Vo(Ae):null}if(te&&te.prompt_id){if(te.type==="group")return;ue&&(te=$d(te));let Ae=te?.prompt_id,Oe=tt(te?.actions||[]);if(te?.prompt_id===be.CONTINUE_WRITING&&Oe.unshift({type:"RENDER_TEMPLATE",parameters:{template:L.current||""}}),ae(()=>({selectedContextMenuId:null,hoverContextMenuIdMap:{},lastHoverContextMenuId:null})),te?.prompt_id===be.CONTINUE_IN_CHAT&&k){I(k);return}if(Oe.length>0){$.current?.originalMessage?.content?.text&&Oe.unshift({type:"SET_VARIABLE",parameters:{Variable:{key:"SELECTED_TEXT",value:$.current.originalMessage.content.text,isBuiltIn:!0,overwrite:!0,label:"Selected text overwrite"}}});let Ie=Oe.find(Tr=>Tr.type==="SET_VARIABLES_MODAL");Ie&&Ie.parameters?.MaxAIPromptActionConfig&&m.current?.relatedContent&&(Ie.parameters.MaxAIPromptActionConfig.variables.push({name:"__RELATED_CONTENT__",default_value:m.current.relatedContent,hint:"Related content",hidden:!0,type:"text"}),m.current.relatedContent),d(Oe)}else Pe&&(al(Ae)==="TRY_AGAIN"?(v(Ie=>({...Ie,selectedDraftContextMenuId:null})),he.current?.(),T()):V(te.prompt_id))}}},[E,ee.selectedContextMenuId,y,k,H,u.open,F]);let De=(0,ke.useRef)(!1);return(0,ke.useEffect)(()=>{if(De.current||!k||p.length<=0)return;x({sidebarSettings:{contextMenu:{conversationId:k}}}),f&&I(k);let X=tt(p);X.unshift({type:"SET_VARIABLE",parameters:{Variable:{key:"VARIABLE_MODAL_KEY",value:"FloatingContextMenu",overwrite:!0,isBuiltIn:!0}}}),De.current=!0,d([]),t("");let ue=m.current?.selectionElement;w(cT(N).concat(X),{overwriteParameters:ue?.selectionText?[{key:"SELECTED_TEXT",value:ue.selectionText,label:"Selected text",isBuiltIn:!0,overwrite:!0}]:[]}).then(()=>{let te=S?.getNextAction()?.error||""}).catch().finally(()=>{De.current=!1,h(!1)})},[f,p,w,k,N]),(0,ke.useEffect)(()=>{F||Lo()&&Aa()},[F]),(0,ke.useEffect)(()=>{let X=ue=>{t(ue)};return kr("floatingMenuInputMediator").subscribe(X),()=>{kr("floatingMenuInputMediator").unsubscribe(X)}},[t]),(0,ke.useEffect)(()=>{if(u.open)kr("floatingMenuInputMediator").updateInputValue(""),Aa(),Nn().then(X=>{l(X)});else{De.current=!1,i(!1),n(!1),t("");let ue=rt()?.querySelector(`#${Ln}`)?.value;ue&&kr("chatBoxInputMediator").updateInputValue(ue)}},[u.open]),(0,ke.useEffect)(()=>{W()},[F,H.length]),{loading:F,inputValue:e,setInputValue:t,contextWindowList:y,setIsSettingCustomVariables:n,setIsEditedCustomVariables:i,isSettingCustomVariables:a,isEditedCustomVariable:o,askAIWithContextWindow:G}};function sc(){let{t:e}=Me(["client"]),t=at(sa),r=at(st),{floatingDropdownMenuPin:n}=Fo(),o=(a=!1)=>{let s=document.getElementById("maxai-global-popup-container");s?.shadowRoot&&s.shadowRoot.querySelector('div[data-testid="maxai--auth--sign-in-card-modal"]')||!a&&n||r({open:!1,rootRect:null,showModelSelector:!1,miniMenuPlacement:null})};return{closeContextMenu:ie(({snapshot:a})=>async s=>{let{haveManualEdited:u}=await a.getPromise(sa);if(!u){o(s);return}let l=e("client:floating_menu__discard_changes_card__your_draft__title"),c=ji();return t(f=>({...f,stack:[...f.stack,{content:l,discardId:c}]})),new Promise(f=>{ym.receive("DiscardModalClose",p=>{if(p.discardId===c)return f(p),!0})}).then(({confirm:f,cancel:p})=>{if(f)return o(!0),!0;if(p)throw Aa(),Error("discard modal cancel")})}),hideFloatingContextMenu:o}}function ic(e,t){let{conversationMessages:r}=Nd(),n=(0,La.useMemo)(()=>r.filter(i=>Po(i)).some(i=>!i.meta?.MaxAIPromptActionConfig),[r]),o=at(sa);(0,La.useEffect)(()=>{let i=n||e.length!==0||t;o(a=>a.haveManualEdited===i?a:{...a,haveManualEdited:i})},[n,e,t])}var dn=P(R());function pT(e=50){let[t,r]=(0,dn.useState)(!1),n=(0,dn.useRef)(),o=(0,dn.useCallback)(()=>{clearTimeout(n.current),r(!0)},[]),i=(0,dn.useCallback)(()=>{n.current=setTimeout(()=>{r(!1)},e)},[]);return{hover:t,onMouseEnter:o,onMouseLeave:i}}var Jh=P(R());var dT=new Set(["mail.google.com","outlook.live.com","youtube.com","studio.youtube.com","linkedin.com"]),ac=(e,t)=>{let{currentSelection:r}=ye(Vn);return(0,Jh.useMemo)(()=>{let n=[];if(r?.selectionElement?.target?.getAttribute("maxai-input-assistant-button-id")){n=[be.INSERT_BELOW,be.INSERT,be.REPLACE_SELECTION];let a=Rn();dT.has(a)||n.push(be.ACCEPT_AND_COPY)}else r?.selectionElement?.isEditableElement?r?.selectionElement?.editableElementSelectionText?n=[be.INSERT,be.ACCEPT_AND_COPY]:n=[be.REPLACE_SELECTION,be.INSERT_BELOW,be.ACCEPT_AND_COPY]:n=[be.INSERT_BELOW,be.INSERT,be.REPLACE_SELECTION,be.ACCEPT_AND_COPY];let o=Hd.filter(a=>!n.includes(a.prompt_id)),i=o.findIndex(a=>a.prompt_id===be.CONTINUE_WRITING);if(!t.trim()){let a={prompt_id:be.REWRITE,prompt_title:"Rewrite",parent_prompt_id:"",type:"group",prompt_icon:"Rewrite",actions:[],children:e.filter(s=>s.prompt_id!==Pt&&s.prompt_id!==be.CONTINUE_WRITING).map(s=>(s.children||[]).map(u=>({...u,parent_prompt_id:be.REWRITE}))).flat()};i===-1?o.push(a):o.splice(i+1,0,a)}return o.filter(a=>a.prompt_title.toLowerCase().includes(t.trim().toLowerCase()))},[r,e,t])};var mT=new $i("ContextMenu/useFloatingContextMenu"),an=()=>{let e=at(Up),{saveCurrentSelection:t,show:r,hideRangy:n,tempSelection:o}=pn(),{floatingDropdownMenuPin:i,setFloatingDropdownMenuPin:a}=Fo(),s=ye(ia),u=at(st),{hideFloatingContextMenu:l}=sc(),{setAppSettings:c}=cr(),f=Ke(i),p=async(g,b,S,T,w)=>{let v=g;if(!Lo()&&v&&(v?.selectionText||v?.isEditableElement||S)){if(mT.info("open",v),v.isEditableElement&&v.target){let I=nm(v.target),k=tt(v);k.editableElementSelectionText=I.editableElementSelectionText,k.editableElementSelectionHTML=I.editableElementSelectionText,k.selectionText=I.selectionText,I&&(k.startMarkerId=I.startMarkerId,k.endMarkerId=I.endMarkerId,k.selectionText=I.selectionText,k.editableElementSelectionText=I.editableElementSelectionText,v=k)}b&&(v={...v,...b});let M=!0;if(T?M=T:g?.target&&id()?.contains(g?.target)&&(M=!1),!v?.isEditableElement&&v.selectionText||v?.editableElementSelectionText||S){t({selectionText:v.editableElementSelectionText||v.selectionText||"",selectionHTML:v.editableElementSelectionText||v.selectionText||"",selectionRect:v.selectionRect,activeElement:v.target,selectionInputAble:v.isEditableElement,selectionElement:v,relatedContent:v.relatedContent}),n(),u(I=>({...I,open:!0,openAutoExecute:w,rootRect:v?.selectionRect?il(v.selectionRect):null,showModelSelector:M}));return}}let E=Lo();if(E&&Gd(),f.current||(n(),u({open:!1,rootRect:null,showModelSelector:!!T,miniMenuPlacement:null})),!Ji()){if(E){No(),e(M=>({...M,open:!0}));return}la()?(fl(),e(M=>({...M,open:!1}))):(No(),e(M=>({...M,open:!0})))}},d=(g,b,S,T,w)=>{let v=ra(g.getBoundingClientRect()),E={selectionText:b,selectionHTML:b,selectionRect:il(v),isEditableElement:!1,target:g,editableElementSelectionText:"",editableElementSelectionHTML:""};p(E,{},S,T,w)},m=({openAutoExecute:g=!1}={})=>{r&&!s&&o&&p(o.selectionElement,{},!0,!1,g)},h=ie(({set:g})=>()=>{g(st,b=>({...b,open:!1}))}),x=ie(({snapshot:g,set:b})=>async S=>{let T=await g.getPromise(st);await c({userSettings:{alwaysContinueInSidebar:!1}}),T.rootRect&&S&&(fl(),setTimeout(()=>{b(Zd,S),b(st,w=>({...w,open:!0}))},0))},[]);return{floatingDropdownMenuPin:i,setFloatingDropdownMenu:u,setFloatingDropdownMenuPin:a,showFloatingContextMenu:m,hideFloatingContextMenu:l,haveSelection:r,floatingDropdownMenuOpen:s,showFloatingContextMenuWithElement:d,showFloatingContextMenuWithVirtualElement:p,hideWithClickAlwaysPintoSidebar:h,showWithClickAlwaysPintoSidebar:x}};var yt=P(R());var hT=xt({key:"ContextMenuDraftHistoryActiveIndexState",default:-1}),Yo=()=>{let{conversationMessages:e,conversationId:t}=ta(),r=Ld(t),n=(0,yt.useRef)(null);(0,yt.useEffect)(()=>{r&&e.findIndex(x=>x.messageId===r.messageId)===-1?n.current=r:n.current=null},[r,e]);let[o,i]=et(hT),a=(0,yt.useMemo)(()=>{let x=!1,g=e.map(b=>r?.messageId===b.messageId&&r.conversationId===t?(x=!0,Mr([b,r])):b);return x?g:[...g,r||n.current].filter(Boolean)},[e,r,t]),s=(0,yt.useRef)(0),u=(0,yt.useMemo)(()=>{let x=a.filter(g=>!Po(g));return s.current=x.length,x},[a]),l=(0,yt.useMemo)(()=>o<0||o>=u.length?void 0:u[o],[o,u]),c=(0,yt.useMemo)(()=>{if(!l)return;let x=a.findIndex(b=>b.messageId===l.messageId);if(!x)return;let g=a[x-1];if(Po(g))return g},[l,a]),f=Ke(l?.messageId),p=(0,yt.useMemo)(()=>{let x=u[o],g="";return x&&Td(x)?g:(x&&(g=Id(x,!1)),g.replace(/\n{2,}/,`

`))},[o,u]),d=()=>{i(x=>x+1===u.length?x:x+1)},m=()=>{i(x=>x-1===-1?x:x-1)},h=()=>{i(s.current-1)};return(0,yt.useEffect)(()=>{i(u.length-1)},[u.length,i]),{draftUserMessage:c,activeResponseMessage:l,currentFloatingContextMenuDraft:p,activeResponseMessageIndex:o,totalResponseCount:u.length,goToNextMessage:d,goToPreviousMessage:m,activeResponseMessageIdRef:f,autoUpdateActiveIndex:h}};var Vr=P(R()),uc=P(vp());var Xo="MAXAI_FLOATING_CONTEXT_WINDOW_LAYOUT",gT=e=>{let[t,r]=(0,Vr.useState)(0),[n,o]=(0,Vr.useState)(0);(0,Vr.useEffect)(()=>{uc.default.storage.local.get(Xo).then(u=>{u[Xo]&&(r(u[Xo].width),o(u[Xo].height))})},[]);let i=(0,Vr.useMemo)(()=>{if(t)return t;if(e){let u=Math.max(e?.width||0,rl-32);return u>1280?1280:u}return rl-32},[e,t]),a=(0,Vr.useMemo)(()=>n||0,[e,n]);return{defaultWidth:i,defaultHeight:a,updateLayout:u=>{u.height||(u.height=n),uc.default.storage.local.set({[Xo]:u}),r(u.width),o(u.height)}}};var Ra=P(R());var vT=e=>{let{x:t,y:r,refs:n,update:o,dragOffsetRef:i,floatingSizeOffsetRef:a}=e,[s,u]=(0,Ra.useState)(),l=(0,Ra.useMemo)(()=>{switch(s){case"top-left":case"left":return{right:a.current.startRight,bottom:a.current.startBottom};case"top-right":case"top":return{left:a.current.startLeft,bottom:a.current.startBottom};case"bottom-left":case"bottom":return{top:a.current.startTop,right:a.current.startRight};case"bottom-right":case"right":return{top:a.current.startTop,left:a.current.startLeft}}return{top:r??0,left:t??0}},[s,t,r]);return{resizeDir:s,floatingPosition:l,floatingSizeOffsetRef:a,startResize:d=>{let m=n.floating.current?.clientWidth||0,h=n.floating.current?.clientHeight||0;u(d),a.current.startWidth=m,a.current.startHeight=h,a.current.startLeft=t,a.current.startRight=document.documentElement.clientWidth-(t+m),a.current.startTop=r,a.current.startBottom=document.documentElement.clientHeight-(r+h)},handleResize:(d,m,h)=>{a.current.dx=d,a.current.dy=m,a.current.resizeDir=h,a.current.resized=!0,o()},stopResize:()=>{let d=n.floating.current?.clientWidth||0,m=n.floating.current?.clientHeight||0;switch(s){case"top-left":case"left":{let h=document.documentElement.clientWidth-(a.current.startRight+d),x=document.documentElement.clientHeight-(a.current.startBottom+m);i.current.x+=h-t,i.current.y+=x-r;break}case"top-right":case"top":{let h=document.documentElement.clientHeight-(a.current.startBottom+m);i.current.y+=h-r;break}case"bottom-left":case"bottom":{let h=document.documentElement.clientWidth-(a.current.startRight+d);i.current.x+=h-t;break}case"bottom-right":case"right":break}i.current.dragged=!0,u(void 0),o()}}};var qt=P(R());function Na(e){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Na(e)}var xT=/^\s+/,yT=/\s+$/;function q(e,t){if(e=e||"",t=t||{},e instanceof q)return e;if(!(this instanceof q))return new q(e,t);var r=bT(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}q.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),r,n,o,i,a,s;return r=t.r/255,n=t.g/255,o=t.b/255,r<=.03928?i=r/12.92:i=Math.pow((r+.055)/1.055,2.4),n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),o<=.03928?s=o/12.92:s=Math.pow((o+.055)/1.055,2.4),.2126*i+.7152*a+.0722*s},setAlpha:function(t){return this._a=ag(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=tg(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=tg(this._r,this._g,this._b),r=Math.round(t.h*360),n=Math.round(t.s*100),o=Math.round(t.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+o+"%)":"hsva("+r+", "+n+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var t=eg(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=eg(this._r,this._g,this._b),r=Math.round(t.h*360),n=Math.round(t.s*100),o=Math.round(t.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+o+"%)":"hsla("+r+", "+n+"%, "+o+"%, "+this._roundA+")"},toHex:function(t){return rg(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return TT(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ge(this._r,255)*100)+"%",g:Math.round(ge(this._g,255)*100)+"%",b:Math.round(ge(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ge(this._r,255)*100)+"%, "+Math.round(ge(this._g,255)*100)+"%, "+Math.round(ge(this._b,255)*100)+"%)":"rgba("+Math.round(ge(this._r,255)*100)+"%, "+Math.round(ge(this._g,255)*100)+"%, "+Math.round(ge(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:NT[rg(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var r="#"+ng(this._r,this._g,this._b,this._a),n=r,o=this._gradientType?"GradientType = 1, ":"";if(t){var i=q(t);n="#"+ng(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+r+",endColorstr="+n+")"},toString:function(t){var r=!!t;t=t||this._format;var n=!1,o=this._a<1&&this._a>=0,i=!r&&o&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return i?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return q(this.toString())},_applyModification:function(t,r){var n=t.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(_T,arguments)},brighten:function(){return this._applyModification(OT,arguments)},darken:function(){return this._applyModification(kT,arguments)},desaturate:function(){return this._applyModification(wT,arguments)},saturate:function(){return this._applyModification(IT,arguments)},greyscale:function(){return this._applyModification(MT,arguments)},spin:function(){return this._applyModification(DT,arguments)},_applyCombination:function(t,r){return t.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(LT,arguments)},complement:function(){return this._applyCombination(PT,arguments)},monochromatic:function(){return this._applyCombination(RT,arguments)},splitcomplement:function(){return this._applyCombination(AT,arguments)},triad:function(){return this._applyCombination(og,[3])},tetrad:function(){return this._applyCombination(og,[4])}};q.fromRatio=function(e,t){if(Na(e)=="object"){var r={};for(var n in e)e.hasOwnProperty(n)&&(n==="a"?r[n]=e[n]:r[n]=$o(e[n]));e=r}return q(e,t)};function bT(e){var t={r:0,g:0,b:0},r=1,n=null,o=null,i=null,a=!1,s=!1;return typeof e=="string"&&(e=HT(e)),Na(e)=="object"&&(pr(e.r)&&pr(e.g)&&pr(e.b)?(t=ST(e.r,e.g,e.b),a=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):pr(e.h)&&pr(e.s)&&pr(e.v)?(n=$o(e.s),o=$o(e.v),t=ET(e.h,n,o),a=!0,s="hsv"):pr(e.h)&&pr(e.s)&&pr(e.l)&&(n=$o(e.s),i=$o(e.l),t=CT(e.h,n,i),a=!0,s="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=ag(r),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}function ST(e,t,r){return{r:ge(e,255)*255,g:ge(t,255)*255,b:ge(r,255)*255}}function eg(e,t,r){e=ge(e,255),t=ge(t,255),r=ge(r,255);var n=Math.max(e,t,r),o=Math.min(e,t,r),i,a,s=(n+o)/2;if(n==o)i=a=0;else{var u=n-o;switch(a=s>.5?u/(2-n-o):u/(n+o),n){case e:i=(t-r)/u+(t<r?6:0);break;case t:i=(r-e)/u+2;break;case r:i=(e-t)/u+4;break}i/=6}return{h:i,s:a,l:s}}function CT(e,t,r){var n,o,i;e=ge(e,360),t=ge(t,100),r=ge(r,100);function a(l,c,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?l+(c-l)*6*f:f<1/2?c:f<2/3?l+(c-l)*(2/3-f)*6:l}if(t===0)n=o=i=r;else{var s=r<.5?r*(1+t):r+t-r*t,u=2*r-s;n=a(u,s,e+1/3),o=a(u,s,e),i=a(u,s,e-1/3)}return{r:n*255,g:o*255,b:i*255}}function tg(e,t,r){e=ge(e,255),t=ge(t,255),r=ge(r,255);var n=Math.max(e,t,r),o=Math.min(e,t,r),i,a,s=n,u=n-o;if(a=n===0?0:u/n,n==o)i=0;else{switch(n){case e:i=(t-r)/u+(t<r?6:0);break;case t:i=(r-e)/u+2;break;case r:i=(e-t)/u+4;break}i/=6}return{h:i,s:a,v:s}}function ET(e,t,r){e=ge(e,360)*6,t=ge(t,100),r=ge(r,100);var n=Math.floor(e),o=e-n,i=r*(1-t),a=r*(1-o*t),s=r*(1-(1-o)*t),u=n%6,l=[r,a,i,i,s,r][u],c=[s,r,r,a,i,i][u],f=[i,i,s,r,r,a][u];return{r:l*255,g:c*255,b:f*255}}function rg(e,t,r,n){var o=[Nt(Math.round(e).toString(16)),Nt(Math.round(t).toString(16)),Nt(Math.round(r).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function TT(e,t,r,n,o){var i=[Nt(Math.round(e).toString(16)),Nt(Math.round(t).toString(16)),Nt(Math.round(r).toString(16)),Nt(sg(n))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function ng(e,t,r,n){var o=[Nt(sg(n)),Nt(Math.round(e).toString(16)),Nt(Math.round(t).toString(16)),Nt(Math.round(r).toString(16))];return o.join("")}q.equals=function(e,t){return!e||!t?!1:q(e).toRgbString()==q(t).toRgbString()};q.random=function(){return q.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function wT(e,t){t=t===0?0:t||10;var r=q(e).toHsl();return r.s-=t/100,r.s=Fa(r.s),q(r)}function IT(e,t){t=t===0?0:t||10;var r=q(e).toHsl();return r.s+=t/100,r.s=Fa(r.s),q(r)}function MT(e){return q(e).desaturate(100)}function _T(e,t){t=t===0?0:t||10;var r=q(e).toHsl();return r.l+=t/100,r.l=Fa(r.l),q(r)}function OT(e,t){t=t===0?0:t||10;var r=q(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),q(r)}function kT(e,t){t=t===0?0:t||10;var r=q(e).toHsl();return r.l-=t/100,r.l=Fa(r.l),q(r)}function DT(e,t){var r=q(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,q(r)}function PT(e){var t=q(e).toHsl();return t.h=(t.h+180)%360,q(t)}function og(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=q(e).toHsl(),n=[q(e)],o=360/t,i=1;i<t;i++)n.push(q({h:(r.h+i*o)%360,s:r.s,l:r.l}));return n}function AT(e){var t=q(e).toHsl(),r=t.h;return[q(e),q({h:(r+72)%360,s:t.s,l:t.l}),q({h:(r+216)%360,s:t.s,l:t.l})]}function LT(e,t,r){t=t||6,r=r||30;var n=q(e).toHsl(),o=360/r,i=[q(e)];for(n.h=(n.h-(o*t>>1)+720)%360;--t;)n.h=(n.h+o)%360,i.push(q(n));return i}function RT(e,t){t=t||6;for(var r=q(e).toHsv(),n=r.h,o=r.s,i=r.v,a=[],s=1/t;t--;)a.push(q({h:n,s:o,v:i})),i=(i+s)%1;return a}q.mix=function(e,t,r){r=r===0?0:r||50;var n=q(e).toRgb(),o=q(t).toRgb(),i=r/100,a={r:(o.r-n.r)*i+n.r,g:(o.g-n.g)*i+n.g,b:(o.b-n.b)*i+n.b,a:(o.a-n.a)*i+n.a};return q(a)};q.readability=function(e,t){var r=q(e),n=q(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};q.isReadable=function(e,t,r){var n=q.readability(e,t),o,i;switch(i=!1,o=zT(r),o.level+o.size){case"AAsmall":case"AAAlarge":i=n>=4.5;break;case"AAlarge":i=n>=3;break;case"AAAsmall":i=n>=7;break}return i};q.mostReadable=function(e,t,r){var n=null,o=0,i,a,s,u;r=r||{},a=r.includeFallbackColors,s=r.level,u=r.size;for(var l=0;l<t.length;l++)i=q.readability(e,t[l]),i>o&&(o=i,n=q(t[l]));return q.isReadable(e,n,{level:s,size:u})||!a?n:(r.includeFallbackColors=!1,q.mostReadable(e,["#fff","#000"],r))};var lc=q.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},NT=q.hexNames=FT(lc);function FT(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function ag(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function ge(e,t){VT(e)&&(e="100%");var r=BT(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Fa(e){return Math.min(1,Math.max(0,e))}function ft(e){return parseInt(e,16)}function VT(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function BT(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Nt(e){return e.length==1?"0"+e:""+e}function $o(e){return e<=1&&(e=e*100+"%"),e}function sg(e){return Math.round(parseFloat(e)*255).toString(16)}function ig(e){return ft(e)/255}var Rt=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function pr(e){return!!Rt.CSS_UNIT.exec(e)}function HT(e){e=e.replace(xT,"").replace(yT,"").toLowerCase();var t=!1;if(lc[e])e=lc[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Rt.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=Rt.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Rt.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=Rt.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Rt.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=Rt.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Rt.hex8.exec(e))?{r:ft(r[1]),g:ft(r[2]),b:ft(r[3]),a:ig(r[4]),format:t?"name":"hex8"}:(r=Rt.hex6.exec(e))?{r:ft(r[1]),g:ft(r[2]),b:ft(r[3]),format:t?"name":"hex"}:(r=Rt.hex4.exec(e))?{r:ft(r[1]+""+r[1]),g:ft(r[2]+""+r[2]),b:ft(r[3]+""+r[3]),a:ig(r[4]+""+r[4]),format:t?"name":"hex8"}:(r=Rt.hex3.exec(e))?{r:ft(r[1]+""+r[1]),g:ft(r[2]+""+r[2]),b:ft(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function zT(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:t,size:r}}function UT(e){let t=e.getBoundingClientRect().toJSON(),r=e.parentNode;for(;r&&r!==document.body;){let n=r.getBoundingClientRect(),o=window.getComputedStyle(r);(o.overflow==="hidden"||o.overflowX==="hidden"||o.overflowY==="hidden"||o.overflow==="clip"||o.overflowX==="clip"||o.overflowY==="clip")&&(t.top=Math.max(t.top,n.top),t.bottom=Math.min(t.bottom,n.bottom),t.left=Math.max(t.left,n.left),t.right=Math.min(t.right,n.right)),r=r.parentNode}return t.left=Math.max(0,t.left),t.top=Math.max(0,t.top),new DOMRect(t.left,t.top,t.right-t.left,t.bottom-t.top)}var jT=()=>{let{devAlwaysShowButton:e}=mm(),{floatingImageMiniMenuKey:t}=(0,qt.useContext)(ll),[r,n]=et(ul(t));return{showMenu:()=>{n(a=>({...a,show:!0}))},hideMenu:()=>{e||n(a=>({...a,show:!1}))},menu:r}},GT=()=>{let{setAppSettingsState:e}=cr(),{getLocalSettings:t}=Gt();return{updateAppSettings:async()=>{let n=await Nn();n&&e({...n}),t()}}},uB=({onAfterMouseEnterImage:e,filterImage:t})=>{let{floatingImageMiniMenuKey:r}=(0,qt.useContext)(ll),n=at(ul(r)),{showMenu:o,hideMenu:i}=jT(),{appSettings:a}=cr(),{updateAppSettings:s}=GT(),u=(0,qt.useRef)();(0,qt.useEffect)(()=>{u.current=a.floatingImageMiniMenu?.visibility},[a.floatingImageMiniMenu]);let l=(0,qt.useRef)(null),c=(0,qt.useRef)(""),f=em(r);Yi(()=>{c.current=Rn()});let p=()=>{f.mouseInImage&&d(f.currentHoverImage)},d=v=>{if(!v){m({x:-1e5,y:-1e5});return}let E=UT(v);if(E.width<=40||E.height<=40){m({x:-1e5,y:-1e5});return}let M=!0,I={x:E.left,y:E.top},k={x:E.left+15,y:E.top+15},F={x:E.left+15,y:E.bottom-50},H={x:E.right-50,y:E.top+15},A={x:E.right-50,y:E.bottom-50};k.x>0&&k.y>0&&!h(k,v)?I={x:E.left,y:E.top}:F.x>0&&F.y>0&&!h(F,v)?I={x:E.left,y:E.bottom-50}:H.x>0&&H.y>0&&!h(H,v)?I={x:E.right-50,y:E.top}:A.x>0&&A.y>0&&!h(A,v)?I={x:E.right-50,y:E.bottom-50}:M=!1,M?(m(I),o()):(m({x:-1e5,y:-1e5}),i())},m=v=>{n(E=>({...E,position:{left:v.x+"px",top:v.y+"px"}}))},h=(v,E)=>{let M=document.elementsFromPoint(v.x,v.y);for(let I=0;I<M.length;I++){let k=M[I];if(k.classList.contains("MAX_AI_FLOATING_IMAGE_MINI_MENU")||k.id==="USE_CHAT_GPT_AI_ROOT_Context_Menu")continue;if(!S(k))return k!==E}return!1},x=v=>{let E=v.parentNode;for(;E&&E!==document.body;){if(E.classList.contains("gm-style")||E.classList.contains("gm-ui-hover-effect")||location.href.startsWith("https://www.google.com/maps")&&(E.classList.contains("id-scene")||E.id==="minimap"))return!0;E=E.parentNode}return!1},g=v=>!!(location.host==="www.youtube.com"&&(v.closest("ytd-rich-item-renderer")||v.id==="thumbnail"&&v.src&&v.src.startsWith("data:image/"))),b=v=>{let E=v.nodeName.includes("-"),M=v instanceof HTMLElement&&!!v.shadowRoot;return E&&M},S=v=>{let E=window.getComputedStyle(v);if(parseFloat(E.opacity)<1)return"opacity";if(E.visibility==="hidden")return"visibility";if(E.display==="none")return"display";let M=E.backgroundColor;return M==="transparent"?"backgroundColor":["IMG","EMBED","OBJECT","IFRAME","VIDEO","AUDIO","CANVAS"].includes(v.tagName)||b(v)||E.filter.includes("blur")||E.backdropFilter.includes("blur")||E.backgroundImage.includes("linear-gradient")?!1:q(M).getAlpha()<.8?"bgAlpha "+E.backgroundColor:!1},T=v=>{Bn.commonFirstEnterImage||(Bn.commonFirstEnterImage=v,Bn.commonFirstEnterImage.setAttribute("data-first-enter-image","true")),f.lastHoverImage!==v&&(t&&!t(v)||(l.current&&clearTimeout(l.current),f.currentHoverImageSrc=v.src,f.currentHoverImage=v,f.lastHoverImage=v,f.mouseInImage=!0,setTimeout(()=>{d(v),o(),window.removeEventListener("scroll",p),window.addEventListener("scroll",p,!0)},20),e?.()))},w=()=>{f.mouseInImage&&(r==="ON_BOARDING"&&Bn.onboardingTooltipShowing||(l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{if(!f.mouseInMenu){if(r==="ON_BOARDING"&&Bn.onboardingTooltipShowing)return;delete f.lastHoverImage,f.mouseInImage=!1,i(),window.removeEventListener("scroll",p)}},50)))};return(0,qt.useEffect)(()=>{let v=[],E=Kp(M=>{if(f.disable||u.current?.isWhitelistMode||u.current&&!$p(u.current))return;let I=document.elementsFromPoint(M.x,M.y),k=I.filter((F,H)=>{if(F.tagName!=="IMG")return!1;let A=F;if(A.offsetWidth<120||A.offsetHeight<80||x(A)||g(A)||A.getAttribute("data-maxai-chat-with-image-ignore")==="true")return!1;let N=0;for(;N<H;){if(I[N].id==="USE_CHAT_GPT_AI_ROOT"||!S(I[N]))return!1;N++}return!0});k.length>0?k.forEach(F=>{T(F)}):w()},100);return document.body.addEventListener("mousemove",E),document.body.addEventListener("wheel",E),v.push(()=>{document.body.removeEventListener("mousemove",E),document.body.removeEventListener("wheel",E)}),s(),document.addEventListener("visibilitychange",function M(){document.visibilityState==="visible"&&(s(),v.push(()=>{document.removeEventListener("visibilitychange",M)}))}),()=>{v.forEach(M=>M())}},[]),{host:c}};var pt=P(R());var WT=e=>{let t=r=>{let{id:n,type:o,data:i}=r.data;if(n===Gp&&o==="iframeSelection"){let{selectionText:a,iframeSelectionRect:s,iframePosition:u}=i;if(!gp()){if(!e)return;let l=window.outerHeight-window.innerHeight,c=[u[0],Math.max(u[1]-l,0)],f=document.querySelectorAll("iframe"),p=0,d=0;if(Array.from(f).find(h=>{let x=h.getBoundingClientRect();if(x){let{left:g,top:b,width:S,height:T}=x;if(c[0]>=g&&c[0]<=g+S&&c[1]>=b&&c[1]<=b+T)return p=b,d=g,!0}return!1})){let h=ra(s);if(h.top+=p,h.y=p,h.left+=d,h.x+=d,h){if(a&&!jp){let x=document.getElementById("a");x&&x.remove();let g=document.createElement("div");g.id="a",g.style.position="fixed",g.style.top=h.top+"px",g.style.left=h.left+"px",g.style.width=h.width+"px",g.style.height=h.height+"px",g.style.border="1px solid red",g.style.pointerEvents="none",document.body.appendChild(g)}e({...i,iframeSelectionRect:h,selectionRect:h,iframePosition:c,isEmbedPage:r.origin.indexOf("maxai.me")>-1&&i.isEmbedPage})}}}}};return window.addEventListener("message",t),()=>{window.removeEventListener("message",t)}},ug=WT;var hB=(e,t,r,n)=>new Promise(o=>{let i=!1,a=setTimeout(()=>{i=!0,o(void 0)},n),s=setInterval(()=>{if(!i){let u=e.querySelector(t);u&&(clearInterval(s),clearTimeout(a),o(u))}},r)}),lg=(e,t,r,n,o)=>new Promise(i=>{let a=!1,s=setTimeout(()=>{a=!0,i(void 0)},n),u=setInterval(()=>{if(!a){let l=Array.from(e.querySelectorAll(t));if(o){let c=o(l);c&&(clearInterval(u),clearTimeout(s),i(c))}else l.length>0&&(clearInterval(u),clearTimeout(s),i(l[0]))}},r)}),qT=()=>new Promise(async e=>{let r=setTimeout(()=>{e({success:!1,error:"timeout"})},4e3),n=o=>{clearTimeout(r),e(o)};try{let o=document.getElementById(Oo)?.shadowRoot;if(o){let i=await lg(o,".usechatgpt-ai__context-menu--handle-button",200,2e3,a=>a.find(s=>window.getComputedStyle(s).opacity!=="0"));if(i){setTimeout(()=>{i.click()},100);let a=await lg(o,".floating-context-menu-item",50,2e3,s=>s.find(u=>u.innerText.startsWith("Get answer")));if(a){a.click(),n({success:!0,error:""});return}}}n({success:!1,error:"no context menu"})}catch(o){n({success:!1,error:o?.toString()||""})}}),cg=qT;var cc=P(RS());var pn=()=>{let[e,t]=et(Qd),[r,n]=et(Vn),o=(f=!1)=>{n(p=>(document.querySelector("#rangeBorderBox")?.remove(),{show:!1,tempSelection:null,currentSelection:f?null:p.currentSelection,lastCursorPosition:null}))},i=f=>{t({loaded:!0,rangy:f})},a=()=>{n(f=>({...f,show:!0}))},s=(f,p)=>{n(d=>({...d,tempSelection:f,lastCursorPosition:p}))},u=async f=>{n(p=>({...p,currentSelection:f}))},l=Ke(r.tempSelection),c=Ke(r.currentSelection);return{showRangy:a,hideRangy:o,rangy:e.rangy,initRangyCore:i,saveCurrentSelection:u,saveTempSelection:s,show:r.show,tempSelection:r.tempSelection,currentSelection:r.currentSelection,lastMousePosition:r.lastCursorPosition,tempSelectionRef:l,currentSelectionRef:c}};cm(cc.default);fm(cc.default);var Br=new $i("ContextMenu/Rangy"),KT=()=>{let e=(0,pt.useRef)({x:0,y:0});return(0,pt.useEffect)(()=>{let t=r=>{e.current.x=r.clientX+window.scrollX,e.current.y=r.clientY+window.scrollY};return document.documentElement.addEventListener("mousemove",t),()=>{document.documentElement.removeEventListener("mousemove",t)}},[]),()=>({...e.current})},YT=()=>{let{show:e,initRangyCore:t,rangy:r,showRangy:n,hideRangy:o,saveTempSelection:i}=pn(),a=ye(tm),{chatBoxShortCutKey:s}=rm(),u=ye(ia),l=at(st),c=at(aa);sm();let f=KT(),p=(0,pt.useRef)(null),d=(0,pt.useRef)(null),m=(0,pt.useRef)(null),{showFloatingContextMenuWithVirtualElement:h}=an();Yi(()=>{Promise.all([import("./23MDPGPV.js"),import("./XPL4CKD7.js"),import("./QY5IWJZT.js")]).then(([{default:T},{default:w},{default:v}])=>{let E=()=>{t(T)};w(T),v(T),T.init(),T.addInitListener(E)})});let x=Ke(e),g=(0,pt.useCallback)(T=>{{if(x.current&&T instanceof KeyboardEvent&&T.key==="Escape"){Br.info("Escape close floating button"),o(),im(),am();return}if(Ji()||T.MAX_AI_IGNORE)return;let w=document.getElementById("USE_CHAT_GPT_AI_ROOT");if(p.current&&w&&w.contains(p.current)||T.target?.id==="USE_CHAT_GPT_AI_ROOT_Minimize_Container")return;let v=T.target,E=document.body,M=T instanceof MouseEvent,I=ua(),k=(r?.getSelection().toString()||document.getSelection()?.toString()||"").trim().replace(/\u200B/g,"");if(v){if(v&&(v.id===Tp||v.id===Oo||v.id===wp))return;if(d.current&&(v=d.current),I&&v?.tagName!=="INPUT"&&v?.tagName!=="TEXTAREA"){let N=Hn(I);N.isEditableElement&&(v=N.editableElement)}if(!v||location.href.startsWith("https://docs.google.com/spreadsheets")&&v.id==="waffle-rich-text-editor"&&!v.hasAttribute("aria-label"))return;let{editableElement:A}=Hn(v);if(A&&(v=A,E=A.parentElement?Hn(A.parentElement,20).editableElement:A,E=E||A),!A&&!k){o(),m.current=null;return}m.current=cl(v,{target:v,eventType:M?"mouseup":"keyup"}),Br.info(`native selection [${M?"mouse":"keyboard"}]: 	`,m.current,v)}let F=!1,H=!1;if(m.current){if(m.current?.isEditableElement?(F=!0,(m.current?.editableElementSelectionText||r.getSelection()?.toString()||document.getSelection()?.toString())&&(H=!0)):m.current?.selectionText&&(F=!0,H=!0),F){if(m.current&&m.current.relatedContent===void 0&&H){let L=window.getSelection();if(L){let W=lm(L,2e3,E);m.current.relatedContent=W.relatedContent}}let A=m.current?.editableElementSelectionText||m.current.selectionText,N=m.current.relatedContent;i({selectionText:m.current?.editableElementSelectionText||m.current.selectionText,selectionHTML:m.current?.editableElementSelectionText||m.current.selectionHTML,selectionRect:m.current.selectionRect,activeElement:m.current.target,selectionInputAble:m.current?.isEditableElement,selectionElement:m.current,relatedContent:N&&N.length>A.length?N:""},f()),Br.info("save selection temp data",m.current?.isEditableElement,`
`,m.current?.editableElementSelectionText,`
`,m.current?.selectionText)}H?(Br.info("show floating button"),n()):(Br.info("hide floating button"),o())}}},[r,i,n,o]),b=Ke(g),S=(0,pt.useRef)(()=>{});(0,pt.useEffect)(()=>{let T=Do(b.current,200),w=Do(b.current,200),v=E=>{S.current(),S.current=um(F=>{if(!F.selectionText&&(o(),!F.isEditableElement)){m.current=null;return}m.current=F,F.selectionText&&(F.eventType==="mouseup"?T({target:null}):w({target:null}))});let M=E.target;p.current=M;let{isEditableElement:I,editableElement:k}=Hn(M);if(I&&k){if(d.current?.isSameNode(k))return;d.current&&(d.current.removeEventListener("mouseup",T),d.current.removeEventListener("keyup",w)),Br.info("save targetElement ref",k),d.current=k,k.addEventListener("mouseup",T),k.addEventListener("keyup",w)}else Br.info("clear targetElement ref"),d.current=null};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v),d.current&&(d.current.removeEventListener("mouseup",T),d.current.removeEventListener("keyup",w))}},[r,s,a]),(0,pt.useEffect)(()=>{let T=Do(b.current,200),w=Do(b.current,200),v=()=>{};return r?.initialized&&(document.addEventListener("mouseup",T),document.addEventListener("keyup",w),v=ug(E=>{if(!E.selectionText&&(o(),!E.isEditableElement)){m.current=null;return}m.current=E,E.selectionText&&(E.eventType==="mouseup"?T({target:null}):w({target:null})),E.isEmbedPage&&E.selectionText&&E?.tagName==="BUTTON"&&cg(),E.selectionText||l(M=>({...M,open:!1}))})),()=>{document.removeEventListener("mouseup",T),document.removeEventListener("keyup",w),v()}},[r]),na(async(T,w)=>{switch(T){case"Client_listenOpenChatMessageBox":{let v=window.getSelection()?.rangeCount;if(v&&v>0){let I=window.getSelection()?.getRangeAt(0)?.cloneRange();c({range:I||null,selectionText:window?.getSelection()?.toString()||""})}let{command:E}=w,M=E==="show-floating-menu";if(!m.current){let I=ua(),{editableElement:k,isEditableElement:F}=Hn(I);F&&k&&(m.current=cl(k,{target:k,eventType:"keyup"}))}return Br.info("Client_listenOpenChatMessageBox",m.current?.isEditableElement,m.current?.selectionText),h(m.current,{},M),m.current&&(m.current=null),{success:!0,data:{},message:""}}}}),(0,pt.useEffect)(()=>{u||c(T=>{if(T.range){window.getSelection()?.removeAllRanges(),window.getSelection()?.addRange(T.range);let w=ua();if(w&&(w.tagName==="INPUT"||w.tagName==="TEXTAREA")){let v=w,E=v.value.indexOf(T.selectionText||""),M=E+(T.selectionText||"").length;v.focus(),v.setSelectionRange(E,M)}setTimeout(()=>{let v=new KeyboardEvent("keyup",{key:" ",code:"Space",location:0,bubbles:!0,cancelable:!0,shiftKey:!1});(w||document.body).focus(),(w||document.body).dispatchEvent(v)},0)}return{...T,range:null}})},[u])};var XT=P(vp());var fg=e=>`ON_BOARDING_TOOLTIP__${e}__OPENED`;var c2=async e=>{let t=fg(e);return!!(await Yd())[t]},f2=async e=>{let t=fg(e);await Kd(t,!0)},p2=(e,t=document.body)=>t?.querySelector(`#ONBOARDING_TOOLTIP__${e}`),d2=(e,t)=>{if(Array.isArray(t))for(let r=0;r<t.length;r++){let n=e.querySelector(t[r]);if(n)return n}else return e.querySelector(t)};var fc=P(R()),$T=()=>fc.default.createElement(de,{sx:{flexDirection:"row",alignSelf:"flex-end",flex:1}},fc.default.createElement(rd,{sx:{fontSize:12,color:e=>e.palette.mode==="dark"?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)"}})),v2=$T;var Qo=P(R());var QT=()=>{let{setAppSettingsState:e}=cr(),{setLocalSettingsState:t}=Gt(),{showFloatingContextMenu:r}=an(),n=(0,Qo.useRef)(r),o=(0,Qo.useRef)(!1);(0,Qo.useEffect)(()=>{n.current=r},[r]),na(async(i,a,s)=>{switch(i){case"Client_updateSidebarChatBoxStyle":return o.current?pl():la()&&(o.current=!0,pl()),{success:!0,data:{},message:""};case"Client_updateAppSettings":return e(await Nn()),t(await od.getLocalSettings()),{success:!0,data:{},message:""};case"Client_listenUpdateIframeInput":return a.startMarkerId&&a.endMarkerId&&await om(a.startMarkerId,a.endMarkerId,a.value,a.type),{success:!0,data:{},message:""};default:break}})},M2=QT;var Hr=An({key:"LiteContextMenuGroupEditorStateFamily",default:{groupData:null,isOpen:!1,isOpenDeleteGroupConfirm:!1,onSuccessCallback:void 0}}),ZT=()=>{let{contextMenuPath:e,panelId:t}=Ne(),{isOpen:r,groupData:n,isOpenDeleteGroupConfirm:o,onSuccessCallback:i}=ye(Hr(t||"")),a=ie(({set:d})=>async(m,h)=>{if(e===null)return;let x=await Or.getContextMenuByPath(e);if(!x)return;let g={prompt_title:"",parent_prompt_id:x.prompt_id,prompt_icon:void 0,visibility_settings:{blocked_domains:[],allowed_domains:[],use_allow_list:!1},prompt_id:""};d(Hr(t),{isOpen:!0,groupData:{...g,...m},isOpenDeleteGroupConfirm:!1,onSuccessCallback:h?.onSuccess})},[e,t]),s=ie(({set:d})=>m=>{d(Hr(t),{isOpen:!0,groupData:m,isOpenDeleteGroupConfirm:!1})},[t]),u=ie(({set:d})=>m=>{d(Hr(t),h=>({...h,groupData:Mr([h.groupData,m])}))},[t]),l=ie(({set:d})=>m=>{d(Hr(t),h=>({...h,groupData:m,isOpenDeleteGroupConfirm:!0}))},[t]),c=ie(({set:d})=>()=>{d(Hr(t),m=>({...m,isOpenDeleteGroupConfirm:!1}))},[t]),f=ie(({set:d})=>()=>{d(Hr(t),m=>({...m,isOpen:!0}))},[t]),p=ie(({set:d})=>()=>{d(Hr(t),m=>({...m,isOpen:!1}))},[t]);return{isOpen:r,isOpenDeleteGroupConfirm:o,groupData:n,onSuccessCallback:i,createNewGroup:a,editGroup:s,updateGroup:u,openDeleteGroupConfirm:l,closeDeleteGroupConfirm:c,openEditor:f,closeEditor:p}},Va=ZT;var dg=P(AS()),JT=e=>"#"+xp(e).substring(0,6),ew=(e,t)=>{let r=JT(e);return t?pg(r,.75,.9):pg(r,.3,.95)},tw=e=>(0,dg.default)(e,{allowedTags:["span","br"],allowedAttributes:{span:["contenteditable","style","data-variable-name"]},nonBooleanAttributes:[],disallowedTagsMode:"recursiveEscape"}),rw=(e,t,r)=>`<span contenteditable="false" style="color: ${ew(e,r||!1)}" data-variable-name="${e}">{{${t}}}</span>`,mg=e=>{let t=document.createElement("div");return t.contentEditable="true",t.innerHTML=tw(e),Array.from(t.childNodes).forEach(n=>{if(n.tagName==="SPAN"){let o=n,a=`{{${o.getAttribute("data-variable-name")}}}`;a&&(o.innerHTML=a)}}),t.innerText},zr=(e,t,r)=>{let n=new Map;t.forEach(u=>{n.set(u.name,u)});let o=new Map;Array.from(n.values()).forEach(u=>{u.hint&&o.set(u.hint,u)});let i=/\{\{([^{}]+?)\}\}/g,a=document.createElement("textarea");a.textContent=e;let s=a.innerHTML;return a.remove(),s.replace(i,(u,l)=>{let c=o.get(l)||n.get(l);if(c){let f=c.name;return rw(f,c.hint||f,r)}else return u})};function pg(e,t,r){let n=parseInt(e.slice(1,3),16),o=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16),a=n/255,s=o/255,u=i/255,l=Math.max(a,s,u),c=Math.min(a,s,u),f=0;if(l!==c){let w=l-c;switch(l){case a:f=(s-u)/w+(s<u?6:0);break;case s:f=(u-a)/w+2;break;case u:f=(a-s)/w+4;break}f/=6}let p=Math.max(0,Math.min(1,t)),d=Math.max(0,Math.min(1,r)),m=(w,v,E)=>(E<0&&(E+=1),E>1&&(E-=1),E<1/6?w+(v-w)*6*E:E<1/2?v:E<2/3?w+(v-w)*(2/3-E)*6:w),h=p<.5?p*(1+d):p+d-p*d,x=2*p-h,g=Math.round(m(x,h,f+1/3)*255),b=Math.round(m(x,h,f)*255),S=Math.round(m(x,h,f-1/3)*255);return`#${g.toString(16).padStart(2,"0")}${b.toString(16).padStart(2,"0")}${S.toString(16).padStart(2,"0")}`}var R2=(e,t,r)=>{if(!e)return!1;if((r()?.rangeCount||0)===0)return e.focus(),!1;let i=r()?.getRangeAt(0)?.cloneRange();if(!i)return e.focus(),!1;let a=i.cloneRange();if(!t){a.selectNodeContents(e),a.collapse(!1);let u=r();return u?.removeAllRanges(),u?.addRange(a),!0}let s=Array.from(e.childNodes||[]);for(let u of s){a.setStart(s[0],0);let l=u.nodeType===3?u.nodeValue.length:u.nodeName==="BR"?0:1;a.setEnd(u,l);let c=a?.toString();if(c?.startsWith(t)||c?.startsWith(t.replace(/\n$/,""))){if(u.nodeType===3)for(let p=0;p<=l&&(a.setEnd(u,p),a?.toString()!==t);p++);else a.setStartAfter(u),a.setEndAfter(u);a.collapse(!1),e.focus();let f=r();return f?.removeAllRanges(),f?.addRange(a),u.nodeType!==3&&u?.scrollIntoView(),!0}}return!1};var Kt=An({key:"PromptTemplateEditorStateFamily",default:{isDarkMode:!1,template:"",variables:[],isOpenEditVariableModal:!1,editVariable:{name:"",hint:"",type:"text"},html:""}}),hg=()=>{let{panelId:e}=Ne(),{isDarkMode:t,template:r,variables:n,editVariable:o,html:i,isOpenEditVariableModal:a}=ye(Kt(e)),s=ie(({set:x})=>g=>{let b=mg(g);x(Kt(e),S=>({...S,template:b,html:zr(b,S.variables,S.isDarkMode)}))},[e]),u=ie(({set:x})=>g=>{x(Kt(e),b=>({...b,template:g,html:zr(g,b.variables,b.isDarkMode)}))},[e]),l=ie(({set:x})=>g=>{x(Kt(e),b=>({...b,variables:g,html:zr(b.template,g,b.isDarkMode)}))},[e]),c=ie(({set:x})=>g=>{x(Kt(e),b=>({...b,isDarkMode:g,html:zr(b.template,b.variables,g)}))},[e]),f=ie(({set:x})=>g=>{x(Kt(e),b=>({...b,editVariable:g,isOpenEditVariableModal:!0}))},[e]),p=ie(({set:x})=>()=>{x(Kt(e),g=>({...g,isOpenEditVariableModal:!1}))},[e]),d=ie(({set:x})=>g=>{x(Kt(e),b=>({...b,editVariable:Mr([b.editVariable,g])}))},[e]),m=ie(({set:x})=>g=>{x(Kt(e),b=>{let S=b.template.replaceAll(`{{${g.name}}}`,""),T=b.variables.filter(v=>v.name!==g.name),w=zr(S,T,b.isDarkMode);return{...b,template:S,variables:T,html:w}})},[e]),h=ie(({set:x})=>g=>{x(Kt(e),b=>{let S=b.variables.find(T=>T.name===g.name);if(S){let T=b.template.replaceAll(`{{${S.hint}}}`,`{{${g.hint}}}`),w=b.variables.map(E=>E.name===g.name?g:E),v=zr(T,w,b.isDarkMode);return{...b,template:T,variables:w,html:v}}else{let T=b.variables.concat(g),w=zr(b.template,T,b.isDarkMode);return{...b,variables:T,html:w}}}),p()},[e]);return{isDarkMode:t,template:r,variables:n,html:i,editVariable:o,htmlToTemplate:s,setTemplate:u,setVariables:l,deleteVariable:m,setIsDarkMode:c,isOpenEditVariableModal:a,openEditVariableModal:f,closeEditVariableModal:p,updateVariable:d,saveEditVariable:h}};var gg=P(R());var Ft=An({key:"LiteContextMenuPromptEditorStateFamily",default:{isOpenDeletePromptConfirm:!1,isHoverSecondaryElement:!1,isOpen:!1,promptData:null,originalPromptData:null,isOpenDiscardConfirmModal:!1}}),nw=()=>{let{panelId:e}=Ne(),{isOpen:t,createSuccessCallback:r,promptData:n,isHoverSecondaryElement:o,isOpenDeletePromptConfirm:i,isOpenDiscardConfirmModal:a,originalPromptData:s}=ye(Ft(e)),{setVariables:u,setTemplate:l}=hg(),c=ie(({set:E})=>(M,I={createSuccessCallback:void 0})=>{let F={...{prompt_icon:void 0,type:"chat_complete",parent_prompt_id:"",prompt_id:"",prompt_title:"",labels:[],variables:[ur.PRESET_VARIABLE__AI_RESPONSE_TONE,ur.PRESET_VARIABLE__AI_RESPONSE_WRITING_STYLE],output:[ur.OUTPUT_PRESET_VARIABLE__CHAT_COMPLETE],prompt_template:{default:""},optional_prompt_template:{AI_RESPONSE_WRITING_STYLE:"Your response style should be {{AI_RESPONSE_WRITING_STYLE}};",AI_RESPONSE_TONE:"The tone of your response should be {{AI_RESPONSE_TONE}};"},visibility_settings:{allowed_domains:[],blocked_domains:[],use_allow_list:!1},display_order:0,...M},...M};u(F.variables),l(F.prompt_template?.default||""),E(Ft(e),{isOpen:!0,createSuccessCallback:I?.createSuccessCallback,promptData:F,isHoverSecondaryElement:!1,isOpenDeletePromptConfirm:!1,isOpenDiscardConfirmModal:!1,originalPromptData:F})},[l,u,e]),f=ie(({set:E})=>async M=>{if(M.prompt_id){let I=await Or.getContextMenuDetail(M.prompt_id);I&&(M=I)}u(M.variables),l(M.prompt_template?.default||""),E(Ft(e),{isOpen:!0,promptData:M,isHoverSecondaryElement:!1,isOpenDeletePromptConfirm:!1,isOpenDiscardConfirmModal:!1,originalPromptData:M})},[e]),p=ie(({set:E})=>async M=>{E(Ft(e),I=>({...I,promptData:M,isOpenDeletePromptConfirm:!0}))},[e]),d=ie(({set:E})=>()=>{E(Ft(e),M=>({...M,isOpenDeletePromptConfirm:!1}))},[e]),m=ie(({set:E})=>()=>{E(Ft(e),M=>({...M,isOpenDiscardConfirmModal:!0}))},[e]),h=ie(({set:E})=>()=>{E(Ft(e),M=>({...M,isOpenDiscardConfirmModal:!1}))},[e]),x=ie(({set:E})=>M=>{E(Ft(e),I=>({...I,promptData:Mr([I.promptData,M])}))},[e]),g=ie(({set:E})=>()=>{E(Ft(e),M=>({...M,isOpen:!0}))},[e]),b=ie(({set:E})=>()=>{E(Ft(e),M=>({...M,originalPromptData:null,isOpen:!1}))},[e]),S=ie(({set:E})=>M=>{E(Ft(e),I=>({...I,isHoverSecondaryElement:M}))},[e]),T=(0,gg.useMemo)(()=>({transition:"opacity 0.3s ease-in-out",opacity:1}),[o]);return{isOpen:t,createSuccessCallback:r,promptData:n,createNewPrompt:c,editPrompt:f,isOpenDeletePromptConfirm:i,openDeletePromptConfirm:p,closeDeletePromptConfirm:d,updatePrompt:x,openEditor:g,closeEditor:b,isHoverSecondaryElement:o,secondaryElementSx:T,secondaryElementMouseEnter:()=>{S(!0)},secondaryElementMouseLeave:()=>{S(!1)},setIsHoverSecondaryElement:S,isOpenDiscardConfirmModal:a,openDiscardConfirmModal:m,closeDiscardConfirmModal:h,originalPromptData:s}},Ba=nw;var Er=P(R());var Je=P(R());var pc=P(R()),uw=({label:e,onClick:t})=>pc.default.createElement(qi,{sx:{padding:"0px 8px!important",borderRadius:"4px"},onClick:t},pc.default.createElement(Ki,{primary:e,sx:{whiteSpace:"nowrap","& .use-chat-gpt-ai--MuiTypography-root":{fontSize:"14px",color:r=>r.palette.mode==="dark"?"#fff":"#000"}}})),vg=uw;var bg=P(xg()),Sg=P(yg());var ve=P(R()),hw=e=>{let{t}=Me(),{isDropTarget:r=!1,disabledDrag:n=!1,isActive:o=!1,node:i,params:{depth:a,isOpen:s,onToggle:u,handleRef:l},onEdit:c,rootId:f,onDelete:p}=e,d=i.parent===f,m=i.data?.type==="group",h=20,[x,g]=(0,ve.useState)(!1),[b,S]=(0,ve.useState)(!1),T=(0,ve.useMemo)(()=>Math.max(0,a)*24+h+8,[h]),w=(0,ve.useMemo)(()=>`lite-context-menu--prompt-item--${i.text.replace(/ /g,"-")}`,[i.text]),v=t(m?"package__features:context_menu__lite_editor__modal__edit_group__title__edit_this":"package__features:context_menu__lite_editor__modal__edit_tool__title__edit_this"),E=t(m?"package__features:context_menu__lite_editor__modal__edit_group__title__delete_this":"package__features:context_menu__lite_editor__modal__edit_tool__title__delete_this");return ve.default.createElement(de,{"data-testid":w,direction:"row",alignItems:"center",className:r?"dragTarget":"",height:32,sx:{padding:"6px 8px",boxSizing:"border-box",position:"relative",cursor:m?"pointer":"default",bgcolor:M=>b||o?M.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(55, 53, 47, 0.08)":"unset",borderRadius:"6px",pl:T+"px"},onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),onClick:()=>{m&&u()}},!n&&ve.default.createElement(We,{sx:{position:"absolute",left:Math.max(0,T-h)+"px",flexShrink:0,height:h,width:h,opacity:n?0:1,"& + *":{'&[data-testid="settings--my-own-prompts--prompt-item--expand-icon"]':{ml:"4px"},ml:"8px"}},"date-testid":"settings--my-own-prompts--prompt-item--drag-handle"},ve.default.createElement("div",{ref:l},ve.default.createElement(bg.default,{sx:{fontSize:h,cursor:"move",color:"text.secondary"}}))),m&&ve.default.createElement(Sg.default,{"data-testid":"settings--my-own-prompts--prompt-item--expand-icon",sx:{mr:1,flexShrink:0,transform:s?"rotate(0)":"rotate(-90deg)",fontSize:20,color:"text.primary"}}),i.data?.prompt_icon&&ve.default.createElement(Re,{icon:i.data.prompt_icon,sx:{mr:1,flexShrink:0,fontSize:16,color:"text.secondary"}}),ve.default.createElement(de,{direction:"row",alignItems:"center",spacing:1,flex:1,width:0,sx:{height:"100%"}},ve.default.createElement(de,{flex:1,width:0,direction:"row",alignItems:"center",spacing:1,height:"100%",sx:{}},m&&d?ve.default.createElement(Ce,{fontSize:12,color:"text.secondary",sx:{overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",wordBreak:"break-word",whiteSpace:"nowrap"}},i.data?.prompt_title):ve.default.createElement(Ce,{fontSize:14,color:"text.primary",sx:{overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",wordBreak:"break-word",whiteSpace:"nowrap"}},i.data?.prompt_title)),ve.default.createElement(de,{direction:"row",alignItems:"center",flexShrink:0,onClick:M=>{M.stopPropagation(),M.preventDefault()},sx:{gap:"8px",height:"100%"}},ve.default.createElement(on,{placement:"top-end",disabledClickEvent:!0,onClick:async()=>{i.data&&(g(!0),await c?.(i.data),g(!1))},title:v,tooltipProps:{disableInteractive:!0},sx:{width:"20px",height:"20px"}},ve.default.createElement(Re,{icon:x?"Loading":"PromptEdit",sx:{fontSize:"16px!important",color:"text.secondary",flexShrink:0,scale:x?"0.8":"1"}})),ve.default.createElement(on,{placement:"top-end",disabledClickEvent:!0,tooltipProps:{disableInteractive:!0},title:E,sx:{width:"20px",height:"20px"},onClick:()=>{i.data?.prompt_id&&p?.(i.data)}},ve.default.createElement(Re,{icon:"Delete",sx:{fontSize:"16px!important",color:"text.secondary"}})))))},Cg=(0,ve.memo)(hw);var Yt=P(R()),gw=e=>{let{liteContextMenuItem:t,suffix:r,hoverSuffix:n,onClick:o,disabled:i,selected:a}=e,[s,u]=(0,Yt.useState)(!1);return t.type==="group"?Yt.default.createElement(de,{direction:"row",sx:{padding:"0 8px",height:"32px",boxSizing:"border-box",alignItems:"center",width:"100%"}},Yt.default.createElement(Ce,{textAlign:"left",fontSize:"12px",fontWeight:400,lineHeight:1.5,color:"text.secondary",noWrap:!0},t.prompt_title)):Yt.default.createElement(ko,{disabled:i,sx:{padding:"6px 8px",height:"32px",boxSizing:"border-box",gap:"12px",alignItems:"center",borderRadius:"4px",color:"text.primary",minHeight:"unset","&:hover":{color:"text.primary"},...a?{bgcolor:l=>l.palette.mode==="dark"?"rgba(255, 255, 255, 0.06)!important":"rgba(0, 0, 0, 0.04)!important"}:{}},onMouseEnter:()=>{u(!0)},onMouseLeave:()=>{u(!1)},onClick:o},t.prompt_icon&&Yt.default.createElement(Re,{sx:{color:"text.secondary",flexShrink:0},icon:t.prompt_icon,size:20}),Yt.default.createElement(Ce,{fontSize:"14px",fontWeight:400,textAlign:"left",color:"text.primary",noWrap:!0,flex:1,width:0},t.prompt_title),Yt.default.createElement(de,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"8px","&:empty":{display:"none"}},onClick:l=>{l.stopPropagation()}},!s&&r,s?n||r||Yt.default.createElement(Re,{icon:"KeyboardReturn",sx:{fontSize:"16px",color:"text.secondary"}}):null))},Eg=gw;var j=P(R(),1);function dc(e){let t=null;return()=>(t==null&&(t=e()),t)}function Tg(e,t){return e.filter(r=>r!==t)}function wg(e,t){let r=new Set,n=i=>r.add(i);e.forEach(n),t.forEach(n);let o=[];return r.forEach(i=>o.push(i)),o}var ja=class{enter(t){let r=this.entered.length,n=o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(t));return this.entered=wg(this.entered.filter(n),[t]),r===0&&this.entered.length>0}leave(t){let r=this.entered.length;return this.entered=Tg(this.entered.filter(this.isNodeInDocument),t),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}};var Ga=class{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return null}})})}loadDataTransfer(t){if(t){let r={};Object.keys(this.config.exposeProperties).forEach(n=>{let o=this.config.exposeProperties[n];o!=null&&(r[n]={value:o(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,r){return r===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}};var Zo={};hp(Zo,{FILE:()=>mc,HTML:()=>vc,TEXT:()=>gc,URL:()=>hc});var mc="__NATIVE_FILE__",hc="__NATIVE_URL__",gc="__NATIVE_TEXT__",vc="__NATIVE_HTML__";function Wa(e,t,r){let n=t.reduce((o,i)=>o||e.getData(i),"");return n??r}var qa={[mc]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[vc]:{exposeProperties:{html:(e,t)=>Wa(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[hc]:{exposeProperties:{urls:(e,t)=>Wa(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[gc]:{exposeProperties:{text:(e,t)=>Wa(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function Ig(e,t){let r=qa[e];if(!r)throw new Error(`native type ${e} has no configuration`);let n=new Ga(r);return n.loadDataTransfer(t),n}function Ka(e){if(!e)return null;let t=Array.prototype.slice.call(e.types||[]);return Object.keys(qa).filter(r=>{let n=qa[r];return n?.matchesTypes?n.matchesTypes.some(o=>t.indexOf(o)>-1):!1})[0]||null}var Mg=dc(()=>/firefox/i.test(navigator.userAgent)),xc=dc(()=>!!window.safari);var Jo=class{interpolate(t){let{xs:r,ys:n,c1s:o,c2s:i,c3s:a}=this,s=r.length-1;if(t===r[s])return n[s];let u=0,l=a.length-1,c;for(;u<=l;){c=Math.floor(.5*(u+l));let d=r[c];if(d<t)u=c+1;else if(d>t)l=c-1;else return n[c]}s=Math.max(0,l);let f=t-r[s],p=f*f;return n[s]+o[s]*f+i[s]*p+a[s]*f*p}constructor(t,r){let{length:n}=t,o=[];for(let m=0;m<n;m++)o.push(m);o.sort((m,h)=>t[m]<t[h]?-1:1);let i=[],a=[],s=[],u,l;for(let m=0;m<n-1;m++)u=t[m+1]-t[m],l=r[m+1]-r[m],a.push(u),i.push(l),s.push(l/u);let c=[s[0]];for(let m=0;m<a.length-1;m++){let h=s[m],x=s[m+1];if(h*x<=0)c.push(0);else{u=a[m];let g=a[m+1],b=u+g;c.push(3*b/((b+g)/h+(b+u)/x))}}c.push(s[s.length-1]);let f=[],p=[],d;for(let m=0;m<c.length-1;m++){d=s[m];let h=c[m],x=1/a[m],g=h+c[m+1]-d-d;f.push((d-h-g)*x),p.push(g*x*x)}this.xs=t,this.ys=r,this.c1s=c,this.c2s=f,this.c3s=p}};var vw=1;function yc(e){let t=e.nodeType===vw?e:e.parentElement;if(!t)return null;let{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function ei(e){return{x:e.clientX,y:e.clientY}}function xw(e){var t;return e.nodeName==="IMG"&&(Mg()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function yw(e,t,r,n){let o=e?t.width:r,i=e?t.height:n;return xc()&&e&&(i/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:i}}function _g(e,t,r,n,o){let i=xw(t),s=yc(i?e:t),u={x:r.x-s.x,y:r.y-s.y},{offsetWidth:l,offsetHeight:c}=e,{anchorX:f,anchorY:p}=n,{dragPreviewWidth:d,dragPreviewHeight:m}=yw(i,t,l,c),h=()=>{let v=new Jo([0,.5,1],[u.y,u.y/c*m,u.y+m-c]).interpolate(p);return xc()&&i&&(v+=(window.devicePixelRatio-1)*m),v},x=()=>new Jo([0,.5,1],[u.x,u.x/l*d,u.x+d-l]).interpolate(f),{offsetX:g,offsetY:b}=o,S=g===0||g,T=b===0||b;return{x:S?g:x(),y:T?b:h()}}var Ya=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,r){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=r}};function bw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Og(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){bw(e,o,r[o])})}return e}var Xa=class{profile(){var t,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){let t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){let t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,r,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,r),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,r,n){this.sourceNodes.set(t,r),this.sourceNodeOptions.set(t,n);let o=a=>this.handleDragStart(a,t),i=a=>this.handleSelectStart(a);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",o),r.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),r.removeEventListener("dragstart",o),r.removeEventListener("selectstart",i),r.setAttribute("draggable","false")}}connectDropTarget(t,r){let n=a=>this.handleDragEnter(a,t),o=a=>this.handleDragOver(a,t),i=a=>this.handleDrop(a,t);return r.addEventListener("dragenter",n),r.addEventListener("dragover",o),r.addEventListener("drop",i),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",o),r.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){let t=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(t);return Og({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){let t=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(t);return Og({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){let t=this.monitor.getItemType();return Object.keys(Zo).some(r=>Zo[r]===t)}beginDragNativeItem(t,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Ig(t,r),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;let r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,r){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(t,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(t,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(t,r){this.dropTargetIds.unshift(r)}constructor(t,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{let i=this.sourceNodes.get(o);return i&&yc(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{let o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;let{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;let a=ei(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});let{dataTransfer:s}=o,u=Ka(s);if(this.monitor.isDragging()){if(s&&typeof s.setDragImage=="function"){let c=this.monitor.getSourceId(),f=this.sourceNodes.get(c),p=this.sourcePreviewNodes.get(c)||f;if(p){let{anchorX:d,anchorY:m,offsetX:h,offsetY:x}=this.getCurrentSourcePreviewNodeOptions(),S=_g(f,p,a,{anchorX:d,anchorY:m},{offsetX:h,offsetY:x});s.setDragImage(p,S.x,S.y)}}try{s?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);let{captureDraggingState:l}=this.getCurrentSourcePreviewNodeOptions();l?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(u)this.beginDragNativeItem(u);else{if(s&&!s.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}if(!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;let{dataTransfer:s}=o,u=Ka(s);u&&this.beginDragNativeItem(u,s)},this.handleTopDragEnter=o=>{let{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=o.altKey,i.length>0&&this.actions.hover(i,{clientOffset:ei(o)}),i.some(s=>this.monitor.canDropOnTarget(s))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=o=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}},this.handleTopDragOver=o=>{let{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}this.altKeyPressed=o.altKey,this.lastClientOffset=ei(o),this.scheduleHover(i),(i||[]).some(s=>this.monitor.canDropOnTarget(s))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=o=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;o.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}else Ka(o.dataTransfer)&&o.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{let{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:ei(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{let i=o.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(o.preventDefault(),i.dragDrop()))},this.options=new Ya(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new ja(this.isNodeInDocument)}};var $a;function bc(){return $a||($a=new Image,$a.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),$a}var kg=function(t,r,n){return new Xa(t,r,n)};var bt=[];var Dg=function(){return bt.some(function(e){return e.activeTargets.length>0})};var Pg=function(){return bt.some(function(e){return e.skippedTargets.length>0})};var Ag="ResizeObserver loop completed with undelivered notifications.",Lg=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:Ag}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=Ag),window.dispatchEvent(e)};var mn;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(mn||(mn={}));var Vt=function(e){return Object.freeze(e)};var Sc=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,Vt(this)}return e}();var Cc=function(){function e(t,r,n,o){return this.x=t,this.y=r,this.width=n,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Vt(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,n=t.y,o=t.top,i=t.right,a=t.bottom,s=t.left,u=t.width,l=t.height;return{x:r,y:n,top:o,right:i,bottom:a,left:s,width:u,height:l}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}();var ti=function(e){return e instanceof SVGElement&&"getBBox"in e},Qa=function(e){if(ti(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var o=e,i=o.offsetWidth,a=o.offsetHeight;return!(i||a||e.getClientRects().length)},Ec=function(e){var t;if(e instanceof Element)return!0;var r=(t=e?.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},Rg=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1};var hn=typeof window<"u"?window:{};var Za=new WeakMap,Ng=/auto|scroll/,Sw=/^tb|vertical/,Cw=/msie|trident/i.test(hn.navigator&&hn.navigator.userAgent),Xt=function(e){return parseFloat(e||"0")},Wn=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new Sc((r?t:e)||0,(r?e:t)||0)},Fg=Vt({devicePixelContentBoxSize:Wn(),borderBoxSize:Wn(),contentBoxSize:Wn(),contentRect:new Cc(0,0,0,0)}),Tc=function(e,t){if(t===void 0&&(t=!1),Za.has(e)&&!t)return Za.get(e);if(Qa(e))return Za.set(e,Fg),Fg;var r=getComputedStyle(e),n=ti(e)&&e.ownerSVGElement&&e.getBBox(),o=!Cw&&r.boxSizing==="border-box",i=Sw.test(r.writingMode||""),a=!n&&Ng.test(r.overflowY||""),s=!n&&Ng.test(r.overflowX||""),u=n?0:Xt(r.paddingTop),l=n?0:Xt(r.paddingRight),c=n?0:Xt(r.paddingBottom),f=n?0:Xt(r.paddingLeft),p=n?0:Xt(r.borderTopWidth),d=n?0:Xt(r.borderRightWidth),m=n?0:Xt(r.borderBottomWidth),h=n?0:Xt(r.borderLeftWidth),x=f+l,g=u+c,b=h+d,S=p+m,T=s?e.offsetHeight-S-e.clientHeight:0,w=a?e.offsetWidth-b-e.clientWidth:0,v=o?x+b:0,E=o?g+S:0,M=n?n.width:Xt(r.width)-v-w,I=n?n.height:Xt(r.height)-E-T,k=M+x+w+b,F=I+g+T+S,H=Vt({devicePixelContentBoxSize:Wn(Math.round(M*devicePixelRatio),Math.round(I*devicePixelRatio),i),borderBoxSize:Wn(k,F,i),contentBoxSize:Wn(M,I,i),contentRect:new Cc(f,u,M,I)});return Za.set(e,H),H},Ja=function(e,t,r){var n=Tc(e,r),o=n.borderBoxSize,i=n.contentBoxSize,a=n.devicePixelContentBoxSize;switch(t){case mn.DEVICE_PIXEL_CONTENT_BOX:return a;case mn.BORDER_BOX:return o;default:return i}};var wc=function(){function e(t){var r=Tc(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=Vt([r.borderBoxSize]),this.contentBoxSize=Vt([r.contentBoxSize]),this.devicePixelContentBoxSize=Vt([r.devicePixelContentBoxSize])}return e}();var es=function(e){if(Qa(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t};var Vg=function(){var e=1/0,t=[];bt.forEach(function(a){if(a.activeTargets.length!==0){var s=[];a.activeTargets.forEach(function(l){var c=new wc(l.target),f=es(l.target);s.push(c),l.lastReportedSize=Ja(l.target,l.observedBox),f<e&&(e=f)}),t.push(function(){a.callback.call(a.observer,s,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var r=0,n=t;r<n.length;r++){var o=n[r];o()}return e};var Ic=function(e){bt.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(o){o.isActive()&&(es(o.target)>e?r.activeTargets.push(o):r.skippedTargets.push(o))})})};var Bg=function(){var e=0;for(Ic(e);Dg();)e=Vg(),Ic(e);return Pg()&&Lg(),e>0};var Mc,Hg=[],Ew=function(){return Hg.splice(0).forEach(function(e){return e()})},zg=function(e){if(!Mc){var t=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return Ew()}).observe(r,n),Mc=function(){r.textContent="".concat(t?t--:t++)}}Hg.push(e),Mc()};var Ug=function(e){zg(function(){requestAnimationFrame(e)})};var ts=0,Tw=function(){return!!ts},ww=250,Iw={attributes:!0,characterData:!0,childList:!0,subtree:!0},jg=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Gg=function(e){return e===void 0&&(e=0),Date.now()+e},_c=!1,Mw=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=ww),!_c){_c=!0;var n=Gg(t);Ug(function(){var o=!1;try{o=Bg()}finally{if(_c=!1,t=n-Gg(),!Tw())return;o?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,Iw)};document.body?r():hn.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),jg.forEach(function(r){return hn.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),jg.forEach(function(r){return hn.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),rs=new Mw,Oc=function(e){!ts&&e>0&&rs.start(),ts+=e,!ts&&rs.stop()};var _w=function(e){return!ti(e)&&!Rg(e)&&getComputedStyle(e).display==="inline"},Wg=function(){function e(t,r){this.target=t,this.observedBox=r||mn.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=Ja(this.target,this.observedBox,!0);return _w(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}();var qg=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}();var ns=new WeakMap,Kg=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},ri=function(){function e(){}return e.connect=function(t,r){var n=new qg(t,r);ns.set(t,n)},e.observe=function(t,r,n){var o=ns.get(t),i=o.observationTargets.length===0;Kg(o.observationTargets,r)<0&&(i&&bt.push(o),o.observationTargets.push(new Wg(r,n&&n.box)),Oc(1),rs.schedule())},e.unobserve=function(t,r){var n=ns.get(t),o=Kg(n.observationTargets,r),i=n.observationTargets.length===1;o>=0&&(i&&bt.splice(bt.indexOf(n),1),n.observationTargets.splice(o,1),Oc(-1))},e.disconnect=function(t){var r=this,n=ns.get(t);n.observationTargets.slice().forEach(function(o){return r.unobserve(t,o.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}();var kc=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ri.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Ec(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ri.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Ec(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ri.unobserve(this,t)},e.prototype.disconnect=function(){ri.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();var Dc=function(e,t){return Dc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Dc(e,t)};function os(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Dc(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var D=function(){return D=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},D.apply(this,arguments)};function Se(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function le(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function He(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Nc=P(R(),1),ni=P(R(),1);var $g=P(R(),1),Qg=P(R(),1);var Ow="production",is=typeof process>"u"||process.env===void 0?Ow:"production";var dr=function(e){return{isEnabled:function(t){return e.some(function(r){return!!t[r]})}}},gn={measureLayout:dr(["layout","layoutId","drag"]),animation:dr(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:dr(["exit"]),drag:dr(["drag","dragControls"]),focus:dr(["whileFocus"]),hover:dr(["whileHover","onHoverStart","onHoverEnd"]),tap:dr(["whileTap","onTap","onTapStart","onTapCancel"]),pan:dr(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:dr(["whileInView","onViewportEnter","onViewportLeave"])};function Yg(e){for(var t in e)e[t]!==null&&(t==="projectionNodeConstructor"?gn.projectionNodeConstructor=e[t]:gn[t].Component=e[t])}var vn=function(){},Ve=function(){};var Xg=P(R(),1),as=(0,Xg.createContext)({strict:!1});var Zg=Object.keys(gn),kw=Zg.length;function Jg(e,t,r){var n=[],o=(0,Qg.useContext)(as);if(!t)return null;is!=="production"&&r&&o.strict&&Ve(!1,"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.");for(var i=0;i<kw;i++){var a=Zg[i],s=gn[a],u=s.isEnabled,l=s.Component;u(e)&&l&&n.push($g.createElement(l,D({key:a},e,{visualElement:t})))}return n}var ev=P(R(),1),qn=(0,ev.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"});var ss=P(R(),1),xn=(0,ss.createContext)({});function tv(){return(0,ss.useContext)(xn).visualElement}var yn=P(R(),1);var rv=P(R(),1),Ur=(0,rv.createContext)(null);var us=P(R(),1);var $t=typeof document<"u";var Pc=$t?us.useLayoutEffect:us.useEffect;var ls=P(R(),1);var Ac={current:null},nv=!1;function Dw(){if(nv=!0,!!$t)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return Ac.current=e.matches};e.addListener(t),t()}else Ac.current=!1}function Pw(){!nv&&Dw();var e=le((0,ls.useState)(Ac.current),1),t=e[0];return t}function ov(){var e=Pw(),t=(0,ls.useContext)(qn).reducedMotion;return t==="never"?!1:t==="always"?!0:e}function iv(e,t,r,n){var o=(0,yn.useContext)(as),i=tv(),a=(0,yn.useContext)(Ur),s=ov(),u=(0,yn.useRef)(void 0);n||(n=o.renderer),!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceId:a?.id,blockInitialAnimation:a?.initial===!1,shouldReduceMotion:s}));var l=u.current;return Pc(function(){l?.syncRender()}),(0,yn.useEffect)(function(){var c;(c=l?.animationState)===null||c===void 0||c.animateChanges()}),Pc(function(){return function(){return l?.notifyUnmount()}},[]),l}var av=P(R(),1);function mr(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function sv(e,t,r){return(0,av.useCallback)(function(n){var o;n&&((o=e.mount)===null||o===void 0||o.call(e,n)),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):mr(r)&&(r.current=n))},[t])}var fs=P(R(),1);function Lc(e){return Array.isArray(e)}function ut(e){return typeof e=="string"||Lc(e)}function Aw(e){var t={};return e.forEachValue(function(r,n){return t[n]=r.get()}),t}function Lw(e){var t={};return e.forEachValue(function(r,n){return t[n]=r.getVelocity()}),t}function Rc(e,t,r,n,o){var i;return n===void 0&&(n={}),o===void 0&&(o={}),typeof t=="function"&&(t=t(r??e.custom,n,o)),typeof t=="string"&&(t=(i=e.variants)===null||i===void 0?void 0:i[t]),typeof t=="function"&&(t=t(r??e.custom,n,o)),t}function bn(e,t,r){var n=e.getProps();return Rc(n,t,r??n.custom,Aw(e),Lw(e))}function Sn(e){var t;return typeof((t=e.animate)===null||t===void 0?void 0:t.start)=="function"||ut(e.initial)||ut(e.animate)||ut(e.whileHover)||ut(e.whileDrag)||ut(e.whileTap)||ut(e.whileFocus)||ut(e.exit)}function cs(e){return!!(Sn(e)||e.variants)}function uv(e,t){if(Sn(e)){var r=e.initial,n=e.animate;return{initial:r===!1||ut(r)?r:void 0,animate:ut(n)?n:void 0}}return e.inherit!==!1?t:{}}function cv(e){var t=uv(e,(0,fs.useContext)(xn)),r=t.initial,n=t.animate;return(0,fs.useMemo)(function(){return{initial:r,animate:n}},[lv(r),lv(n)])}function lv(e){return Array.isArray(e)?e.join(" "):e}var fv=P(R(),1);function jr(e){var t=(0,fv.useRef)(null);return t.current===null&&(t.current=e()),t.current}var Gr={hasAnimatedSinceResize:!0,hasEverUpdated:!1};var Rw=1;function pv(){return jr(function(){if(Gr.hasEverUpdated)return Rw++})}var dv=P(R(),1),ps=(0,dv.createContext)({});var hv=P(R(),1);var mv=P(R(),1),ds=(0,mv.createContext)({});function gv(e,t,r,n){var o,i=t.layoutId,a=t.layout,s=t.drag,u=t.dragConstraints,l=t.layoutScroll,c=(0,hv.useContext)(ds);!n||!r||r?.projection||(r.projection=new n(e,r.getLatestValues(),(o=r.parent)===null||o===void 0?void 0:o.projection),r.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||u&&mr(u),visualElement:r,scheduleRender:function(){return r.scheduleRender()},animationType:typeof a=="string"?a:"both",initialPromotionConfig:c,layoutScroll:l}))}var vv=P(R(),1),xv=function(e){os(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var r=this.props,n=r.visualElement,o=r.props;n&&n.setProps(o)},t.prototype.render=function(){return this.props.children},t}(vv.default.Component);function yv(e){var t=e.preloadedFeatures,r=e.createVisualElement,n=e.projectionNodeConstructor,o=e.useRender,i=e.useVisualState,a=e.Component;t&&Yg(t);function s(u,l){var c=Nw(u);u=D(D({},u),{layoutId:c});var f=(0,ni.useContext)(qn),p=null,d=cv(u),m=f.isStatic?void 0:pv(),h=i(u,f.isStatic);return!f.isStatic&&$t&&(d.visualElement=iv(a,h,D(D({},f),u),r),gv(m,u,d.visualElement,n||gn.projectionNodeConstructor),p=Jg(u,d.visualElement,t)),Nc.createElement(xv,{visualElement:d.visualElement,props:D(D({},f),u)},p,Nc.createElement(xn.Provider,{value:d},o(a,u,m,sv(h,d.visualElement,l),h,f.isStatic,d.visualElement)))}return(0,ni.forwardRef)(s)}function Nw(e){var t,r=e.layoutId,n=(t=(0,ni.useContext)(ps))===null||t===void 0?void 0:t.id;return n&&r!==void 0?n+"-"+r:r}function bv(e){function t(n,o){return o===void 0&&(o={}),yv(e(n,o))}if(typeof Proxy>"u")return t;var r=new Map;return new Proxy(t,{get:function(n,o){return r.has(o)||r.set(o,t(o)),r.get(o)}})}var Sv=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function Kn(e){return typeof e!="string"||e.includes("-")?!1:!!(Sv.indexOf(e)>-1||/[A-Z]/.test(e))}var Gv=P(R(),1);var Av=P(R(),1);var Yn={};function Cv(e){Object.assign(Yn,e)}var ms=["","X","Y","Z"],Fw=["translate","scale","rotate","skew"],Xn=["transformPerspective","x","y","z"];Fw.forEach(function(e){return ms.forEach(function(t){return Xn.push(e+t)})});function Ev(e,t){return Xn.indexOf(e)-Xn.indexOf(t)}var Vw=new Set(Xn);function Qt(e){return Vw.has(e)}var Bw=new Set(["originX","originY","originZ"]);function hs(e){return Bw.has(e)}function gs(e,t){var r=t.layout,n=t.layoutId;return Qt(e)||hs(e)||(r||n!==void 0)&&(!!Yn[e]||e==="opacity")}var $e=function(e){return!!(e!==null&&typeof e=="object"&&e.getVelocity)};var Hw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Tv(e,t,r,n){var o=e.transform,i=e.transformKeys,a=t.enableHardwareAcceleration,s=a===void 0?!0:a,u=t.allowTransformNone,l=u===void 0?!0:u,c="";i.sort(Ev);for(var f=!1,p=i.length,d=0;d<p;d++){var m=i[d];c+="".concat(Hw[m]||m,"(").concat(o[m],") "),m==="z"&&(f=!0)}return!f&&s?c+="translateZ(0)":c=c.trim(),n?c=n(o,r?"":c):l&&r&&(c="none"),c}function wv(e){var t=e.originX,r=t===void 0?"50%":t,n=e.originY,o=n===void 0?"50%":n,i=e.originZ,a=i===void 0?0:i;return"".concat(r," ").concat(o," ").concat(a)}function vs(e){return e.startsWith("--")}var Iv=function(e,t){return t&&typeof e=="number"?t.transform(e):e};var xs=(e,t)=>r=>Math.max(Math.min(r,t),e),Wr=e=>e%1?Number(e.toFixed(5)):e,qr=/(-)?([\d]*\.?[\d])+/g,ys=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,Mv=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function hr(e){return typeof e=="string"}var dt={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},gr=Object.assign(Object.assign({},dt),{transform:xs(0,1)}),$n=Object.assign(Object.assign({},dt),{default:1});var oi=e=>({test:t=>hr(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Bt=oi("deg"),Qe=oi("%"),Y=oi("px"),Fc=oi("vh"),Vc=oi("vw"),bs=Object.assign(Object.assign({},Qe),{parse:e=>Qe.parse(e)/100,transform:e=>Qe.transform(e*100)});var Qn=(e,t)=>r=>!!(hr(r)&&Mv.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),Ss=(e,t,r)=>n=>{if(!hr(n))return n;let[o,i,a,s]=n.match(qr);return{[e]:parseFloat(o),[t]:parseFloat(i),[r]:parseFloat(a),alpha:s!==void 0?parseFloat(s):1}};var Zt={test:Qn("hsl","hue"),parse:Ss("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Qe.transform(Wr(t))+", "+Qe.transform(Wr(r))+", "+Wr(gr.transform(n))+")"};var zw=xs(0,255),Cs=Object.assign(Object.assign({},dt),{transform:e=>Math.round(zw(e))}),St={test:Qn("rgb","red"),parse:Ss("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Cs.transform(e)+", "+Cs.transform(t)+", "+Cs.transform(r)+", "+Wr(gr.transform(n))+")"};function Uw(e){let t="",r="",n="",o="";return e.length>5?(t=e.substr(1,2),r=e.substr(3,2),n=e.substr(5,2),o=e.substr(7,2)):(t=e.substr(1,1),r=e.substr(2,1),n=e.substr(3,1),o=e.substr(4,1),t+=t,r+=r,n+=n,o+=o),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}var Zn={test:Qn("#"),parse:Uw,transform:St.transform};var Te={test:e=>St.test(e)||Zn.test(e)||Zt.test(e),parse:e=>St.test(e)?St.parse(e):Zt.test(e)?Zt.parse(e):Zn.parse(e),transform:e=>hr(e)?e:e.hasOwnProperty("red")?St.transform(e):Zt.transform(e)};var _v="${c}",Ov="${n}";function jw(e){var t,r,n,o;return isNaN(e)&&hr(e)&&((r=(t=e.match(qr))===null||t===void 0?void 0:t.length)!==null&&r!==void 0?r:0)+((o=(n=e.match(ys))===null||n===void 0?void 0:n.length)!==null&&o!==void 0?o:0)>0}function kv(e){typeof e=="number"&&(e=`${e}`);let t=[],r=0,n=e.match(ys);n&&(r=n.length,e=e.replace(ys,_v),t.push(...n.map(Te.parse)));let o=e.match(qr);return o&&(e=e.replace(qr,Ov),t.push(...o.map(dt.parse))),{values:t,numColors:r,tokenised:e}}function Dv(e){return kv(e).values}function Pv(e){let{values:t,numColors:r,tokenised:n}=kv(e),o=t.length;return i=>{let a=n;for(let s=0;s<o;s++)a=a.replace(s<r?_v:Ov,s<r?Te.transform(i[s]):Wr(i[s]));return a}}var Gw=e=>typeof e=="number"?0:e;function Ww(e){let t=Dv(e);return Pv(e)(t.map(Gw))}var ze={test:jw,parse:Dv,createTransformer:Pv,getAnimatableNone:Ww};var qw=new Set(["brightness","contrast","saturate","opacity"]);function Kw(e){let[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;let[n]=r.match(qr)||[];if(!n)return e;let o=r.replace(n,""),i=qw.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+o+")"}var Yw=/([a-z-]*)\(.*?\)/g,Jn=Object.assign(Object.assign({},ze),{getAnimatableNone:e=>{let t=e.match(Yw);return t?t.map(Kw).join(" "):e}});var Bc=D(D({},dt),{transform:Math.round});var Es={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,size:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,rotate:Bt,rotateX:Bt,rotateY:Bt,rotateZ:Bt,scale:$n,scaleX:$n,scaleY:$n,scaleZ:$n,skew:Bt,skewX:Bt,skewY:Bt,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:gr,originX:bs,originY:bs,originZ:Y,zIndex:Bc,fillOpacity:gr,strokeOpacity:gr,numOctaves:Bc};function eo(e,t,r,n){var o,i=e.style,a=e.vars,s=e.transform,u=e.transformKeys,l=e.transformOrigin;u.length=0;var c=!1,f=!1,p=!0;for(var d in t){var m=t[d];if(vs(d)){a[d]=m;continue}var h=Es[d],x=Iv(m,h);if(Qt(d)){if(c=!0,s[d]=x,u.push(d),!p)continue;m!==((o=h.default)!==null&&o!==void 0?o:0)&&(p=!1)}else hs(d)?(l[d]=x,f=!0):i[d]=x}c?i.transform=Tv(e,r,p,n):n?i.transform=n({},""):!t.transform&&i.transform&&(i.transform="none"),f&&(i.transformOrigin=wv(l))}var to=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function Hc(e,t,r){for(var n in t)!$e(t[n])&&!gs(n,r)&&(e[n]=t[n])}function Xw(e,t,r){var n=e.transformTemplate;return(0,Av.useMemo)(function(){var o=to();eo(o,t,{enableHardwareAcceleration:!r},n);var i=o.vars,a=o.style;return D(D({},i),a)},[t])}function $w(e,t,r){var n=e.style||{},o={};return Hc(o,n,e),Object.assign(o,Xw(e,t,r)),e.transformValues&&(o=e.transformValues(o)),o}function Lv(e,t,r){var n={},o=$w(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":"pan-".concat(e.drag==="x"?"y":"x")),n.style=o,n}var Qw=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function ii(e){return Qw.has(e)}var Fv=function(e){return!ii(e)};function nI(e){e&&(Fv=function(t){return t.startsWith("on")?!ii(t):e(t)})}try{nI(Nv().default)}catch{}function Vv(e,t,r){var n={};for(var o in e)(Fv(o)||r===!0&&ii(o)||!t&&!ii(o)||e.draggable&&o.startsWith("onDrag"))&&(n[o]=e[o]);return n}var Uv=P(R(),1);function Bv(e,t,r){return typeof e=="string"?e:Y.transform(t+r*e)}function Hv(e,t,r){var n=Bv(t,e.x,e.width),o=Bv(r,e.y,e.height);return"".concat(n," ").concat(o)}var oI={offset:"stroke-dashoffset",array:"stroke-dasharray"},iI={offset:"strokeDashoffset",array:"strokeDasharray"};function zv(e,t,r,n,o){r===void 0&&(r=1),n===void 0&&(n=0),o===void 0&&(o=!0),e.pathLength=1;var i=o?oI:iI;e[i.offset]=Y.transform(-n);var a=Y.transform(t),s=Y.transform(r);e[i.array]="".concat(a," ").concat(s)}function ro(e,t,r,n){var o=t.attrX,i=t.attrY,a=t.originX,s=t.originY,u=t.pathLength,l=t.pathSpacing,c=l===void 0?1:l,f=t.pathOffset,p=f===void 0?0:f,d=Se(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);eo(e,d,r,n),e.attrs=e.style,e.style={};var m=e.attrs,h=e.style,x=e.dimensions;m.transform&&(x&&(h.transform=m.transform),delete m.transform),x&&(a!==void 0||s!==void 0||h.transform)&&(h.transformOrigin=Hv(x,a!==void 0?a:.5,s!==void 0?s:.5)),o!==void 0&&(m.x=o),i!==void 0&&(m.y=i),u!==void 0&&zv(m,u,c,p,!1)}var Ts=function(){return D(D({},to()),{attrs:{}})};function jv(e,t){var r=(0,Uv.useMemo)(function(){var o=Ts();return ro(o,t,{enableHardwareAcceleration:!1},e.transformTemplate),D(D({},o.attrs),{style:D({},o.style)})},[t]);if(e.style){var n={};Hc(n,e.style,e),r.style=D(D({},n),r.style)}return r}function Wv(e){e===void 0&&(e=!1);var t=function(r,n,o,i,a,s){var u=a.latestValues,l=Kn(r)?jv:Lv,c=l(n,u,s),f=Vv(n,typeof r=="string",e),p=D(D(D({},f),c),{ref:i});return o&&(p["data-projection-id"]=o),(0,Gv.createElement)(r,p)};return t}var aI=/([a-z])([A-Z])/g,sI="$1-$2",ws=function(e){return e.replace(aI,sI).toLowerCase()};function Is(e,t,r,n){var o=t.style,i=t.vars;Object.assign(e.style,o,n&&n.getProjectionStyles(r));for(var a in i)e.style.setProperty(a,i[a])}var Ms=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function _s(e,t,r,n){Is(e,t,void 0,n);for(var o in t.attrs)e.setAttribute(Ms.has(o)?o:ws(o),t.attrs[o])}function no(e){var t=e.style,r={};for(var n in t)($e(t[n])||gs(n,e))&&(r[n]=t[n]);return r}function Os(e){var t=no(e);for(var r in e)if($e(e[r])){var n=r==="x"||r==="y"?"attr"+r.toUpperCase():r;t[n]=e[r]}return t}var jc=P(R(),1);function oo(e){return typeof e=="object"&&typeof e.start=="function"}var vr=function(e){return Array.isArray(e)};var qv=function(e){return!!(e&&typeof e=="object"&&e.mix&&e.toValue)},ks=function(e){return vr(e)?e[e.length-1]||0:e};function io(e){var t=$e(e)?e.get():e;return qv(t)?t.toValue():t}function Kv(e,t,r,n){var o=e.scrapeMotionValuesFromProps,i=e.createRenderState,a=e.onMount,s={latestValues:uI(t,r,n,o),renderState:i()};return a&&(s.mount=function(u){return a(t,u,s)}),s}var Ds=function(e){return function(t,r){var n=(0,jc.useContext)(xn),o=(0,jc.useContext)(Ur);return r?Kv(e,t,n,o):jr(function(){return Kv(e,t,n,o)})}};function uI(e,t,r,n){var o={},i=r?.initial===!1,a=n(e);for(var s in a)o[s]=io(a[s]);var u=e.initial,l=e.animate,c=Sn(e),f=cs(e);t&&f&&!c&&e.inherit!==!1&&(u??(u=t.initial),l??(l=t.animate));var p=i||u===!1,d=p?l:u;if(d&&typeof d!="boolean"&&!oo(d)){var m=Array.isArray(d)?d:[d];m.forEach(function(h){var x=Rc(e,h);if(x){var g=x.transitionEnd;x.transition;var b=Se(x,["transitionEnd","transition"]);for(var S in b){var T=b[S];if(Array.isArray(T)){var w=p?T.length-1:0;T=T[w]}T!==null&&(o[S]=T)}for(var S in g)o[S]=g[S]}})}return o}var Yv={useVisualState:Ds({scrapeMotionValuesFromProps:Os,createRenderState:Ts,onMount:function(e,t,r){var n=r.renderState,o=r.latestValues;try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}ro(n,o,{enableHardwareAcceleration:!1},e.transformTemplate),_s(t,n)}})};var Xv={useVisualState:Ds({scrapeMotionValuesFromProps:no,createRenderState:to})};function $v(e,t,r,n,o){var i=t.forwardMotionProps,a=i===void 0?!1:i,s=Kn(e)?Yv:Xv;return D(D({},s),{preloadedFeatures:r,useRender:Wv(a),createVisualElement:n,projectionNodeConstructor:o,Component:e})}var pe;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"})(pe||(pe={}));var Qv=P(R(),1);function Cn(e,t,r,n){return n===void 0&&(n={passive:!0}),e.addEventListener(t,r,n),function(){return e.removeEventListener(t,r)}}function ai(e,t,r,n){(0,Qv.useEffect)(function(){var o=e.current;if(r&&o)return Cn(o,t,r,n)},[e,t,r,n])}function Zv(e){var t=e.whileFocus,r=e.visualElement,n=function(){var i;(i=r.animationState)===null||i===void 0||i.setActive(pe.Focus,!0)},o=function(){var i;(i=r.animationState)===null||i===void 0||i.setActive(pe.Focus,!1)};ai(r,"focus",t?n:void 0),ai(r,"blur",t?o:void 0)}function Ps(e){return typeof PointerEvent<"u"&&e instanceof PointerEvent?e.pointerType==="mouse":e instanceof MouseEvent}function As(e){var t=!!e.touches;return t}function lI(e){return function(t){var r=t instanceof MouseEvent,n=!r||r&&t.button===0;n&&e(t)}}var cI={pageX:0,pageY:0};function fI(e,t){t===void 0&&(t="page");var r=e.touches[0]||e.changedTouches[0],n=r||cI;return{x:n[t+"X"],y:n[t+"Y"]}}function pI(e,t){return t===void 0&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function si(e,t){return t===void 0&&(t="page"),{point:As(e)?fI(e,t):pI(e,t)}}var Gc=function(e,t){t===void 0&&(t=!1);var r=function(n){return e(n,si(n))};return t?lI(r):r};var Jv=function(){return $t&&window.onpointerdown===null},ex=function(){return $t&&window.ontouchstart===null},tx=function(){return $t&&window.onmousedown===null};var dI={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},mI={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function rx(e){return Jv()?e:ex()?mI[e]:tx()?dI[e]:e}function xr(e,t,r,n){return Cn(e,rx(t),Gc(r,t==="pointerdown"),n)}function En(e,t,r,n){return ai(e,rx(t),r&&Gc(r,t==="pointerdown"),n)}function ix(e){var t=null;return function(){var r=function(){t=null};return t===null?(t=e,r):!1}}var nx=ix("dragHorizontal"),ox=ix("dragVertical");function Wc(e){var t=!1;if(e==="y")t=ox();else if(e==="x")t=nx();else{var r=nx(),n=ox();r&&n?t=function(){r(),n()}:(r&&r(),n&&n())}return t}function Ls(){var e=Wc(!0);return e?(e(),!1):!0}function ax(e,t,r){return function(n,o){var i;!Ps(n)||Ls()||((i=e.animationState)===null||i===void 0||i.setActive(pe.Hover,t),r?.(n,o))}}function sx(e){var t=e.onHoverStart,r=e.onHoverEnd,n=e.whileHover,o=e.visualElement;En(o,"pointerenter",t||n?ax(o,!0,t):void 0,{passive:!t}),En(o,"pointerleave",r||n?ax(o,!1,r):void 0,{passive:!r})}var hf=P(R(),1);var qc=function(e,t){return t?e===t?!0:qc(e,t.parentElement):!1};var ux=P(R(),1);function Rs(e){return(0,ux.useEffect)(function(){return function(){return e()}},[])}var Kr=(e,t,r)=>Math.min(Math.max(r,e),t);var Kc=.001,hI=.01,lx=10,gI=.05,vI=1;function cx({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let o,i;vn(e<=lx*1e3,"Spring duration must be 10 seconds or less");let a=1-t;a=Kr(gI,vI,a),e=Kr(hI,lx,e/1e3),a<1?(o=l=>{let c=l*a,f=c*e,p=c-r,d=Ns(l,a),m=Math.exp(-f);return Kc-p/d*m},i=l=>{let f=l*a*e,p=f*r+r,d=Math.pow(a,2)*Math.pow(l,2)*e,m=Math.exp(-f),h=Ns(Math.pow(l,2),a);return(-o(l)+Kc>0?-1:1)*((p-d)*m)/h}):(o=l=>{let c=Math.exp(-l*e),f=(l-r)*e+1;return-Kc+c*f},i=l=>{let c=Math.exp(-l*e),f=(r-l)*(e*e);return c*f});let s=5/e,u=yI(o,i,s);if(e=e*1e3,isNaN(u))return{stiffness:100,damping:10,duration:e};{let l=Math.pow(u,2)*n;return{stiffness:l,damping:a*2*Math.sqrt(n*l),duration:e}}}var xI=12;function yI(e,t,r){let n=r;for(let o=1;o<xI;o++)n=n-e(n)/t(n);return n}function Ns(e,t){return e*Math.sqrt(1-t*t)}var bI=["duration","bounce"],SI=["stiffness","damping","mass"];function fx(e,t){return t.some(r=>e[r]!==void 0)}function CI(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!fx(e,SI)&&fx(e,bI)){let r=cx(e);t=Object.assign(Object.assign(Object.assign({},t),r),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function Fs(e){var{from:t=0,to:r=1,restSpeed:n=2,restDelta:o}=e,i=Se(e,["from","to","restSpeed","restDelta"]);let a={done:!1,value:t},{stiffness:s,damping:u,mass:l,velocity:c,duration:f,isResolvedFromDuration:p}=CI(i),d=px,m=px;function h(){let x=c?-(c/1e3):0,g=r-t,b=u/(2*Math.sqrt(s*l)),S=Math.sqrt(s/l)/1e3;if(o===void 0&&(o=Math.min(Math.abs(r-t)/100,.4)),b<1){let T=Ns(S,b);d=w=>{let v=Math.exp(-b*S*w);return r-v*((x+b*S*g)/T*Math.sin(T*w)+g*Math.cos(T*w))},m=w=>{let v=Math.exp(-b*S*w);return b*S*v*(Math.sin(T*w)*(x+b*S*g)/T+g*Math.cos(T*w))-v*(Math.cos(T*w)*(x+b*S*g)-T*g*Math.sin(T*w))}}else if(b===1)d=T=>r-Math.exp(-S*T)*(g+(x+S*g)*T);else{let T=S*Math.sqrt(b*b-1);d=w=>{let v=Math.exp(-b*S*w),E=Math.min(T*w,300);return r-v*((x+b*S*g)*Math.sinh(E)+T*g*Math.cosh(E))/T}}}return h(),{next:x=>{let g=d(x);if(p)a.done=x>=f;else{let b=m(x)*1e3,S=Math.abs(b)<=n,T=Math.abs(r-g)<=o;a.done=S&&T}return a.value=a.done?r:g,a},flipTarget:()=>{c=-c,[t,r]=[r,t],h()}}}Fs.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";var px=e=>0;var yr=(e,t,r)=>{let n=t-e;return n===0?1:(r-e)/n};var ce=(e,t,r)=>-r*e+r*t+e;function Yc(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Xc({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let o=0,i=0,a=0;if(!t)o=i=a=r;else{let s=r<.5?r*(1+t):r+t-r*t,u=2*r-s;o=Yc(u,s,e+1/3),i=Yc(u,s,e),a=Yc(u,s,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}var EI=(e,t,r)=>{let n=e*e,o=t*t;return Math.sqrt(Math.max(0,r*(o-n)+n))},TI=[Zn,St,Zt],dx=e=>TI.find(t=>t.test(e)),mx=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,Vs=(e,t)=>{let r=dx(e),n=dx(t);Ve(!!r,mx(e)),Ve(!!n,mx(t));let o=r.parse(e),i=n.parse(t);r===Zt&&(o=Xc(o),r=St),n===Zt&&(i=Xc(i),n=St);let a=Object.assign({},o);return s=>{for(let u in a)u!=="alpha"&&(a[u]=EI(o[u],i[u],s));return a.alpha=ce(o.alpha,i.alpha,s),r.transform(a)}};var ui=e=>typeof e=="number";var wI=(e,t)=>r=>t(e(r)),br=(...e)=>e.reduce(wI);function gx(e,t){return ui(e)?r=>ce(e,t,r):Te.test(e)?Vs(e,t):Qc(e,t)}var $c=(e,t)=>{let r=[...e],n=r.length,o=e.map((i,a)=>gx(i,t[a]));return i=>{for(let a=0;a<n;a++)r[a]=o[a](i);return r}},vx=(e,t)=>{let r=Object.assign(Object.assign({},e),t),n={};for(let o in r)e[o]!==void 0&&t[o]!==void 0&&(n[o]=gx(e[o],t[o]));return o=>{for(let i in n)r[i]=n[i](o);return r}};function hx(e){let t=ze.parse(e),r=t.length,n=0,o=0,i=0;for(let a=0;a<r;a++)n||typeof t[a]=="number"?n++:t[a].hue!==void 0?i++:o++;return{parsed:t,numNumbers:n,numRGB:o,numHSL:i}}var Qc=(e,t)=>{let r=ze.createTransformer(t),n=hx(e),o=hx(t);return n.numHSL===o.numHSL&&n.numRGB===o.numRGB&&n.numNumbers>=o.numNumbers?br($c(n.parsed,o.parsed),r):(vn(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),a=>`${a>0?t:e}`)};var II=(e,t)=>r=>ce(e,t,r);function MI(e){if(typeof e=="number")return II;if(typeof e=="string")return Te.test(e)?Vs:Qc;if(Array.isArray(e))return $c;if(typeof e=="object")return vx}function _I(e,t,r){let n=[],o=r||MI(e[0]),i=e.length-1;for(let a=0;a<i;a++){let s=o(e[a],e[a+1]);if(t){let u=Array.isArray(t)?t[a]:t;s=br(u,s)}n.push(s)}return n}function OI([e,t],[r]){return n=>r(yr(e,t,n))}function kI(e,t){let r=e.length,n=r-1;return o=>{let i=0,a=!1;if(o<=e[0]?a=!0:o>=e[n]&&(i=n-1,a=!0),!a){let u=1;for(;u<r&&!(e[u]>o||u===n);u++);i=u-1}let s=yr(e[i],e[i+1],o);return t[i](s)}}function Bs(e,t,{clamp:r=!0,ease:n,mixer:o}={}){let i=e.length;Ve(i===t.length,"Both input and output ranges must be the same length"),Ve(!n||!Array.isArray(n)||n.length===i-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[i-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());let a=_I(t,n,o),s=i===2?OI(e,a):kI(e,a);return r?u=>s(Kr(e[0],e[i-1],u)):s}var li=e=>t=>1-e(1-t),Hs=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,xx=e=>t=>Math.pow(t,e),Zc=e=>t=>t*t*((e+1)*t-e),yx=e=>{let t=Zc(e);return r=>(r*=2)<1?.5*t(r):.5*(2-Math.pow(2,-10*(r-1)))};var bx=1.525,DI=4/11,PI=8/11,AI=9/10,Tn=e=>e,ci=xx(2),Jc=li(ci),fi=Hs(ci),zs=e=>1-Math.sin(Math.acos(e)),so=li(zs),ef=Hs(so),pi=Zc(bx),tf=li(pi),rf=Hs(pi),nf=yx(bx),LI=4356/361,RI=35442/1805,NI=16061/1805,ao=e=>{if(e===1||e===0)return e;let t=e*e;return e<DI?7.5625*t:e<PI?9.075*t-9.9*e+3.4:e<AI?LI*t-RI*e+NI:10.8*e*e-20.52*e+10.72},of=li(ao),af=e=>e<.5?.5*(1-ao(1-e*2)):.5*ao(e*2-1)+.5;function FI(e,t){return e.map(()=>t||fi).splice(0,e.length-1)}function VI(e){let t=e.length;return e.map((r,n)=>n!==0?n/(t-1):0)}function BI(e,t){return e.map(r=>r*t)}function di({from:e=0,to:t=1,ease:r,offset:n,duration:o=300}){let i={done:!1,value:e},a=Array.isArray(t)?t:[e,t],s=BI(n&&n.length===a.length?n:VI(a),o);function u(){return Bs(s,a,{ease:Array.isArray(r)?r:FI(a,r)})}let l=u();return{next:c=>(i.value=l(c),i.done=c>=o,i),flipTarget:()=>{a.reverse(),l=u()}}}function Sx({velocity:e=0,from:t=0,power:r=.8,timeConstant:n=350,restDelta:o=.5,modifyTarget:i}){let a={done:!1,value:t},s=r*e,u=t+s,l=i===void 0?u:i(u);return l!==u&&(s=l-t),{next:c=>{let f=-s*Math.exp(-c/n);return a.done=!(f>o||f<-o),a.value=a.done?l:l+f,a},flipTarget:()=>{}}}var Cx={keyframes:di,spring:Fs,decay:Sx};function Ex(e){if(Array.isArray(e.to))return di;if(Cx[e.type])return Cx[e.type];let t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?di:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?Fs:di}var sf=16.666666666666668,HI=typeof performance<"u"?()=>performance.now():()=>Date.now(),uf=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(HI()),sf);function Tx(e){let t=[],r=[],n=0,o=!1,i=!1,a=new WeakSet,s={schedule:(u,l=!1,c=!1)=>{let f=c&&o,p=f?t:r;return l&&a.add(u),p.indexOf(u)===-1&&(p.push(u),f&&o&&(n=t.length)),u},cancel:u=>{let l=r.indexOf(u);l!==-1&&r.splice(l,1),a.delete(u)},process:u=>{if(o){i=!0;return}if(o=!0,[t,r]=[r,t],r.length=0,n=t.length,n)for(let l=0;l<n;l++){let c=t[l];c(u),a.has(c)&&(s.schedule(c),e())}o=!1,i&&(i=!1,s.process(u))}};return s}var zI=40,lf=!0,mi=!1,cf=!1,uo={delta:0,timestamp:0},hi=["read","update","preRender","render","postRender"],Us=hi.reduce((e,t)=>(e[t]=Tx(()=>mi=!0),e),{}),UI=hi.reduce((e,t)=>{let r=Us[t];return e[t]=(n,o=!1,i=!1)=>(mi||GI(),r.schedule(n,o,i)),e},{}),Jt=hi.reduce((e,t)=>(e[t]=Us[t].cancel,e),{}),js=hi.reduce((e,t)=>(e[t]=()=>Us[t].process(uo),e),{}),jI=e=>Us[e].process(uo),wx=e=>{mi=!1,uo.delta=lf?sf:Math.max(Math.min(e-uo.timestamp,zI),1),uo.timestamp=e,cf=!0,hi.forEach(jI),cf=!1,mi&&(lf=!1,uf(wx))},GI=()=>{mi=!0,lf=!0,cf||uf(wx)},wn=()=>uo,Ze=UI;function ff(e,t,r=0){return e-t-r}function Ix(e,t,r=0,n=!0){return n?ff(t+-e,t,r):t-(e-t)+r}function Mx(e,t,r,n){return n?e>=t+r:e<=-r}var WI=e=>{let t=({delta:r})=>e(r);return{start:()=>Ze.update(t,!0),stop:()=>Jt.update(t)}};function gi(e){var t,r,{from:n,autoplay:o=!0,driver:i=WI,elapsed:a=0,repeat:s=0,repeatType:u="loop",repeatDelay:l=0,onPlay:c,onStop:f,onComplete:p,onRepeat:d,onUpdate:m}=e,h=Se(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:x}=h,g,b=0,S=h.duration,T,w=!1,v=!0,E,M=Ex(h);!((r=(t=M).needsInterpolation)===null||r===void 0)&&r.call(t,n,x)&&(E=Bs([0,100],[n,x],{clamp:!1}),n=0,x=100);let I=M(Object.assign(Object.assign({},h),{from:n,to:x}));function k(){b++,u==="reverse"?(v=b%2===0,a=Ix(a,S,l,v)):(a=ff(a,S,l),u==="mirror"&&I.flipTarget()),w=!1,d&&d()}function F(){g.stop(),p&&p()}function H(N){if(v||(N=-N),a+=N,!w){let L=I.next(Math.max(0,a));T=L.value,E&&(T=E(T)),w=v?L.done:a<=0}m?.(T),w&&(b===0&&(S??(S=a)),b<s?Mx(a,S,l,v)&&k():F())}function A(){c?.(),g=i(H),g.start()}return o&&A(),{stop:()=>{f?.(),g.stop()}}}function vi(e,t){return t?e*(1e3/t):0}function pf({from:e=0,velocity:t=0,min:r,max:n,power:o=.8,timeConstant:i=750,bounceStiffness:a=500,bounceDamping:s=10,restDelta:u=1,modifyTarget:l,driver:c,onUpdate:f,onComplete:p,onStop:d}){let m;function h(S){return r!==void 0&&S<r||n!==void 0&&S>n}function x(S){return r===void 0?n:n===void 0||Math.abs(r-S)<Math.abs(n-S)?r:n}function g(S){m?.stop(),m=gi(Object.assign(Object.assign({},S),{driver:c,onUpdate:T=>{var w;f?.(T),(w=S.onUpdate)===null||w===void 0||w.call(S,T)},onComplete:p,onStop:d}))}function b(S){g(Object.assign({type:"spring",stiffness:a,damping:s,restDelta:u},S))}if(h(e))b({from:e,velocity:t,to:x(e)});else{let S=o*t+e;typeof l<"u"&&(S=l(S));let T=x(S),w=T===r?-1:1,v,E,M=I=>{v=E,E=I,t=vi(I-v,wn().delta),(w===1&&I>T||w===-1&&I<T)&&b({from:I,to:T,velocity:t})};g({type:"decay",from:e,velocity:t,timeConstant:i,power:o,restDelta:u,modifyTarget:l,onUpdate:h(S)?M:void 0})}return{stop:()=>m?.stop()}}var xi=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y");var df=e=>xi(e)&&e.hasOwnProperty("z");var Gs=(e,t)=>Math.abs(e-t);function yi(e,t){if(ui(e)&&ui(t))return Gs(e,t);if(xi(e)&&xi(t)){let r=Gs(e.x,t.x),n=Gs(e.y,t.y),o=df(e)&&df(t)?Gs(e.z,t.z):0;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2)+Math.pow(o,2))}}var _x=(e,t)=>1-3*t+3*e,Ox=(e,t)=>3*t-6*e,kx=e=>3*e,Ks=(e,t,r)=>((_x(t,r)*e+Ox(t,r))*e+kx(t))*e,Dx=(e,t,r)=>3*_x(t,r)*e*e+2*Ox(t,r)*e+kx(t),qI=1e-7,KI=10;function YI(e,t,r,n,o){let i,a,s=0;do a=t+(r-t)/2,i=Ks(a,n,o)-e,i>0?r=a:t=a;while(Math.abs(i)>qI&&++s<KI);return a}var XI=8,$I=.001;function QI(e,t,r,n){for(let o=0;o<XI;++o){let i=Dx(t,r,n);if(i===0)return t;let a=Ks(t,r,n)-e;t-=a/i}return t}var qs=11,Ws=1/(qs-1);function mf(e,t,r,n){if(e===t&&r===n)return Tn;let o=new Float32Array(qs);for(let a=0;a<qs;++a)o[a]=Ks(a*Ws,e,r);function i(a){let s=0,u=1,l=qs-1;for(;u!==l&&o[u]<=a;++u)s+=Ws;--u;let c=(a-o[u])/(o[u+1]-o[u]),f=s+c*Ws,p=Dx(f,e,r);return p>=$I?QI(a,f,e,r):p===0?f:YI(a,s,s+Ws,e,r)}return a=>a===0||a===1?a:Ks(i(a),t,n)}function Px(e){var t=e.onTap,r=e.onTapStart,n=e.onTapCancel,o=e.whileTap,i=e.visualElement,a=t||r||n||o,s=(0,hf.useRef)(!1),u=(0,hf.useRef)(null),l={passive:!(r||t||n||m)};function c(){var h;(h=u.current)===null||h===void 0||h.call(u),u.current=null}function f(){var h;return c(),s.current=!1,(h=i.animationState)===null||h===void 0||h.setActive(pe.Tap,!1),!Ls()}function p(h,x){f()&&(qc(i.getInstance(),h.target)?t?.(h,x):n?.(h,x))}function d(h,x){f()&&n?.(h,x)}function m(h,x){var g;c(),!s.current&&(s.current=!0,u.current=br(xr(window,"pointerup",p,l),xr(window,"pointercancel",d,l)),(g=i.animationState)===null||g===void 0||g.setActive(pe.Tap,!0),r?.(h,x))}En(i,"pointerdown",a?m:void 0,l),Rs(c)}var bi=P(R(),1);var Ax=new Set;function Lx(e,t,r){e||Ax.has(t)||Ax.add(t)}var vf=new WeakMap,gf=new WeakMap,ZI=function(e){var t;(t=vf.get(e.target))===null||t===void 0||t(e)},JI=function(e){e.forEach(ZI)};function eM(e){var t=e.root,r=Se(e,["root"]),n=t||document;gf.has(n)||gf.set(n,{});var o=gf.get(n),i=JSON.stringify(r);return o[i]||(o[i]=new IntersectionObserver(JI,D({root:t},r))),o[i]}function Rx(e,t,r){var n=eM(t);return vf.set(e,r),n.observe(e),function(){vf.delete(e),n.unobserve(e)}}function Nx(e){var t=e.visualElement,r=e.whileInView,n=e.onViewportEnter,o=e.onViewportLeave,i=e.viewport,a=i===void 0?{}:i,s=(0,bi.useRef)({hasEnteredView:!1,isInView:!1}),u=!!(r||n||o);a.once&&s.current.hasEnteredView&&(u=!1);var l=typeof IntersectionObserver>"u"?nM:rM;l(u,s.current,t,a)}var tM={some:0,all:1};function rM(e,t,r,n){var o=n.root,i=n.margin,a=n.amount,s=a===void 0?"some":a,u=n.once;(0,bi.useEffect)(function(){if(e){var l={root:o?.current,rootMargin:i,threshold:typeof s=="number"?s:tM[s]},c=function(f){var p,d=f.isIntersecting;if(t.isInView!==d&&(t.isInView=d,!(u&&!d&&t.hasEnteredView))){d&&(t.hasEnteredView=!0),(p=r.animationState)===null||p===void 0||p.setActive(pe.InView,d);var m=r.getProps(),h=d?m.onViewportEnter:m.onViewportLeave;h?.(f)}};return Rx(r.getInstance(),l,c)}},[e,o,i,s])}function nM(e,t,r,n){var o=n.fallback,i=o===void 0?!0:o;(0,bi.useEffect)(function(){!e||!i||(is!=="production"&&Lx(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(function(){var a;t.hasEnteredView=!0;var s=r.getProps().onViewportEnter;s?.(null),(a=r.animationState)===null||a===void 0||a.setActive(pe.InView,!0)}))},[e])}var Ht=function(e){return function(t){return e(t),null}};var Fx={inView:Ht(Nx),tap:Ht(Px),focus:Ht(Zv),hover:Ht(sx)};var Ci=P(R(),1);var Ys=P(R(),1);var oM=0,iM=function(){return oM++},Vx=function(){return jr(iM)};function Xs(){var e=(0,Ys.useContext)(Ur);if(e===null)return[!0,null];var t=e.isPresent,r=e.onExitComplete,n=e.register,o=Vx();(0,Ys.useEffect)(function(){return n(o)},[]);var i=function(){return r?.(o)};return!t&&r?[!1,i]:[!0]}function xf(e,t){if(!Array.isArray(t))return!1;var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}var lo=function(e){return e*1e3};var Bx={linear:Tn,easeIn:ci,easeInOut:fi,easeOut:Jc,circIn:zs,circInOut:ef,circOut:so,backIn:pi,backInOut:rf,backOut:tf,anticipate:nf,bounceIn:of,bounceInOut:af,bounceOut:ao},yf=function(e){if(Array.isArray(e)){Ve(e.length===4,"Cubic bezier arrays must contain four numerical values.");var t=le(e,4),r=t[0],n=t[1],o=t[2],i=t[3];return mf(r,n,o,i)}else if(typeof e=="string")return Ve(Bx[e]!==void 0,"Invalid easing type '".concat(e,"'")),Bx[e];return e},Hx=function(e){return Array.isArray(e)&&typeof e[0]!="number"};var bf=function(e,t){return e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&ze.test(t)&&!t.startsWith("url("))};var In=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},$s=function(e){return{type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}},Sf=function(){return{type:"keyframes",ease:"linear",duration:.3}},aM=function(e){return{type:"keyframes",duration:.8,values:e}},zx={x:In,y:In,z:In,rotate:In,rotateX:In,rotateY:In,rotateZ:In,scaleX:$s,scaleY:$s,scale:$s,opacity:Sf,backgroundColor:Sf,color:Sf,default:$s},Ux=function(e,t){var r;return vr(t)?r=aM:r=zx[e]||zx.default,D({to:t},r(t))};var sM=D(D({},Es),{color:Te,backgroundColor:Te,outlineColor:Te,fill:Te,stroke:Te,borderColor:Te,borderTopColor:Te,borderRightColor:Te,borderBottomColor:Te,borderLeftColor:Te,filter:Jn,WebkitFilter:Jn}),co=function(e){return sM[e]};function Si(e,t){var r,n=co(e);return n!==Jn&&(n=ze),(r=n.getAnimatableNone)===null||r===void 0?void 0:r.call(n,t)}var jx={current:!1};function uM(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=Se(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}var Gx=!1;function lM(e){var t=e.ease,r=e.times,n=e.yoyo,o=e.flip,i=e.loop,a=Se(e,["ease","times","yoyo","flip","loop"]),s=D({},a);return r&&(s.offset=r),a.duration&&(s.duration=lo(a.duration)),a.repeatDelay&&(s.repeatDelay=lo(a.repeatDelay)),t&&(s.ease=Hx(t)?t.map(yf):yf(t)),a.type==="tween"&&(s.type="keyframes"),(n||i||o)&&(vn(!Gx,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),Gx=!0,n?s.repeatType="reverse":i?s.repeatType="loop":o&&(s.repeatType="mirror"),s.repeat=i||n||o||a.repeat),a.type!=="spring"&&(s.type="keyframes"),s}function cM(e,t){var r,n,o=Qs(e,t)||{};return(n=(r=o.delay)!==null&&r!==void 0?r:e.delay)!==null&&n!==void 0?n:0}function fM(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=He([],le(e.to),!1),e.to[0]=e.from),e}function pM(e,t,r){var n;return Array.isArray(t.to)&&((n=e.duration)!==null&&n!==void 0||(e.duration=.8)),fM(t),uM(e)||(e=D(D({},e),Ux(r,t.to))),D(D({},t),lM(e))}function dM(e,t,r,n,o){var i,a=Qs(n,e),s=(i=a.from)!==null&&i!==void 0?i:t.get(),u=bf(e,r);s==="none"&&u&&typeof r=="string"?s=Si(e,r):Wx(s)&&typeof r=="string"?s=qx(r):!Array.isArray(r)&&Wx(r)&&typeof s=="string"&&(r=qx(s));var l=bf(e,s);vn(l===u,"You are trying to animate ".concat(e,' from "').concat(s,'" to "').concat(r,'". ').concat(s," is not an animatable value - to enable this animation set ").concat(s," to a value animatable to ").concat(r," via the `style` property."));function c(){var p={from:s,to:r,velocity:t.getVelocity(),onComplete:o,onUpdate:function(d){return t.set(d)}};return a.type==="inertia"||a.type==="decay"?pf(D(D({},p),a)):gi(D(D({},pM(a,p,e)),{onUpdate:function(d){var m;p.onUpdate(d),(m=a.onUpdate)===null||m===void 0||m.call(a,d)},onComplete:function(){var d;p.onComplete(),(d=a.onComplete)===null||d===void 0||d.call(a)}}))}function f(){var p,d,m=ks(r);return t.set(m),o(),(p=a?.onUpdate)===null||p===void 0||p.call(a,m),(d=a?.onComplete)===null||d===void 0||d.call(a),{stop:function(){}}}return!l||!u||a.type===!1?f:c}function Wx(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function qx(e){return typeof e=="number"?0:Si("",e)}function Qs(e,t){return e[t]||e.default||e}function fo(e,t,r,n){return n===void 0&&(n={}),jx.current&&(n={type:!1}),t.start(function(o){var i,a,s=dM(e,t,r,n,o),u=cM(n,e),l=function(){return a=s()};return u?i=window.setTimeout(l,lo(u)):l(),function(){clearTimeout(i),a?.stop()}})}var Kx=function(e){return/^\-?\d*\.?\d+$/.test(e)};var Yx=function(e){return/^0[^.\s]+$/.test(e)};function po(e,t){e.indexOf(t)===-1&&e.push(t)}function mo(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)}var Yr=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(t){var r=this;return po(this.subscriptions,t),function(){return mo(r.subscriptions,t)}},e.prototype.notify=function(t,r,n){var o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,r,n);else for(var i=0;i<o;i++){var a=this.subscriptions[i];a&&a(t,r,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}();var mM=function(e){return!isNaN(parseFloat(e))},hM=function(){function e(t){var r=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Yr,this.velocityUpdateSubscribers=new Yr,this.renderSubscribers=new Yr,this.canTrackVelocity=!1,this.updateAndNotify=function(n,o){o===void 0&&(o=!0),r.prev=r.current,r.current=n;var i=wn(),a=i.delta,s=i.timestamp;r.lastUpdated!==s&&(r.timeDelta=a,r.lastUpdated=s,Ze.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.updateSubscribers.notify(r.current),r.velocityUpdateSubscribers.getSize()&&r.velocityUpdateSubscribers.notify(r.getVelocity()),o&&r.renderSubscribers.notify(r.current)},this.scheduleVelocityCheck=function(){return Ze.postRender(r.velocityCheck)},this.velocityCheck=function(n){var o=n.timestamp;o!==r.lastUpdated&&(r.prev=r.current,r.velocityUpdateSubscribers.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=mM(this.current)}return e.prototype.onChange=function(t){return this.updateSubscribers.add(t)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(t){return t(this.get()),this.renderSubscribers.add(t)},e.prototype.attach=function(t){this.passiveEffect=t},e.prototype.set=function(t,r){r===void 0&&(r=!0),!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?vi(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(t){var r=this;return this.stop(),new Promise(function(n){r.hasAnimated=!0,r.stopAnimation=t(n)}).then(function(){return r.clearAnimation()})},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function er(e){return new hM(e)}var Zs=function(e){return function(t){return t.test(e)}};var Xx={test:function(e){return e==="auto"},parse:function(e){return e}};var Cf=[dt,Y,Qe,Bt,Vc,Fc,Xx],ho=function(e){return Cf.find(Zs(e))};var gM=He(He([],le(Cf),!1),[Te,ze],!1),$x=function(e){return gM.find(Zs(e))};function vM(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,er(r))}function Qx(e,t){var r=bn(e,t),n=r?e.makeTargetAnimatable(r,!1):{},o=n.transitionEnd,i=o===void 0?{}:o;n.transition;var a=Se(n,["transitionEnd","transition"]);a=D(D({},a),i);for(var s in a){var u=ks(a[s]);vM(e,s,u)}}function Zx(e,t,r){var n,o,i,a,s=Object.keys(t).filter(function(d){return!e.hasValue(d)}),u=s.length;if(u)for(var l=0;l<u;l++){var c=s[l],f=t[c],p=null;Array.isArray(f)&&(p=f[0]),p===null&&(p=(o=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&o!==void 0?o:t[c]),p!=null&&(typeof p=="string"&&(Kx(p)||Yx(p))?p=parseFloat(p):!$x(p)&&ze.test(f)&&(p=Si(c,f)),e.addValue(c,er(p)),(i=(a=r)[c])!==null&&i!==void 0||(a[c]=p),e.setBaseTarget(c,p))}}function xM(e,t){if(t){var r=t[e]||t.default||t;return r.from}}function Jx(e,t,r){var n,o,i={};for(var a in e)i[a]=(n=xM(a,t))!==null&&n!==void 0?n:(o=r.getValue(a))===null||o===void 0?void 0:o.get();return i}function ey(e,t,r){r===void 0&&(r={}),e.notifyAnimationStart(t);var n;if(Array.isArray(t)){var o=t.map(function(a){return Ef(e,a,r)});n=Promise.all(o)}else if(typeof t=="string")n=Ef(e,t,r);else{var i=typeof t=="function"?bn(e,t,r.custom):t;n=ty(e,i,r)}return n.then(function(){return e.notifyAnimationComplete(t)})}function Ef(e,t,r){var n;r===void 0&&(r={});var o=bn(e,t,r.custom),i=(o||{}).transition,a=i===void 0?e.getDefaultTransition()||{}:i;r.transitionOverride&&(a=r.transitionOverride);var s=o?function(){return ty(e,o,r)}:function(){return Promise.resolve()},u=!((n=e.variantChildren)===null||n===void 0)&&n.size?function(d){d===void 0&&(d=0);var m=a.delayChildren,h=m===void 0?0:m,x=a.staggerChildren,g=a.staggerDirection;return yM(e,t,h+d,x,g,r)}:function(){return Promise.resolve()},l=a.when;if(l){var c=le(l==="beforeChildren"?[s,u]:[u,s],2),f=c[0],p=c[1];return f().then(p)}else return Promise.all([s(),u(r.delay)])}function ty(e,t,r){var n,o=r===void 0?{}:r,i=o.delay,a=i===void 0?0:i,s=o.transitionOverride,u=o.type,l=e.makeTargetAnimatable(t),c=l.transition,f=c===void 0?e.getDefaultTransition():c,p=l.transitionEnd,d=Se(l,["transition","transitionEnd"]);s&&(f=s);var m=[],h=u&&((n=e.animationState)===null||n===void 0?void 0:n.getState()[u]);for(var x in d){var g=e.getValue(x),b=d[x];if(!(!g||b===void 0||h&&SM(h,x))){var S=D({delay:a},f);e.shouldReduceMotion&&Qt(x)&&(S=D(D({},S),{type:!1,delay:0}));var T=fo(x,g,b,S);m.push(T)}}return Promise.all(m).then(function(){p&&Qx(e,p)})}function yM(e,t,r,n,o,i){r===void 0&&(r=0),n===void 0&&(n=0),o===void 0&&(o=1);var a=[],s=(e.variantChildren.size-1)*n,u=o===1?function(l){return l===void 0&&(l=0),l*n}:function(l){return l===void 0&&(l=0),s-l*n};return Array.from(e.variantChildren).sort(bM).forEach(function(l,c){a.push(Ef(l,t,D(D({},i),{delay:r+u(c)})).then(function(){return l.notifyAnimationComplete(t)}))}),Promise.all(a)}function bM(e,t){return e.sortNodePosition(t)}function SM(e,t){var r=e.protectedKeys,n=e.needsAnimating,o=r.hasOwnProperty(t)&&n[t]!==!0;return n[t]=!1,o}var Js=[pe.Animate,pe.InView,pe.Focus,pe.Hover,pe.Tap,pe.Drag,pe.Exit],CM=He([],le(Js),!1).reverse(),EM=Js.length;function TM(e){return function(t){return Promise.all(t.map(function(r){var n=r.animation,o=r.options;return ey(e,n,o)}))}}function ry(e){var t=TM(e),r=IM(),n={},o=!0,i=function(c,f){var p=bn(e,f);if(p){p.transition;var d=p.transitionEnd,m=Se(p,["transition","transitionEnd"]);c=D(D(D({},c),m),d)}return c};function a(c){return n[c]!==void 0}function s(c){t=c(e)}function u(c,f){for(var p,d=e.getProps(),m=e.getVariantContext(!0)||{},h=[],x=new Set,g={},b=1/0,S=function(E){var M=CM[E],I=r[M],k=(p=d[M])!==null&&p!==void 0?p:m[M],F=ut(k),H=M===f?I.isActive:null;H===!1&&(b=E);var A=k===m[M]&&k!==d[M]&&F;if(A&&o&&e.manuallyAnimateOnMount&&(A=!1),I.protectedKeys=D({},g),!I.isActive&&H===null||!k&&!I.prevProp||oo(k)||typeof k=="boolean")return"continue";var N=wM(I.prevProp,k),L=N||M===f&&I.isActive&&!A&&F||E>b&&F,W=Array.isArray(k)?k:[k],$=W.reduce(i,{});H===!1&&($={});var me=I.prevResolvedValues,xe=me===void 0?{}:me,C=D(D({},xe),$),ee=function(G){L=!0,x.delete(G),I.needsAnimating[G]=!0};for(var ae in C){var y=$[ae],V=xe[ae];g.hasOwnProperty(ae)||(y!==V?vr(y)&&vr(V)?!xf(y,V)||N?ee(ae):I.protectedKeys[ae]=!0:y!==void 0?ee(ae):x.add(ae):y!==void 0&&x.has(ae)?ee(ae):I.protectedKeys[ae]=!0)}I.prevProp=k,I.prevResolvedValues=$,I.isActive&&(g=D(D({},g),$)),o&&e.blockInitialAnimation&&(L=!1),L&&!A&&h.push.apply(h,He([],le(W.map(function(G){return{animation:G,options:D({type:M},c)}})),!1))},T=0;T<EM;T++)S(T);if(n=D({},g),x.size){var w={};x.forEach(function(E){var M=e.getBaseTarget(E);M!==void 0&&(w[E]=M)}),h.push({animation:w})}var v=!!h.length;return o&&d.initial===!1&&!e.manuallyAnimateOnMount&&(v=!1),o=!1,v?t(h):Promise.resolve()}function l(c,f,p){var d;if(r[c].isActive===f)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(function(x){var g;return(g=x.animationState)===null||g===void 0?void 0:g.setActive(c,f)}),r[c].isActive=f;var m=u(p,c);for(var h in r)r[h].protectedKeys={};return m}return{isAnimated:a,animateChanges:u,setActive:l,setAnimateFunction:s,getState:function(){return r}}}function wM(e,t){return typeof t=="string"?t!==e:Lc(t)?!xf(t,e):!1}function Mn(e){return e===void 0&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IM(){var e;return e={},e[pe.Animate]=Mn(!0),e[pe.InView]=Mn(),e[pe.Hover]=Mn(),e[pe.Tap]=Mn(),e[pe.Drag]=Mn(),e[pe.Focus]=Mn(),e[pe.Exit]=Mn(),e}var ny={animation:Ht(function(e){var t=e.visualElement,r=e.animate;t.animationState||(t.animationState=ry(t)),oo(r)&&(0,Ci.useEffect)(function(){return r.subscribe(t)},[r])}),exit:Ht(function(e){var t=e.custom,r=e.visualElement,n=le(Xs(),2),o=n[0],i=n[1],a=(0,Ci.useContext)(Ur);(0,Ci.useEffect)(function(){var s,u;r.isPresent=o;var l=(s=r.animationState)===null||s===void 0?void 0:s.setActive(pe.Exit,!o,{custom:(u=a?.custom)!==null&&u!==void 0?u:t});!o&&l?.then(i)},[o])})};var Df=P(R(),1);var eu=function(){function e(t,r,n){var o=this,i=n===void 0?{}:n,a=i.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(o.lastMoveEvent&&o.lastMoveEventInfo){var p=wf(o.lastMoveEventInfo,o.history),d=o.startEvent!==null,m=yi(p.offset,{x:0,y:0})>=3;if(!(!d&&!m)){var h=p.point,x=wn().timestamp;o.history.push(D(D({},h),{timestamp:x}));var g=o.handlers,b=g.onStart,S=g.onMove;d||(b&&b(o.lastMoveEvent,p),o.startEvent=o.lastMoveEvent),S&&S(o.lastMoveEvent,p)}}},this.handlePointerMove=function(p,d){if(o.lastMoveEvent=p,o.lastMoveEventInfo=Tf(d,o.transformPagePoint),Ps(p)&&p.buttons===0){o.handlePointerUp(p,d);return}Ze.update(o.updatePoint,!0)},this.handlePointerUp=function(p,d){o.end();var m=o.handlers,h=m.onEnd,x=m.onSessionEnd,g=wf(Tf(d,o.transformPagePoint),o.history);o.startEvent&&h&&h(p,g),x&&x(p,g)},!(As(t)&&t.touches.length>1)){this.handlers=r,this.transformPagePoint=a;var s=si(t),u=Tf(s,this.transformPagePoint),l=u.point,c=wn().timestamp;this.history=[D(D({},l),{timestamp:c})];var f=r.onSessionStart;f&&f(t,wf(u,this.history)),this.removeListeners=br(xr(window,"pointermove",this.handlePointerMove),xr(window,"pointerup",this.handlePointerUp),xr(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(t){this.handlers=t},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),Jt.update(this.updatePoint)},e}();function Tf(e,t){return t?{point:t(e.point)}:e}function oy(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wf(e,t){var r=e.point;return{point:r,delta:oy(r,iy(t)),offset:oy(r,MM(t)),velocity:_M(t,.1)}}function MM(e){return e[0]}function iy(e){return e[e.length-1]}function _M(e,t){if(e.length<2)return{x:0,y:0};for(var r=e.length-1,n=null,o=iy(e);r>=0&&(n=e[r],!(o.timestamp-n.timestamp>lo(t)));)r--;if(!n)return{x:0,y:0};var i=(o.timestamp-n.timestamp)/1e3;if(i===0)return{x:0,y:0};var a={x:(o.x-n.x)/i,y:(o.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Ct(e){return e.max-e.min}function ay(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=.01),yi(e,t)<r}function sy(e,t,r,n){n===void 0&&(n=.5),e.origin=n,e.originPoint=ce(t.min,t.max,e.origin),e.scale=Ct(r)/Ct(t),(ay(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ce(r.min,r.max,e.origin)-e.originPoint,(ay(e.translate)||isNaN(e.translate))&&(e.translate=0)}function go(e,t,r,n){sy(e.x,t.x,r.x,n?.originX),sy(e.y,t.y,r.y,n?.originY)}function uy(e,t,r){e.min=r.min+t.min,e.max=e.min+Ct(t)}function cy(e,t,r){uy(e.x,t.x,r.x),uy(e.y,t.y,r.y)}function ly(e,t,r){e.min=t.min-r.min,e.max=e.min+Ct(t)}function vo(e,t,r){ly(e.x,t.x,r.x),ly(e.y,t.y,r.y)}function hy(e,t,r){var n=t.min,o=t.max;return n!==void 0&&e<n?e=r?ce(n,e,r.min):Math.max(e,n):o!==void 0&&e>o&&(e=r?ce(o,e,r.max):Math.min(e,o)),e}function fy(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function gy(e,t){var r=t.top,n=t.left,o=t.bottom,i=t.right;return{x:fy(e.x,n,i),y:fy(e.y,r,o)}}function py(e,t){var r,n=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=le([o,n],2),n=r[0],o=r[1]),{min:n,max:o}}function vy(e,t){return{x:py(e.x,t.x),y:py(e.y,t.y)}}function xy(e,t){var r=.5,n=Ct(e),o=Ct(t);return o>n?r=yr(t.min,t.max-n,e.min):n>o&&(r=yr(e.min,e.max-o,t.min)),Kr(0,1,r)}function yy(e,t){var r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}var tu=.35;function by(e){return e===void 0&&(e=tu),e===!1?e=0:e===!0&&(e=tu),{x:dy(e,"left","right"),y:dy(e,"top","bottom")}}function dy(e,t,r){return{min:my(e,t),max:my(e,r)}}function my(e,t){var r;return typeof e=="number"?e:(r=e[t])!==null&&r!==void 0?r:0}var Sy=function(){return{translate:0,scale:1,origin:0,originPoint:0}},xo=function(){return{x:Sy(),y:Sy()}},Cy=function(){return{min:0,max:0}},Be=function(){return{x:Cy(),y:Cy()}};function Et(e){return[e("x"),e("y")]}function ru(e){var t=e.top,r=e.left,n=e.right,o=e.bottom;return{x:{min:r,max:n},y:{min:t,max:o}}}function Ey(e){var t=e.x,r=e.y;return{top:r.min,right:t.max,bottom:r.max,left:t.min}}function Ty(e,t){if(!t)return e;var r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function If(e){return e===void 0||e===1}function Mf(e){var t=e.scale,r=e.scaleX,n=e.scaleY;return!If(t)||!If(r)||!If(n)}function tr(e){return Mf(e)||wy(e.x)||wy(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function wy(e){return e&&e!=="0%"}function Ei(e,t,r){var n=e-r,o=t*n;return r+o}function Iy(e,t,r,n,o){return o!==void 0&&(e=Ei(e,o,n)),Ei(e,r,n)+t}function _f(e,t,r,n,o){t===void 0&&(t=0),r===void 0&&(r=1),e.min=Iy(e.min,t,r,n,o),e.max=Iy(e.max,t,r,n,o)}function Of(e,t){var r=t.x,n=t.y;_f(e.x,r.translate,r.scale,r.originPoint),_f(e.y,n.translate,n.scale,n.originPoint)}function _y(e,t,r,n){var o,i;n===void 0&&(n=!1);var a=r.length;if(a){t.x=t.y=1;for(var s,u,l=0;l<a;l++)s=r[l],u=s.projectionDelta,((i=(o=s.instance)===null||o===void 0?void 0:o.style)===null||i===void 0?void 0:i.display)!=="contents"&&(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&_n(e,{x:-s.scroll.x,y:-s.scroll.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,Of(e,u)),n&&tr(s.latestValues)&&_n(e,s.latestValues))}}function rr(e,t){e.min=e.min+t,e.max=e.max+t}function My(e,t,r){var n=le(r,3),o=n[0],i=n[1],a=n[2],s=t[a]!==void 0?t[a]:.5,u=ce(e.min,e.max,s);_f(e,t[o],t[i],u,t.scale)}var OM=["x","scaleX","originX"],kM=["y","scaleY","originY"];function _n(e,t){My(e.x,t,OM),My(e.y,t,kM)}function kf(e,t){return ru(Ty(e.getBoundingClientRect(),t))}function Oy(e,t,r){var n=kf(e,r),o=t.scroll;return o&&(rr(n.x,o.x),rr(n.y,o.y)),n}var DM=new WeakMap,ky=function(){function e(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Be(),this.visualElement=t}return e.prototype.start=function(t,r){var n=this,o=r===void 0?{}:r,i=o.snapToCursor,a=i===void 0?!1:i;if(this.visualElement.isPresent!==!1){var s=function(f){n.stopAnimation(),a&&n.snapToCursor(si(f,"page").point)},u=function(f,p){var d,m=n.getProps(),h=m.drag,x=m.dragPropagation,g=m.onDragStart;h&&!x&&(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=Wc(h),!n.openGlobalLock)||(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),Et(function(b){var S,T,w=n.getAxisMotionValue(b).get()||0;if(Qe.test(w)){var v=(T=(S=n.visualElement.projection)===null||S===void 0?void 0:S.layout)===null||T===void 0?void 0:T.actual[b];if(v){var E=Ct(v);w=E*(parseFloat(w)/100)}}n.originPoint[b]=w}),g?.(f,p),(d=n.visualElement.animationState)===null||d===void 0||d.setActive(pe.Drag,!0))},l=function(f,p){var d=n.getProps(),m=d.dragPropagation,h=d.dragDirectionLock,x=d.onDirectionLock,g=d.onDrag;if(!(!m&&!n.openGlobalLock)){var b=p.offset;if(h&&n.currentDirection===null){n.currentDirection=PM(b),n.currentDirection!==null&&x?.(n.currentDirection);return}n.updateAxis("x",p.point,b),n.updateAxis("y",p.point,b),n.visualElement.syncRender(),g?.(f,p)}},c=function(f,p){return n.stop(f,p)};this.panSession=new eu(t,{onSessionStart:s,onStart:u,onMove:l,onSessionEnd:c},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},e.prototype.stop=function(t,r){var n=this.isDragging;if(this.cancel(),!!n){var o=r.velocity;this.startAnimation(o);var i=this.getProps().onDragEnd;i?.(t,r)}},e.prototype.cancel=function(){var t,r;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(t=this.panSession)===null||t===void 0||t.end(),this.panSession=void 0;var n=this.getProps().dragPropagation;!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(r=this.visualElement.animationState)===null||r===void 0||r.setActive(pe.Drag,!1)},e.prototype.updateAxis=function(t,r,n){var o=this.getProps().drag;if(!(!n||!nu(t,o,this.currentDirection))){var i=this.getAxisMotionValue(t),a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=hy(a,this.constraints[t],this.elastic[t])),i.set(a)}},e.prototype.resolveConstraints=function(){var t=this,r=this.getProps(),n=r.dragConstraints,o=r.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&mr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=gy(i.actual,n):this.constraints=!1,this.elastic=by(o),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Et(function(s){t.getAxisMotionValue(s)&&(t.constraints[s]=yy(i.actual[s],t.constraints[s]))})},e.prototype.resolveRefConstraints=function(){var t=this.getProps(),r=t.dragConstraints,n=t.onMeasureDragConstraints;if(!r||!mr(r))return!1;var o=r.current;Ve(o!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=Oy(o,i.root,this.visualElement.getTransformPagePoint()),s=vy(i.layout.actual,a);if(n){var u=n(Ey(s));this.hasMutatedConstraints=!!u,u&&(s=ru(u))}return s},e.prototype.startAnimation=function(t){var r=this,n=this.getProps(),o=n.drag,i=n.dragMomentum,a=n.dragElastic,s=n.dragTransition,u=n.dragSnapToOrigin,l=n.onDragTransitionEnd,c=this.constraints||{},f=Et(function(p){var d;if(nu(p,o,r.currentDirection)){var m=(d=c?.[p])!==null&&d!==void 0?d:{};u&&(m={min:0,max:0});var h=a?200:1e6,x=a?40:1e7,g=D(D({type:"inertia",velocity:i?t[p]:0,bounceStiffness:h,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10},s),m);return r.startAxisValueAnimation(p,g)}});return Promise.all(f).then(l)},e.prototype.startAxisValueAnimation=function(t,r){var n=this.getAxisMotionValue(t);return fo(t,n,0,r)},e.prototype.stopAnimation=function(){var t=this;Et(function(r){return t.getAxisMotionValue(r).stop()})},e.prototype.getAxisMotionValue=function(t){var r,n,o="_drag"+t.toUpperCase(),i=this.visualElement.getProps()[o];return i||this.visualElement.getValue(t,(n=(r=this.visualElement.getProps().initial)===null||r===void 0?void 0:r[t])!==null&&n!==void 0?n:0)},e.prototype.snapToCursor=function(t){var r=this;Et(function(n){var o=r.getProps().drag;if(nu(n,o,r.currentDirection)){var i=r.visualElement.projection,a=r.getAxisMotionValue(n);if(i&&i.layout){var s=i.layout.actual[n],u=s.min,l=s.max;a.set(t[n]-ce(u,l,.5))}}})},e.prototype.scalePositionWithinConstraints=function(){var t=this,r,n=this.getProps(),o=n.drag,i=n.dragConstraints,a=this.visualElement.projection;if(!(!mr(i)||!a||!this.constraints)){this.stopAnimation();var s={x:0,y:0};Et(function(l){var c=t.getAxisMotionValue(l);if(c){var f=c.get();s[l]=xy({min:f,max:f},t.constraints[l])}});var u=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=u?u({},""):"none",(r=a.root)===null||r===void 0||r.updateScroll(),a.updateLayout(),this.resolveConstraints(),Et(function(l){if(nu(l,o,null)){var c=t.getAxisMotionValue(l),f=t.constraints[l],p=f.min,d=f.max;c.set(ce(p,d,s[l]))}})}},e.prototype.addListeners=function(){var t=this,r;DM.set(this.visualElement,this);var n=this.visualElement.getInstance(),o=xr(n,"pointerdown",function(l){var c=t.getProps(),f=c.drag,p=c.dragListener,d=p===void 0?!0:p;f&&d&&t.start(l)}),i=function(){var l=t.getProps().dragConstraints;mr(l)&&(t.constraints=t.resolveRefConstraints())},a=this.visualElement.projection,s=a.addEventListener("measure",i);a&&!a.layout&&((r=a.root)===null||r===void 0||r.updateScroll(),a.updateLayout()),i();var u=Cn(window,"resize",function(){return t.scalePositionWithinConstraints()});return a.addEventListener("didUpdate",function(l){var c=l.delta,f=l.hasLayoutChanged;t.isDragging&&f&&(Et(function(p){var d=t.getAxisMotionValue(p);d&&(t.originPoint[p]+=c[p].translate,d.set(d.get()+c[p].translate))}),t.visualElement.syncRender())}),function(){u(),o(),s()}},e.prototype.getProps=function(){var t=this.visualElement.getProps(),r=t.drag,n=r===void 0?!1:r,o=t.dragDirectionLock,i=o===void 0?!1:o,a=t.dragPropagation,s=a===void 0?!1:a,u=t.dragConstraints,l=u===void 0?!1:u,c=t.dragElastic,f=c===void 0?tu:c,p=t.dragMomentum,d=p===void 0?!0:p;return D(D({},t),{drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:l,dragElastic:f,dragMomentum:d})},e}();function nu(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function PM(e,t){t===void 0&&(t=10);var r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}function Dy(e){var t=e.dragControls,r=e.visualElement,n=jr(function(){return new ky(r)});(0,Df.useEffect)(function(){return t&&t.subscribe(n)},[n,t]),(0,Df.useEffect)(function(){return n.addListeners()},[n])}var yo=P(R(),1);function Py(e){var t=e.onPan,r=e.onPanStart,n=e.onPanEnd,o=e.onPanSessionStart,i=e.visualElement,a=t||r||n||o,s=(0,yo.useRef)(null),u=(0,yo.useContext)(qn).transformPagePoint,l={onSessionStart:o,onStart:r,onMove:t,onEnd:function(f,p){s.current=null,n&&n(f,p)}};(0,yo.useEffect)(function(){s.current!==null&&s.current.updateHandlers(l)});function c(f){s.current=new eu(f,l,{transformPagePoint:u})}En(i,"pointerdown",a&&c),Rs(function(){return s.current&&s.current.end()})}var Ay={pan:Ht(Py),drag:Ht(Dy)};var ou=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function Ly(){var e=ou.map(function(){return new Yr}),t={},r={clearAllListeners:function(){return e.forEach(function(n){return n.clear()})},updatePropListeners:function(n){ou.forEach(function(o){var i,a="on"+o,s=n[a];(i=t[o])===null||i===void 0||i.call(t),s&&(t[o]=r[a](s))})}};return e.forEach(function(n,o){r["on"+ou[o]]=function(i){return n.add(i)},r["notify"+ou[o]]=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return n.notify.apply(n,He([],le(i),!1))}}),r}function Ry(e,t,r){var n;for(var o in t){var i=t[o],a=r[o];if($e(i))e.addValue(o,i);else if($e(a))e.addValue(o,er(i));else if(a!==i)if(e.hasValue(o)){var s=e.getValue(o);!s.hasAnimated&&s.set(i)}else e.addValue(o,er((n=e.getStaticValue(o))!==null&&n!==void 0?n:i))}for(var o in r)t[o]===void 0&&e.removeValue(o);return t}var iu=function(e){var t=e.treeType,r=t===void 0?"":t,n=e.build,o=e.getBaseTarget,i=e.makeTargetAnimatable,a=e.measureViewportBox,s=e.render,u=e.readValueFromInstance,l=e.removeValueFromRenderState,c=e.sortNodePosition,f=e.scrapeMotionValuesFromProps;return function(p,d){var m=p.parent,h=p.props,x=p.presenceId,g=p.blockInitialAnimation,b=p.visualState,S=p.shouldReduceMotion;d===void 0&&(d={});var T=!1,w=b.latestValues,v=b.renderState,E,M=Ly(),I=new Map,k=new Map,F={},H=D({},w),A;function N(){!E||!T||(L(),s(E,v,h.style,y.projection))}function L(){n(y,v,w,d,h)}function W(){M.notifyUpdate(w)}function $(V,G){var he=G.onChange(function(X){w[V]=X,h.onUpdate&&Ze.update(W,!1,!0)}),De=G.onRenderRequest(y.scheduleRender);k.set(V,function(){he(),De()})}var me=f(h);for(var xe in me){var C=me[xe];w[xe]!==void 0&&$e(C)&&C.set(w[xe],!1)}var ee=Sn(h),ae=cs(h),y=D(D({treeType:r,current:null,depth:m?m.depth+1:0,parent:m,children:new Set,presenceId:x,shouldReduceMotion:S,variantChildren:ae?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:!!m?.isMounted(),blockInitialAnimation:g,isMounted:function(){return!!E},mount:function(V){T=!0,E=y.current=V,y.projection&&y.projection.mount(V),ae&&m&&!ee&&(A=m?.addVariantChild(y)),I.forEach(function(G,he){return $(he,G)}),m?.children.add(y),y.setProps(h)},unmount:function(){var V;(V=y.projection)===null||V===void 0||V.unmount(),Jt.update(W),Jt.render(N),k.forEach(function(G){return G()}),A?.(),m?.children.delete(y),M.clearAllListeners(),E=void 0,T=!1},addVariantChild:function(V){var G,he=y.getClosestVariantNode();if(he)return(G=he.variantChildren)===null||G===void 0||G.add(V),function(){return he.variantChildren.delete(V)}},sortNodePosition:function(V){return!c||r!==V.treeType?0:c(y.getInstance(),V.getInstance())},getClosestVariantNode:function(){return ae?y:m?.getClosestVariantNode()},getLayoutId:function(){return h.layoutId},getInstance:function(){return E},getStaticValue:function(V){return w[V]},setStaticValue:function(V,G){return w[V]=G},getLatestValues:function(){return w},setVisibility:function(V){y.isVisible!==V&&(y.isVisible=V,y.scheduleRender())},makeTargetAnimatable:function(V,G){return G===void 0&&(G=!0),i(y,V,h,G)},measureViewportBox:function(){return a(E,h)},addValue:function(V,G){y.hasValue(V)&&y.removeValue(V),I.set(V,G),w[V]=G.get(),$(V,G)},removeValue:function(V){var G;I.delete(V),(G=k.get(V))===null||G===void 0||G(),k.delete(V),delete w[V],l(V,v)},hasValue:function(V){return I.has(V)},getValue:function(V,G){var he=I.get(V);return he===void 0&&G!==void 0&&(he=er(G),y.addValue(V,he)),he},forEachValue:function(V){return I.forEach(V)},readValue:function(V){var G;return(G=w[V])!==null&&G!==void 0?G:u(E,V,d)},setBaseTarget:function(V,G){H[V]=G},getBaseTarget:function(V){if(o){var G=o(h,V);if(G!==void 0&&!$e(G))return G}return H[V]}},M),{build:function(){return L(),v},scheduleRender:function(){Ze.render(N,!1,!0)},syncRender:N,setProps:function(V){(V.transformTemplate||h.transformTemplate)&&y.scheduleRender(),h=V,M.updatePropListeners(V),F=Ry(y,f(h),F)},getProps:function(){return h},getVariant:function(V){var G;return(G=h.variants)===null||G===void 0?void 0:G[V]},getDefaultTransition:function(){return h.transition},getTransformPagePoint:function(){return h.transformPagePoint},getVariantContext:function(V){if(V===void 0&&(V=!1),V)return m?.getVariantContext();if(!ee){var G=m?.getVariantContext()||{};return h.initial!==void 0&&(G.initial=h.initial),G}for(var he={},De=0;De<AM;De++){var X=Ny[De],ue=h[X];(ut(ue)||ue===!1)&&(he[X]=ue)}return he}});return y}},Ny=He(["initial"],le(Js),!1),AM=Ny.length;function Pf(e){return typeof e=="string"&&e.startsWith("var(--")}var Lf=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function LM(e){var t=Lf.exec(e);if(!t)return[,];var r=le(t,3),n=r[1],o=r[2];return[n,o]}var RM=4;function Af(e,t,r){r===void 0&&(r=1),Ve(r<=RM,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var n=le(LM(e),2),o=n[0],i=n[1];if(o){var a=window.getComputedStyle(t).getPropertyValue(o);return a?a.trim():Pf(i)?Af(i,t,r+1):i}}function Fy(e,t,r){var n,o=Se(t,[]),i=e.getInstance();if(!(i instanceof Element))return{target:o,transitionEnd:r};r&&(r=D({},r)),e.forEachValue(function(l){var c=l.get();if(Pf(c)){var f=Af(c,i);f&&l.set(f)}});for(var a in o){var s=o[a];if(Pf(s)){var u=Af(s,i);u&&(o[a]=u,r&&((n=r[a])!==null&&n!==void 0||(r[a]=s)))}}return{target:o,transitionEnd:r}}var NM=new Set(["width","height","top","left","right","bottom","x","y"]),Uy=function(e){return NM.has(e)},FM=function(e){return Object.keys(e).some(Uy)},jy=function(e,t){e.set(t,!1),e.set(t)},au=function(e){return e===dt||e===Y},Vy;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(Vy||(Vy={}));var By=function(e,t){return parseFloat(e.split(", ")[t])},Hy=function(e,t){return function(r,n){var o=n.transform;if(o==="none"||!o)return 0;var i=o.match(/^matrix3d\((.+)\)$/);if(i)return By(i[1],t);var a=o.match(/^matrix\((.+)\)$/);return a?By(a[1],e):0}},VM=new Set(["x","y","z"]),BM=Xn.filter(function(e){return!VM.has(e)});function HM(e){var t=[];return BM.forEach(function(r){var n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.syncRender(),t}var zy={width:function(e,t){var r=e.x,n=t.paddingLeft,o=n===void 0?"0":n,i=t.paddingRight,a=i===void 0?"0":i;return r.max-r.min-parseFloat(o)-parseFloat(a)},height:function(e,t){var r=e.y,n=t.paddingTop,o=n===void 0?"0":n,i=t.paddingBottom,a=i===void 0?"0":i;return r.max-r.min-parseFloat(o)-parseFloat(a)},top:function(e,t){var r=t.top;return parseFloat(r)},left:function(e,t){var r=t.left;return parseFloat(r)},bottom:function(e,t){var r=e.y,n=t.top;return parseFloat(n)+(r.max-r.min)},right:function(e,t){var r=e.x,n=t.left;return parseFloat(n)+(r.max-r.min)},x:Hy(4,13),y:Hy(5,14)},zM=function(e,t,r){var n=t.measureViewportBox(),o=t.getInstance(),i=getComputedStyle(o),a=i.display,s={};a==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(function(l){s[l]=zy[l](n,i)}),t.syncRender();var u=t.measureViewportBox();return r.forEach(function(l){var c=t.getValue(l);jy(c,s[l]),e[l]=zy[l](u,i)}),e},UM=function(e,t,r,n){r===void 0&&(r={}),n===void 0&&(n={}),t=D({},t),n=D({},n);var o=Object.keys(t).filter(Uy),i=[],a=!1,s=[];if(o.forEach(function(c){var f=e.getValue(c);if(e.hasValue(c)){var p=r[c],d=ho(p),m=t[c],h;if(vr(m)){var x=m.length,g=m[0]===null?1:0;p=m[g],d=ho(p);for(var b=g;b<x;b++)h?Ve(ho(m[b])===h,"All keyframes must be of the same type"):(h=ho(m[b]),Ve(h===d||au(d)&&au(h),"Keyframes must be of the same dimension as the current value"))}else h=ho(m);if(d!==h)if(au(d)&&au(h)){var S=f.get();typeof S=="string"&&f.set(parseFloat(S)),typeof m=="string"?t[c]=parseFloat(m):Array.isArray(m)&&h===Y&&(t[c]=m.map(parseFloat))}else d?.transform&&h?.transform&&(p===0||m===0)?p===0?f.set(h.transform(p)):t[c]=d.transform(m):(a||(i=HM(e),a=!0),s.push(c),n[c]=n[c]!==void 0?n[c]:t[c],jy(f,m))}}),s.length){var u=s.indexOf("height")>=0?window.pageYOffset:null,l=zM(t,e,s);return i.length&&i.forEach(function(c){var f=le(c,2),p=f[0],d=f[1];e.getValue(p).set(d)}),e.syncRender(),u!==null&&window.scrollTo({top:u}),{target:l,transitionEnd:n}}else return{target:t,transitionEnd:n}};function Gy(e,t,r,n){return FM(t)?UM(e,t,r,n):{target:t,transitionEnd:n}}var Wy=function(e,t,r,n){var o=Fy(e,t,n);return t=o.target,n=o.transitionEnd,Gy(e,t,r,n)};function jM(e){return window.getComputedStyle(e)}var Rf={treeType:"dom",readValueFromInstance:function(e,t){if(Qt(t)){var r=co(t);return r&&r.default||0}else{var n=jM(e);return(vs(t)?n.getPropertyValue(t):n[t])||0}},sortNodePosition:function(e,t){return e.compareDocumentPosition(t)&2?1:-1},getBaseTarget:function(e,t){var r;return(r=e.style)===null||r===void 0?void 0:r[t]},measureViewportBox:function(e,t){var r=t.transformPagePoint;return kf(e,r)},resetTransform:function(e,t,r){var n=r.transformTemplate;t.style.transform=n?n({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var r=t.vars,n=t.style;delete r[e],delete n[e]},makeTargetAnimatable:function(e,t,r,n){var o=r.transformValues;n===void 0&&(n=!0);var i=t.transition,a=t.transitionEnd,s=Se(t,["transition","transitionEnd"]),u=Jx(s,i||{},e);if(o&&(a&&(a=o(a)),s&&(s=o(s)),u&&(u=o(u))),n){Zx(e,s,u);var l=Wy(e,s,u,a);a=l.transitionEnd,s=l.target}return D({transition:i,transitionEnd:a},s)},scrapeMotionValuesFromProps:no,build:function(e,t,r,n,o){e.isVisible!==void 0&&(t.style.visibility=e.isVisible?"visible":"hidden"),eo(t,r,n,o.transformTemplate)},render:Is},qy=iu(Rf);var Ky=iu(D(D({},Rf),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var r;return Qt(t)?((r=co(t))===null||r===void 0?void 0:r.default)||0:(t=Ms.has(t)?t:ws(t),e.getAttribute(t))},scrapeMotionValuesFromProps:Os,build:function(e,t,r,n,o){ro(t,r,n,o.transformTemplate)},render:_s}));var Yy=function(e,t){return Kn(e)?Ky(t,{enableHardwareAcceleration:!1}):qy(t,{enableHardwareAcceleration:!0})};var So=P(R(),1);function Xy(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var bo={correct:function(e,t){if(!t.target)return e;if(typeof e=="string")if(Y.test(e))e=parseFloat(e);else return e;var r=Xy(e,t.target.x),n=Xy(e,t.target.y);return"".concat(r,"% ").concat(n,"%")}};var $y="_$css",Qy={correct:function(e,t){var r=t.treeScale,n=t.projectionDelta,o=e,i=e.includes("var("),a=[];i&&(e=e.replace(Lf,function(h){return a.push(h),$y}));var s=ze.parse(e);if(s.length>5)return o;var u=ze.createTransformer(e),l=typeof s[0]!="number"?1:0,c=n.x.scale*r.x,f=n.y.scale*r.y;s[0+l]/=c,s[1+l]/=f;var p=ce(c,f,.5);typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p);var d=u(s);if(i){var m=0;d=d.replace($y,function(){var h=a[m];return m++,h})}return d}};var GM=function(e){os(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.componentDidMount=function(){var r=this,n=this.props,o=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,s=n.layoutId,u=o.projection;Cv(WM),u&&(i?.group&&i.group.add(u),a?.register&&s&&a.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",function(){r.safeToRemove()}),u.setOptions(D(D({},u.options),{onExitComplete:function(){return r.safeToRemove()}}))),Gr.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(r){var n=this,o=this.props,i=o.layoutDependency,a=o.visualElement,s=o.drag,u=o.isPresent,l=a.projection;return l&&(l.isPresent=u,s||r.layoutDependency!==i||i===void 0?l.willUpdate():this.safeToRemove(),r.isPresent!==u&&(u?l.promote():l.relegate()||Ze.postRender(function(){var c;!((c=l.getStack())===null||c===void 0)&&c.members.length||n.safeToRemove()}))),null},t.prototype.componentDidUpdate=function(){var r=this.props.visualElement.projection;r&&(r.root.didUpdate(),!r.currentAnimation&&r.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var r=this.props,n=r.visualElement,o=r.layoutGroup,i=r.switchLayoutGroup,a=n.projection;a&&(a.scheduleCheckAfterUnmount(),o?.group&&o.group.remove(a),i?.deregister&&i.deregister(a))},t.prototype.safeToRemove=function(){var r=this.props.safeToRemove;r?.()},t.prototype.render=function(){return null},t}(So.default.Component);function Zy(e){var t=le(Xs(),2),r=t[0],n=t[1],o=(0,So.useContext)(ps);return So.default.createElement(GM,D({},e,{layoutGroup:o,switchLayoutGroup:(0,So.useContext)(ds),isPresent:r,safeToRemove:n}))}var WM={borderRadius:D(D({},bo),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:bo,borderTopRightRadius:bo,borderBottomLeftRadius:bo,borderBottomRightRadius:bo,boxShadow:Qy};var Jy={measureLayout:Zy};function eb(e,t,r){r===void 0&&(r={});var n=$e(e)?e:er(e);return fo("",n,t,r),{stop:function(){return n.stop()},isAnimating:function(){return n.isAnimating()}}}var ob=["TopLeft","TopRight","BottomLeft","BottomRight"],qM=ob.length,tb=function(e){return typeof e=="string"?parseFloat(e):e},rb=function(e){return typeof e=="number"||Y.test(e)};function ib(e,t,r,n,o,i){var a,s,u,l;o?(e.opacity=ce(0,(a=r.opacity)!==null&&a!==void 0?a:1,KM(n)),e.opacityExit=ce((s=t.opacity)!==null&&s!==void 0?s:1,0,YM(n))):i&&(e.opacity=ce((u=t.opacity)!==null&&u!==void 0?u:1,(l=r.opacity)!==null&&l!==void 0?l:1,n));for(var c=0;c<qM;c++){var f="border".concat(ob[c],"Radius"),p=nb(t,f),d=nb(r,f);if(!(p===void 0&&d===void 0)){p||(p=0),d||(d=0);var m=p===0||d===0||rb(p)===rb(d);m?(e[f]=Math.max(ce(tb(p),tb(d),n),0),(Qe.test(d)||Qe.test(p))&&(e[f]+="%")):e[f]=d}}(t.rotate||r.rotate)&&(e.rotate=ce(t.rotate||0,r.rotate||0,n))}function nb(e,t){var r;return(r=e[t])!==null&&r!==void 0?r:e.borderRadius}var KM=ab(0,.5,so),YM=ab(.5,.95,Tn);function ab(e,t,r){return function(n){return n<e?0:n>t?1:r(yr(e,t,n))}}function sb(e,t){e.min=t.min,e.max=t.max}function Tt(e,t){sb(e.x,t.x),sb(e.y,t.y)}function ub(e,t,r,n,o){return e-=t,e=Ei(e,1/r,n),o!==void 0&&(e=Ei(e,1/o,n)),e}function XM(e,t,r,n,o,i,a){if(t===void 0&&(t=0),r===void 0&&(r=1),n===void 0&&(n=.5),i===void 0&&(i=e),a===void 0&&(a=e),Qe.test(t)){t=parseFloat(t);var s=ce(a.min,a.max,t/100);t=s-a.min}if(typeof t=="number"){var u=ce(i.min,i.max,n);e===i&&(u-=t),e.min=ub(e.min,t,r,u,o),e.max=ub(e.max,t,r,u,o)}}function lb(e,t,r,n,o){var i=le(r,3),a=i[0],s=i[1],u=i[2];XM(e,t[a],t[s],t[u],t.scale,n,o)}var $M=["x","scaleX","originX"],QM=["y","scaleY","originY"];function Nf(e,t,r,n){lb(e.x,t,$M,r?.x,n?.x),lb(e.y,t,QM,r?.y,n?.y)}function cb(e){return e.translate===0&&e.scale===1}function Ff(e){return cb(e.x)&&cb(e.y)}function Vf(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var fb=function(){function e(){this.members=[]}return e.prototype.add=function(t){po(this.members,t),t.scheduleRender()},e.prototype.remove=function(t){if(mo(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){var r=this.members[this.members.length-1];r&&this.promote(r)}},e.prototype.relegate=function(t){var r=this.members.findIndex(function(a){return t===a});if(r===0)return!1;for(var n,o=r;o>=0;o--){var i=this.members[o];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1},e.prototype.promote=function(t,r){var n,o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,r&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues,t.snapshot.isShared=!0),!((n=t.root)===null||n===void 0)&&n.isUpdating&&(t.isLayoutDirty=!0);var i=t.options.crossfade;i===!1&&o.hide()}},e.prototype.exitAnimationComplete=function(){this.members.forEach(function(t){var r,n,o,i,a;(n=(r=t.options).onExitComplete)===null||n===void 0||n.call(r),(a=(o=t.resumingFrom)===null||o===void 0?void 0:(i=o.options).onExitComplete)===null||a===void 0||a.call(i)})},e.prototype.scheduleRender=function(){this.members.forEach(function(t){t.instance&&t.scheduleRender(!1)})},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}();var ZM="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function Bf(e,t,r){var n=e.x.translate/t.x,o=e.y.translate/t.y,i="translate3d(".concat(n,"px, ").concat(o,"px, 0) ");if(i+="scale(".concat(1/t.x,", ").concat(1/t.y,") "),r){var a=r.rotate,s=r.rotateX,u=r.rotateY;a&&(i+="rotate(".concat(a,"deg) ")),s&&(i+="rotateX(".concat(s,"deg) ")),u&&(i+="rotateY(".concat(u,"deg) "))}var l=e.x.scale*t.x,c=e.y.scale*t.y;return i+="scale(".concat(l,", ").concat(c,")"),i===ZM?"none":i}var pb=function(e,t){return e.depth-t.depth};var db=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(t){po(this.children,t),this.isDirty=!0},e.prototype.remove=function(t){mo(this.children,t),this.isDirty=!0},e.prototype.forEach=function(t){this.isDirty&&this.children.sort(pb),this.isDirty=!1,this.children.forEach(t)},e}();var mb=1e3;function su(e){var t=e.attachResizeListener,r=e.defaultParent,n=e.measureScroll,o=e.checkIsScrollRoot,i=e.resetTransform;return function(){function a(s,u,l){var c=this;u===void 0&&(u={}),l===void 0&&(l=r?.()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){c.isUpdating&&(c.isUpdating=!1,c.clearAllSnapshots())},this.updateProjection=function(){c.nodes.forEach(o_),c.nodes.forEach(i_)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=s,this.latestValues=u,this.root=l?l.root||l:this,this.path=l?He(He([],le(l.path),!1),[l],!1):[],this.parent=l,this.depth=l?l.depth+1:0,s&&this.root.registerPotentialNode(s,this);for(var f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new db)}return a.prototype.addEventListener=function(s,u){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Yr),this.eventHandlers.get(s).add(u)},a.prototype.notifyListeners=function(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];var c=this.eventHandlers.get(s);c?.notify.apply(c,He([],le(u),!1))},a.prototype.hasListeners=function(s){return this.eventHandlers.has(s)},a.prototype.registerPotentialNode=function(s,u){this.potentialNodes.set(s,u)},a.prototype.mount=function(s,u){var l=this,c;if(u===void 0&&(u=!1),!this.instance){this.isSVG=s instanceof SVGElement&&s.tagName!=="svg",this.instance=s;var f=this.options,p=f.layoutId,d=f.layout,m=f.visualElement;if(m&&!m.getInstance()&&m.mount(s),this.root.nodes.add(this),(c=this.parent)===null||c===void 0||c.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),u&&(d||p)&&(this.isLayoutDirty=!0),t){var h,x=function(){return l.root.updateBlockedByResize=!1};t(s,function(){l.root.updateBlockedByResize=!0,clearTimeout(h),h=window.setTimeout(x,250),Gr.hasAnimatedSinceResize&&(Gr.hasAnimatedSinceResize=!1,l.nodes.forEach(n_))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&m&&(p||d)&&this.addEventListener("didUpdate",function(g){var b,S,T,w,v,E=g.delta,M=g.hasLayoutChanged,I=g.hasRelativeTargetChanged,k=g.layout;if(l.isTreeAnimationBlocked()){l.target=void 0,l.relativeTarget=void 0;return}var F=(S=(b=l.options.transition)!==null&&b!==void 0?b:m.getDefaultTransition())!==null&&S!==void 0?S:c_,H=m.getProps(),A=H.onLayoutAnimationStart,N=H.onLayoutAnimationComplete,L=!l.targetLayout||!Vf(l.targetLayout,k)||I,W=!M&&I;if(!((T=l.resumeFrom)===null||T===void 0)&&T.instance||W||M&&(L||!l.currentAnimation)){l.resumeFrom&&(l.resumingFrom=l.resumeFrom,l.resumingFrom.resumingFrom=void 0),l.setAnimationOrigin(E,W);var $=D(D({},Qs(F,"layout")),{onPlay:A,onComplete:N});m.shouldReduceMotion&&($.delay=0,$.type=!1),l.startAnimation($)}else!M&&l.animationProgress===0&&l.finishAnimation(),l.isLead()&&((v=(w=l.options).onExitComplete)===null||v===void 0||v.call(w));l.targetLayout=k})}},a.prototype.unmount=function(){var s,u;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(s=this.getStack())===null||s===void 0||s.remove(this),(u=this.parent)===null||u===void 0||u.children.delete(this),this.instance=void 0,Jt.preRender(this.updateProjection)},a.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},a.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},a.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},a.prototype.isTreeAnimationBlocked=function(){var s;return this.isAnimationBlocked||((s=this.parent)===null||s===void 0?void 0:s.isTreeAnimationBlocked())||!1},a.prototype.startUpdate=function(){var s;this.isUpdateBlocked()||(this.isUpdating=!0,(s=this.nodes)===null||s===void 0||s.forEach(a_))},a.prototype.willUpdate=function(s){var u,l,c;if(s===void 0&&(s=!0),this.root.isUpdateBlocked()){(l=(u=this.options).onExitComplete)===null||l===void 0||l.call(u);return}if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var f=0;f<this.path.length;f++){var p=this.path[f];p.shouldResetTransform=!0,p.updateScroll()}var d=this.options,m=d.layoutId,h=d.layout;if(!(m===void 0&&!h)){var x=(c=this.options.visualElement)===null||c===void 0?void 0:c.getProps().transformTemplate;this.prevTransformTemplateValue=x?.(this.latestValues,""),this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}}},a.prototype.didUpdate=function(){var s=this.isUpdateBlocked();if(s){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hb);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(f_),this.potentialNodes.clear()),this.nodes.forEach(r_),this.nodes.forEach(JM),this.nodes.forEach(e_),this.clearAllSnapshots(),js.update(),js.preRender(),js.render())},a.prototype.clearAllSnapshots=function(){this.nodes.forEach(t_),this.sharedNodes.forEach(s_)},a.prototype.scheduleUpdateProjection=function(){Ze.preRender(this.updateProjection,!1,!0)},a.prototype.scheduleCheckAfterUnmount=function(){var s=this;Ze.postRender(function(){s.isLayoutDirty?s.root.didUpdate():s.root.checkUpdateFailed()})},a.prototype.updateSnapshot=function(){if(!(this.snapshot||!this.instance)){var s=this.measure(),u=this.removeTransform(this.removeElementScroll(s));yb(u),this.snapshot={measured:s,layout:u,latestValues:{}}}},a.prototype.updateLayout=function(){var s;if(this.instance&&(this.updateScroll(),!(!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))){if(this.resumeFrom&&!this.resumeFrom.instance)for(var u=0;u<this.path.length;u++){var l=this.path[u];l.updateScroll()}var c=this.measure();yb(c);var f=this.layout;this.layout={measured:c,actual:this.removeElementScroll(c)},this.layoutCorrected=Be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(s=this.options.visualElement)===null||s===void 0||s.notifyLayoutMeasure(this.layout.actual,f?.actual)}},a.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=o(this.instance),this.scroll=n(this.instance))},a.prototype.resetTransform=function(){var s;if(i){var u=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Ff(this.projectionDelta),c=(s=this.options.visualElement)===null||s===void 0?void 0:s.getProps().transformTemplate,f=c?.(this.latestValues,""),p=f!==this.prevTransformTemplateValue;u&&(l||tr(this.latestValues)||p)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}},a.prototype.measure=function(){var s=this.options.visualElement;if(!s)return Be();var u=s.measureViewportBox(),l=this.root.scroll;return l&&(rr(u.x,l.x),rr(u.y,l.y)),u},a.prototype.removeElementScroll=function(s){var u=Be();Tt(u,s);for(var l=0;l<this.path.length;l++){var c=this.path[l],f=c.scroll,p=c.options,d=c.isScrollRoot;if(c!==this.root&&f&&p.layoutScroll){if(d){Tt(u,s);var m=this.root.scroll;m&&(rr(u.x,-m.x),rr(u.y,-m.y))}rr(u.x,f.x),rr(u.y,f.y)}}return u},a.prototype.applyTransform=function(s,u){u===void 0&&(u=!1);var l=Be();Tt(l,s);for(var c=0;c<this.path.length;c++){var f=this.path[c];!u&&f.options.layoutScroll&&f.scroll&&f!==f.root&&_n(l,{x:-f.scroll.x,y:-f.scroll.y}),tr(f.latestValues)&&_n(l,f.latestValues)}return tr(this.latestValues)&&_n(l,this.latestValues),l},a.prototype.removeTransform=function(s){var u,l=Be();Tt(l,s);for(var c=0;c<this.path.length;c++){var f=this.path[c];if(f.instance&&tr(f.latestValues)){Mf(f.latestValues)&&f.updateSnapshot();var p=Be(),d=f.measure();Tt(p,d),Nf(l,f.latestValues,(u=f.snapshot)===null||u===void 0?void 0:u.layout,p)}}return tr(this.latestValues)&&Nf(l,this.latestValues),l},a.prototype.setTargetDelta=function(s){this.targetDelta=s,this.root.scheduleUpdateProjection()},a.prototype.setOptions=function(s){var u;this.options=D(D(D({},this.options),s),{crossfade:(u=s.crossfade)!==null&&u!==void 0?u:!0})},a.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},a.prototype.resolveTargetDelta=function(){var s,u=this.options,l=u.layout,c=u.layoutId;!this.layout||!(l||c)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=Be(),this.relativeTargetOrigin=Be(),vo(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),Tt(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Be(),this.targetWithTransforms=Be()),this.relativeTarget&&this.relativeTargetOrigin&&(!((s=this.relativeParent)===null||s===void 0)&&s.target)?cy(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.actual):Tt(this.target,this.layout.actual),Of(this.target,this.targetDelta)):Tt(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&!!this.relativeParent.resumingFrom==!!this.resumingFrom&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=Be(),this.relativeTargetOrigin=Be(),vo(this.relativeTargetOrigin,this.target,this.relativeParent.target),Tt(this.relativeTarget,this.relativeTargetOrigin)))))},a.prototype.getClosestProjectingParent=function(){if(!(!this.parent||tr(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},a.prototype.calcProjection=function(){var s,u=this.options,l=u.layout,c=u.layoutId;if(this.isTreeAnimating=!!(!((s=this.parent)===null||s===void 0)&&s.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!(!this.layout||!(l||c))){var f=this.getLead();Tt(this.layoutCorrected,this.layout.actual),_y(this.layoutCorrected,this.treeScale,this.path,!!this.resumingFrom||this!==f);var p=f.target;if(p){this.projectionDelta||(this.projectionDelta=xo(),this.projectionDeltaWithTransform=xo());var d=this.treeScale.x,m=this.treeScale.y,h=this.projectionTransform;go(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=Bf(this.projectionDelta,this.treeScale),(this.projectionTransform!==h||this.treeScale.x!==d||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}}},a.prototype.hide=function(){this.isVisible=!1},a.prototype.show=function(){this.isVisible=!0},a.prototype.scheduleRender=function(s){var u,l,c;s===void 0&&(s=!0),(l=(u=this.options).scheduleRender)===null||l===void 0||l.call(u),s&&((c=this.getStack())===null||c===void 0||c.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},a.prototype.setAnimationOrigin=function(s,u){var l=this,c;u===void 0&&(u=!1);var f=this.snapshot,p=f?.latestValues||{},d=D({},this.latestValues),m=xo();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!u;var h=Be(),x=f?.isShared,g=(((c=this.getStack())===null||c===void 0?void 0:c.members.length)||0)<=1,b=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(l_));this.animationProgress=0,this.mixTargetDelta=function(S){var T,w=S/1e3;gb(m.x,s.x,w),gb(m.y,s.y,w),l.setTargetDelta(m),l.relativeTarget&&l.relativeTargetOrigin&&l.layout&&(!((T=l.relativeParent)===null||T===void 0)&&T.layout)&&(vo(h,l.layout.actual,l.relativeParent.layout.actual),u_(l.relativeTarget,l.relativeTargetOrigin,h,w)),x&&(l.animationValues=d,ib(d,p,l.latestValues,w,b,g)),l.root.scheduleUpdateProjection(),l.scheduleRender(),l.animationProgress=w},this.mixTargetDelta(0)},a.prototype.startAnimation=function(s){var u=this,l,c;this.notifyListeners("animationStart"),(l=this.currentAnimation)===null||l===void 0||l.stop(),this.resumingFrom&&((c=this.resumingFrom.currentAnimation)===null||c===void 0||c.stop()),this.pendingAnimation&&(Jt.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(function(){Gr.hasAnimatedSinceResize=!0,u.currentAnimation=eb(0,mb,D(D({},s),{onUpdate:function(f){var p;u.mixTargetDelta(f),(p=s.onUpdate)===null||p===void 0||p.call(s,f)},onComplete:function(){var f;(f=s.onComplete)===null||f===void 0||f.call(s),u.completeAnimation()}})),u.resumingFrom&&(u.resumingFrom.currentAnimation=u.currentAnimation),u.pendingAnimation=void 0})},a.prototype.completeAnimation=function(){var s;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(s=this.getStack())===null||s===void 0||s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},a.prototype.finishAnimation=function(){var s;this.currentAnimation&&((s=this.mixTargetDelta)===null||s===void 0||s.call(this,mb),this.currentAnimation.stop()),this.completeAnimation()},a.prototype.applyTransformsToTarget=function(){var s=this.getLead(),u=s.targetWithTransforms,l=s.target,c=s.layout,f=s.latestValues;!u||!l||!c||(Tt(u,l),_n(u,f),go(this.projectionDeltaWithTransform,this.layoutCorrected,u,f))},a.prototype.registerSharedNode=function(s,u){var l,c,f;this.sharedNodes.has(s)||this.sharedNodes.set(s,new fb);var p=this.sharedNodes.get(s);p.add(u),u.promote({transition:(l=u.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(f=(c=u.options.initialPromotionConfig)===null||c===void 0?void 0:c.shouldPreserveFollowOpacity)===null||f===void 0?void 0:f.call(c,u)})},a.prototype.isLead=function(){var s=this.getStack();return s?s.lead===this:!0},a.prototype.getLead=function(){var s,u=this.options.layoutId;return u?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this},a.prototype.getPrevLead=function(){var s,u=this.options.layoutId;return u?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0},a.prototype.getStack=function(){var s=this.options.layoutId;if(s)return this.root.sharedNodes.get(s)},a.prototype.promote=function(s){var u=s===void 0?{}:s,l=u.needsReset,c=u.transition,f=u.preserveFollowOpacity,p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})},a.prototype.relegate=function(){var s=this.getStack();return s?s.relegate(this):!1},a.prototype.resetRotation=function(){var s=this.options.visualElement;if(s){for(var u=!1,l={},c=0;c<ms.length;c++){var f=ms[c],p="rotate"+f;s.getStaticValue(p)&&(u=!0,l[p]=s.getStaticValue(p),s.setStaticValue(p,0))}if(u){s?.syncRender();for(var p in l)s.setStaticValue(p,l[p]);s.scheduleRender()}}},a.prototype.getProjectionStyles=function(s){var u,l,c,f,p,d;s===void 0&&(s={});var m={};if(!this.instance||this.isSVG)return m;if(this.isVisible)m.visibility="";else return{visibility:"hidden"};var h=(u=this.options.visualElement)===null||u===void 0?void 0:u.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=io(s.pointerEvents)||"",m.transform=h?h(this.latestValues,""):"none",m;var x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){var g={};return this.options.layoutId&&(g.opacity=(l=this.latestValues.opacity)!==null&&l!==void 0?l:1,g.pointerEvents=io(s.pointerEvents)||""),this.hasProjected&&!tr(this.latestValues)&&(g.transform=h?h({},""):"none",this.hasProjected=!1),g}var b=x.animationValues||x.latestValues;this.applyTransformsToTarget(),m.transform=Bf(this.projectionDeltaWithTransform,this.treeScale,b),h&&(m.transform=h(b,m.transform));var S=this.projectionDelta,T=S.x,w=S.y;m.transformOrigin="".concat(T.origin*100,"% ").concat(w.origin*100,"% 0"),x.animationValues?m.opacity=x===this?(f=(c=b.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:m.opacity=x===this?(p=b.opacity)!==null&&p!==void 0?p:"":(d=b.opacityExit)!==null&&d!==void 0?d:0;for(var v in Yn)if(b[v]!==void 0){var E=Yn[v],M=E.correct,I=E.applyTo,k=M(b[v],x);if(I)for(var F=I.length,H=0;H<F;H++)m[I[H]]=k;else m[v]=k}return this.options.layoutId&&(m.pointerEvents=x===this?io(s.pointerEvents)||"":"none"),m},a.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},a.prototype.resetTree=function(){this.root.nodes.forEach(function(s){var u;return(u=s.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(hb),this.root.sharedNodes.clear()},a}()}function JM(e){e.updateLayout()}function e_(e){var t,r,n,o,i=(r=(t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)!==null&&r!==void 0?r:e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){var a=e.layout,s=a.actual,u=a.measured;e.options.animationType==="size"?Et(function(b){var S=i.isShared?i.measured[b]:i.layout[b],T=Ct(S);S.min=s[b].min,S.max=S.min+T}):e.options.animationType==="position"&&Et(function(b){var S=i.isShared?i.measured[b]:i.layout[b],T=Ct(s[b]);S.max=S.min+T});var l=xo();go(l,s,i.layout);var c=xo();i.isShared?go(c,e.applyTransform(u,!0),i.measured):go(c,s,i.layout);var f=!Ff(l),p=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var d=e.relativeParent,m=d.snapshot,h=d.layout;if(m&&h){var x=Be();vo(x,i.layout,m.layout);var g=Be();vo(g,s,h.actual),Vf(x,g)||(p=!0)}}e.notifyListeners("didUpdate",{layout:s,snapshot:i,delta:c,layoutDelta:l,hasLayoutChanged:f,hasRelativeTargetChanged:p})}else e.isLead()&&((o=(n=e.options).onExitComplete)===null||o===void 0||o.call(n));e.options.transition=void 0}function t_(e){e.clearSnapshot()}function hb(e){e.clearMeasurements()}function r_(e){var t=e.options.visualElement;t?.getProps().onBeforeLayoutMeasure&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function n_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function o_(e){e.resolveTargetDelta()}function i_(e){e.calcProjection()}function a_(e){e.resetRotation()}function s_(e){e.removeLeadSnapshot()}function gb(e,t,r){e.translate=ce(t.translate,0,r),e.scale=ce(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function vb(e,t,r,n){e.min=ce(t.min,r.min,n),e.max=ce(t.max,r.max,n)}function u_(e,t,r,n){vb(e.x,t.x,r.x,n),vb(e.y,t.y,r.y,n)}function l_(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var c_={duration:.45,ease:[.4,0,.1,1]};function f_(e,t){for(var r=e.root,n=e.path.length-1;n>=0;n--)if(e.path[n].instance){r=e.path[n];break}var o=r&&r!==e.root?r.instance:document,i=o.querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function xb(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function yb(e){xb(e.x),xb(e.y)}var bb=su({attachResizeListener:function(e,t){return Cn(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}});var Hf={current:void 0},Sb=su({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!Hf.current){var e=new bb(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Hf.current=e}return Hf.current},resetTransform:function(e,t){e.style.transform=t??"none"},checkIsScrollRoot:function(e){return window.getComputedStyle(e).position==="fixed"}});var p_=D(D(D(D({},ny),Fx),Ay),Jy),zf=bv(function(e,t){return $v(e,t,p_,Yy,Sb)});var mt=P(R()),jf=P(Eb());function Tb(e){let{debounce:t,scroll:r,polyfill:n,offsetSize:o}=e===void 0?{debounce:0,scroll:!1,offsetSize:!1}:e,i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[a,s]=(0,mt.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=(0,mt.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,f=(0,mt.useRef)(!1);(0,mt.useEffect)(()=>(f.current=!0,()=>void(f.current=!1)));let[p,d,m]=(0,mt.useMemo)(()=>{let b=()=>{if(!u.current.element)return;let{left:S,top:T,width:w,height:v,bottom:E,right:M,x:I,y:k}=u.current.element.getBoundingClientRect(),F={left:S,top:T,width:w,height:v,bottom:E,right:M,x:I,y:k};u.current.element instanceof HTMLElement&&o&&(F.height=u.current.element.offsetHeight,F.width=u.current.element.offsetWidth),Object.freeze(F),f.current&&!g_(u.current.lastBounds,F)&&s(u.current.lastBounds=F)};return[b,c?(0,jf.default)(b,c):b,l?(0,jf.default)(b,l):b]},[s,o,l,c]);function h(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",m,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null)}function x(){u.current.element&&(u.current.resizeObserver=new i(m),u.current.resizeObserver.observe(u.current.element),r&&u.current.scrollContainers&&u.current.scrollContainers.forEach(b=>b.addEventListener("scroll",m,{capture:!0,passive:!0})))}let g=b=>{!b||b===u.current.element||(h(),u.current.element=b,u.current.scrollContainers=wb(b),x())};return m_(m,!!r),d_(d),(0,mt.useEffect)(()=>{h(),x()},[r,m,d]),(0,mt.useEffect)(()=>h,[]),[g,a,p]}function d_(e){(0,mt.useEffect)(()=>{let t=e;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[e])}function m_(e,t){(0,mt.useEffect)(()=>{if(t){let r=e;return window.addEventListener("scroll",r,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",r,!0)}},[e,t])}function wb(e){let t=[];if(!e||e===document.body)return t;let{overflow:r,overflowX:n,overflowY:o}=window.getComputedStyle(e);return[r,n,o].some(i=>i==="auto"||i==="scroll")&&t.push(e),[...t,...wb(e.parentElement)]}var h_=["x","y","top","bottom","left","right","width","height"],g_=(e,t)=>h_.every(r=>e[r]===t[r]);var Ib=P(R(),1),uu=(0,Ib.createContext)({dragDropManager:void 0});var m0=P(_r(),1);function wt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Mb=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Gf=function(){return Math.random().toString(36).substring(7).split("").join(".")},_b={INIT:"@@redux/INIT"+Gf(),REPLACE:"@@redux/REPLACE"+Gf(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Gf()}};function v_(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Wf(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(wt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(wt(1));return r(Wf)(e,t)}if(typeof e!="function")throw new Error(wt(2));var o=e,i=t,a=[],s=a,u=!1;function l(){s===a&&(s=a.slice())}function c(){if(u)throw new Error(wt(3));return i}function f(h){if(typeof h!="function")throw new Error(wt(4));if(u)throw new Error(wt(5));var x=!0;return l(),s.push(h),function(){if(x){if(u)throw new Error(wt(6));x=!1,l();var b=s.indexOf(h);s.splice(b,1),a=null}}}function p(h){if(!v_(h))throw new Error(wt(7));if(typeof h.type>"u")throw new Error(wt(8));if(u)throw new Error(wt(9));try{u=!0,i=o(i,h)}finally{u=!1}for(var x=a=s,g=0;g<x.length;g++){var b=x[g];b()}return h}function d(h){if(typeof h!="function")throw new Error(wt(10));o=h,p({type:_b.REPLACE})}function m(){var h,x=f;return h={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(wt(11));function S(){b.next&&b.next(c())}S();var T=x(S);return{unsubscribe:T}}},h[Mb]=function(){return this},h}return p({type:_b.INIT}),n={dispatch:p,subscribe:f,getState:c,replaceReducer:d},n[Mb]=m,n}function K(e,t,...r){if(x_()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let n;if(t===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;n=new Error(t.replace(/%s/g,function(){return r[o++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function x_(){return typeof process<"u"&&!0}function Ob(e,t,r){return t.split(".").reduce((n,o)=>n&&n[o]?n[o]:r||null,e)}function kb(e,t){return e.filter(r=>r!==t)}function lu(e){return typeof e=="object"}function Db(e,t){let r=new Map,n=i=>{r.set(i,r.has(i)?r.get(i)+1:1)};e.forEach(n),t.forEach(n);let o=[];return r.forEach((i,a)=>{i===1&&o.push(a)}),o}function Pb(e,t){return e.filter(r=>t.indexOf(r)>-1)}var Co="dnd-core/INIT_COORDS",Xr="dnd-core/BEGIN_DRAG",Eo="dnd-core/PUBLISH_DRAG_SOURCE",$r="dnd-core/HOVER",Qr="dnd-core/DROP",Zr="dnd-core/END_DRAG";function qf(e,t){return{type:Co,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}var y_={type:Co,payload:{clientOffset:null,sourceClientOffset:null}};function Ab(e){return function(r=[],n={publishSource:!0}){let{publishSource:o=!0,clientOffset:i,getSourceClientOffset:a}=n,s=e.getMonitor(),u=e.getRegistry();e.dispatch(qf(i)),b_(r,s,u);let l=E_(r,s);if(l==null){e.dispatch(y_);return}let c=null;if(i){if(!a)throw new Error("getSourceClientOffset must be defined");S_(a),c=a(l)}e.dispatch(qf(i,c));let p=u.getSource(l).beginDrag(s,l);if(p==null)return;C_(p),u.pinSource(l);let d=u.getSourceType(l);return{type:Xr,payload:{itemType:d,item:p,sourceId:l,clientOffset:i||null,sourceClientOffset:c||null,isSourcePublic:!!o}}}}function b_(e,t,r){K(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){K(r.getSource(n),"Expected sourceIds to be registered.")})}function S_(e){K(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function C_(e){K(lu(e),"Item must be an object.")}function E_(e,t){let r=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}function T_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){T_(e,o,r[o])})}return e}function Lb(e){return function(r={}){let n=e.getMonitor(),o=e.getRegistry();I_(n),O_(n).forEach((a,s)=>{let u=M_(a,s,o,n),l={type:Qr,payload:{dropResult:w_({},r,u)}};e.dispatch(l)})}}function I_(e){K(e.isDragging(),"Cannot call drop while not dragging."),K(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function M_(e,t,r,n){let o=r.getTarget(e),i=o?o.drop(n,e):void 0;return __(i),typeof i>"u"&&(i=t===0?{}:n.getDropResult()),i}function __(e){K(typeof e>"u"||lu(e),"Drop result must either be an object or undefined.")}function O_(e){let t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function Rb(e){return function(){let r=e.getMonitor(),n=e.getRegistry();k_(r);let o=r.getSourceId();return o!=null&&(n.getSource(o,!0).endDrag(r,o),n.unpinSource()),{type:Zr}}}function k_(e){K(e.isDragging(),"Cannot call endDrag while not dragging.")}function Ti(e,t){return t===null?e===null:Array.isArray(e)?e.some(r=>r===t):e===t}function Nb(e){return function(r,{clientOffset:n}={}){D_(r);let o=r.slice(0),i=e.getMonitor(),a=e.getRegistry(),s=i.getItemType();return A_(o,a,s),P_(o,i,a),L_(o,i,a),{type:$r,payload:{targetIds:o,clientOffset:n||null}}}}function D_(e){K(Array.isArray(e),"Expected targetIds to be an array.")}function P_(e,t,r){K(t.isDragging(),"Cannot call hover while not dragging."),K(!t.didDrop(),"Cannot call hover after drop.");for(let n=0;n<e.length;n++){let o=e[n];K(e.lastIndexOf(o)===n,"Expected targetIds to be unique in the passed array.");let i=r.getTarget(o);K(i,"Expected targetIds to be registered.")}}function A_(e,t,r){for(let n=e.length-1;n>=0;n--){let o=e[n],i=t.getTargetType(o);Ti(i,r)||e.splice(n,1)}}function L_(e,t,r){e.forEach(function(n){r.getTarget(n).hover(t,n)})}function Fb(e){return function(){if(e.getMonitor().isDragging())return{type:Eo}}}function Vb(e){return{beginDrag:Ab(e),publishDragSource:Fb(e),hover:Nb(e),drop:Lb(e),endDrag:Rb(e)}}var cu=class{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){let t=this,{dispatch:r}=this.store;function n(i){return(...a)=>{let s=i.apply(t,a);typeof s<"u"&&r(s)}}let o=Vb(this);return Object.keys(o).reduce((i,a)=>{let s=o[a];return i[a]=n(s),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,r){this.isSetUp=!1,this.handleRefCountChange=()=>{let n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=r,t.subscribe(this.handleRefCountChange)}};function R_(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Bb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Hb(e){let{clientOffset:t,initialClientOffset:r,initialSourceClientOffset:n}=e;return!t||!r||!n?null:Bb(R_(t,n),r)}function zb(e){let{clientOffset:t,initialClientOffset:r}=e;return!t||!r?null:Bb(t,r)}var To=[],fu=[];To.__IS_NONE__=!0;fu.__IS_ALL__=!0;function Ub(e,t){return e===To?!1:e===fu||typeof t>"u"?!0:Pb(t,e).length>0}var pu=class{subscribeToStateChange(t,r={}){let{handlerIds:n}=r;K(typeof t=="function","listener must be a function."),K(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId,i=()=>{let a=this.store.getState(),s=a.stateId;try{s===o||s===o+1&&!Ub(a.dirtyHandlerIds,n)||t()}finally{o=s}};return this.store.subscribe(i)}subscribeToOffsetChange(t){K(typeof t=="function","listener must be a function.");let r=this.store.getState().dragOffset,n=()=>{let o=this.store.getState().dragOffset;o!==r&&(r=o,t())};return this.store.subscribe(n)}canDragSource(t){if(!t)return!1;let r=this.registry.getSource(t);return K(r,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:r.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;let r=this.registry.getTarget(t);if(K(r,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;let n=this.registry.getTargetType(t),o=this.getItemType();return Ti(n,o)&&r.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;let r=this.registry.getSource(t,!0);if(K(r,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;let n=this.registry.getSourceType(t),o=this.getItemType();return n!==o?!1:r.isDragging(this,t)}isOverTarget(t,r={shallow:!1}){if(!t)return!1;let{shallow:n}=r;if(!this.isDragging())return!1;let o=this.registry.getTargetType(t),i=this.getItemType();if(i&&!Ti(o,i))return!1;let a=this.getTargetIds();if(!a.length)return!1;let s=a.indexOf(t);return n?s===a.length-1:s>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Hb(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return zb(this.store.getState().dragOffset)}constructor(t,r){this.store=t,this.registry=r}};var jb=typeof global<"u"?global:self,Gb=jb.MutationObserver||jb.WebKitMutationObserver;function Kf(e){return function(){let r=setTimeout(o,0),n=setInterval(o,50);function o(){clearTimeout(r),clearInterval(n),e()}}}function N_(e){let t=1,r=new Gb(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}var Wb=typeof Gb=="function"?N_:Kf;var du=class{enqueueTask(t){let{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:t}=this;for(;this.index<t.length;){let r=this.index;if(this.index++,t[r].call(),this.index>this.capacity){for(let n=0,o=t.length-this.index;n<o;n++)t[n]=t[n+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=Wb(this.flush),this.requestErrorThrow=Kf(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}};var mu=class{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,r){this.onError=t,this.release=r,this.task=null}};var hu=class{create(t){let r=this.freeTasks,n=r.length?r.pop():new mu(this.onError,o=>r[r.length]=o);return n.task=t,n}constructor(t){this.onError=t,this.freeTasks=[]}};var qb=new du,F_=new hu(qb.registerPendingError);function Kb(e){qb.enqueueTask(F_.create(e))}var wi="dnd-core/ADD_SOURCE",Ii="dnd-core/ADD_TARGET",Mi="dnd-core/REMOVE_SOURCE",On="dnd-core/REMOVE_TARGET";function Yb(e){return{type:wi,payload:{sourceId:e}}}function Xb(e){return{type:Ii,payload:{targetId:e}}}function $b(e){return{type:Mi,payload:{sourceId:e}}}function Qb(e){return{type:On,payload:{targetId:e}}}function Zb(e){K(typeof e.canDrag=="function","Expected canDrag to be a function."),K(typeof e.beginDrag=="function","Expected beginDrag to be a function."),K(typeof e.endDrag=="function","Expected endDrag to be a function.")}function Jb(e){K(typeof e.canDrop=="function","Expected canDrop to be a function."),K(typeof e.hover=="function","Expected hover to be a function."),K(typeof e.drop=="function","Expected beginDrag to be a function.")}function gu(e,t){if(t&&Array.isArray(e)){e.forEach(r=>gu(r,!1));return}K(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var ht;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(ht||(ht={}));var V_=0;function e0(){return V_++}function B_(e){let t=e0().toString();switch(e){case ht.SOURCE:return`S${t}`;case ht.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function t0(e){switch(e[0]){case"S":return ht.SOURCE;case"T":return ht.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function r0(e,t){let r=e.entries(),n=!1;do{let{done:o,value:[,i]}=r.next();if(i===t)return!0;n=!!o}while(!n);return!1}var vu=class{addSource(t,r){gu(t),Zb(r);let n=this.addHandler(ht.SOURCE,t,r);return this.store.dispatch(Yb(n)),n}addTarget(t,r){gu(t,!0),Jb(r);let n=this.addHandler(ht.TARGET,t,r);return this.store.dispatch(Xb(n)),n}containsHandler(t){return r0(this.dragSources,t)||r0(this.dropTargets,t)}getSource(t,r=!1){return K(this.isSourceId(t),"Expected a valid source ID."),r&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return K(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return K(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return K(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return t0(t)===ht.SOURCE}isTargetId(t){return t0(t)===ht.TARGET}removeSource(t){K(this.getSource(t),"Expected an existing source."),this.store.dispatch($b(t)),Kb(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){K(this.getTarget(t),"Expected an existing target."),this.store.dispatch(Qb(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){let r=this.getSource(t);K(r,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=r}unpinSource(){K(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,r,n){let o=B_(t);return this.types.set(o,r),t===ht.SOURCE?this.dragSources.set(o,n):t===ht.TARGET&&this.dropTargets.set(o,n),o}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}};var H_=(e,t)=>e===t;function n0(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function o0(e,t,r=H_){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}function i0(e=To,t){switch(t.type){case $r:break;case wi:case Ii:case On:case Mi:return To;case Xr:case Eo:case Zr:case Qr:default:return fu}let{targetIds:r=[],prevTargetIds:n=[]}=t.payload,o=Db(r,n);if(!(o.length>0||!o0(r,n)))return To;let a=n[n.length-1],s=r[r.length-1];return a!==s&&(a&&o.push(a),s&&o.push(s)),o}function z_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){z_(e,o,r[o])})}return e}var a0={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function s0(e=a0,t){let{payload:r}=t;switch(t.type){case Co:case Xr:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case $r:return n0(e.clientOffset,r.clientOffset)?e:U_({},e,{clientOffset:r.clientOffset});case Zr:case Qr:return a0;default:return e}}function j_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){j_(e,o,r[o])})}return e}var G_={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function u0(e=G_,t){let{payload:r}=t;switch(t.type){case Xr:return wo({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Eo:return wo({},e,{isSourcePublic:!0});case $r:return wo({},e,{targetIds:r.targetIds});case On:return e.targetIds.indexOf(r.targetId)===-1?e:wo({},e,{targetIds:kb(e.targetIds,r.targetId)});case Qr:return wo({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Zr:return wo({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function l0(e=0,t){switch(t.type){case wi:case Ii:return e+1;case Mi:case On:return e-1;default:return e}}function c0(e=0){return e+1}function W_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){W_(e,o,r[o])})}return e}function f0(e={},t){return{dirtyHandlerIds:i0(e.dirtyHandlerIds,{type:t.type,payload:q_({},t.payload,{prevTargetIds:Ob(e,"dragOperation.targetIds",[])})}),dragOffset:s0(e.dragOffset,t),refCount:l0(e.refCount,t),dragOperation:u0(e.dragOperation,t),stateId:c0(e.stateId)}}function p0(e,t=void 0,r={},n=!1){let o=K_(n),i=new pu(o,new vu(o)),a=new cu(o,i),s=e(a,t,r);return a.receiveBackend(s),a}function K_(e){let t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Wf(f0,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var yu=P(R(),1);function Y_(e,t){if(e==null)return{};var r=X_(e,t),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X_(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}var d0=0,xu=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),h0=(0,yu.memo)(function(t){var{children:r}=t,n=Y_(t,["children"]);let[o,i]=$_(n);return(0,yu.useEffect)(()=>{if(i){let a=g0();return++d0,()=>{--d0===0&&(a[xu]=null)}}},[]),(0,m0.jsx)(uu.Provider,{value:o,children:r})});function $_(e){if("manager"in e)return[{dragDropManager:e.manager},!1];let t=Q_(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[t,r]}function Q_(e,t=g0(),r,n){let o=t;return o[xu]||(o[xu]={dragDropManager:p0(e,t,r,n)}),o[xu]}function g0(){return typeof global<"u"?global:window}var y0=P(x0(),1),Su=P(R(),1);var bu=P(R(),1),gt=typeof window<"u"?bu.useLayoutEffect:bu.useEffect;function Cu(e,t,r){let[n,o]=(0,Su.useState)(()=>t(e)),i=(0,Su.useCallback)(()=>{let a=t(e);(0,y0.default)(n,a)||(o(a),r&&r())},[n,e,r]);return gt(i),[n,i]}function b0(e,t,r){let[n,o]=Cu(e,t,r);return gt(function(){let a=e.getHandlerId();if(a!=null)return e.subscribeToStateChange(o,{handlerIds:[a]})},[e,o]),n}function Eu(e,t,r){return b0(t,e||(()=>({})),()=>r.reconnect())}var S0=P(R(),1);function Tu(e,t){let r=[...t||[]];return t==null&&typeof e!="function"&&r.push(e),(0,S0.useMemo)(()=>typeof e=="function"?e():e,r)}var Yf=P(R(),1);function C0(e){return(0,Yf.useMemo)(()=>e.hooks.dragSource(),[e])}function E0(e){return(0,Yf.useMemo)(()=>e.hooks.dragPreview(),[e])}var _0=P(R(),1);var Xf=!1,$f=!1,wu=class{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){K(!Xf,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Xf=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Xf=!1}}isDragging(){if(!this.sourceId)return!1;K(!$f,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return $f=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{$f=!1}}subscribeToStateChange(t,r){return this.internalMonitor.subscribeToStateChange(t,r)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,r){return this.internalMonitor.isOverTarget(t,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}};var Qf=!1,Iu=class{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,r){return this.internalMonitor.subscribeToStateChange(t,r)}canDrop(){if(!this.targetId)return!1;K(!Qf,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Qf=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Qf=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}};function T0(e,t,r){let n=r.getRegistry(),o=n.addTarget(e,t);return[o,()=>n.removeTarget(o)]}function w0(e,t,r){let n=r.getRegistry(),o=n.addSource(e,t);return[o,()=>n.removeSource(o)]}function _i(e,t,r,n){let o=r?r.call(n,e,t):void 0;if(o!==void 0)return!!o;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;let i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;let s=Object.prototype.hasOwnProperty.bind(t);for(let u=0;u<i.length;u++){let l=i[u];if(!s(l))return!1;let c=e[l],f=t[l];if(o=r?r.call(n,c,f,l):void 0,o===!1||o===void 0&&c!==f)return!1}return!0}function Oi(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}var ki=P(R(),1);function Z_(e){if(typeof e.type=="string")return;let t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function J_(e){return(t=null,r=null)=>{if(!(0,ki.isValidElement)(t)){let i=t;return e(i,r),i}let n=t;return Z_(n),eO(n,r?i=>e(i,r):e)}}function Mu(e){let t={};return Object.keys(e).forEach(r=>{let n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{let o=J_(n);t[r]=()=>o}}),t}function I0(e,t){typeof e=="function"?e(t):e.current=t}function eO(e,t){let r=e.ref;return K(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?(0,ki.cloneElement)(e,{ref:n=>{I0(r,n),I0(t,n)}}):(0,ki.cloneElement)(e,{ref:t})}var _u=class{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){let t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){let t=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?t?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),r):(this.lastConnectedDragSource=t,r):r}reconnectDragPreview(t=!1){let r=this.dragPreview,n=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!_i(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!_i(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=Mu({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,Oi(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,Oi(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}};var Ou=class{get connectTarget(){return this.dropTarget}reconnect(){let t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();let r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!_i(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=Mu({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,Oi(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}};var M0=P(R(),1);function Ue(){let{dragDropManager:e}=(0,M0.useContext)(uu);return K(e!=null,"Expected drag drop context"),e}function O0(e,t){let r=Ue(),n=(0,_0.useMemo)(()=>new _u(r.getBackend()),[r]);return gt(()=>(n.dragSourceOptions=e||null,n.reconnect(),()=>n.disconnectDragSource()),[n,e]),gt(()=>(n.dragPreviewOptions=t||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,t]),n}var k0=P(R(),1);function D0(){let e=Ue();return(0,k0.useMemo)(()=>new wu(e),[e])}var Du=P(R(),1);var ku=class{beginDrag(){let t=this.spec,r=this.monitor,n=null;return typeof t.item=="object"?n=t.item:typeof t.item=="function"?n=t.item(r):n={},n??null}canDrag(){let t=this.spec,r=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(r):!0}isDragging(t,r){let n=this.spec,o=this.monitor,{isDragging:i}=n;return i?i(o):r===t.getSourceId()}endDrag(){let t=this.spec,r=this.monitor,n=this.connector,{end:o}=t;o&&o(r.getItem(),r),n.reconnect()}constructor(t,r,n){this.spec=t,this.monitor=r,this.connector=n}};function P0(e,t,r){let n=(0,Du.useMemo)(()=>new ku(e,t,r),[t,r]);return(0,Du.useEffect)(()=>{n.spec=e},[e]),n}var A0=P(R(),1);function L0(e){return(0,A0.useMemo)(()=>{let t=e.type;return K(t!=null,"spec.type must be defined"),t},[e])}function R0(e,t,r){let n=Ue(),o=P0(e,t,r),i=L0(e);gt(function(){if(i!=null){let[s,u]=w0(i,o,n);return t.receiveHandlerId(s),r.receiveHandlerId(s),u}},[n,t,r,o,i])}function N0(e,t){let r=Tu(e,t);K(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");let n=D0(),o=O0(r.options,r.previewOptions);return R0(r,n,o),[Eu(r.collect,n,o),C0(o),E0(o)]}var Zf=P(R(),1);function F0(e){let r=Ue().getMonitor(),[n,o]=Cu(r,e);return(0,Zf.useEffect)(()=>r.subscribeToOffsetChange(o)),(0,Zf.useEffect)(()=>r.subscribeToStateChange(o)),n}var V0=P(R(),1);function B0(e){return(0,V0.useMemo)(()=>e.hooks.dropTarget(),[e])}var H0=P(R(),1);function z0(e){let t=Ue(),r=(0,H0.useMemo)(()=>new Ou(t.getBackend()),[t]);return gt(()=>(r.dropTargetOptions=e||null,r.reconnect(),()=>r.disconnectDropTarget()),[e]),r}var U0=P(R(),1);function j0(){let e=Ue();return(0,U0.useMemo)(()=>new Iu(e),[e])}var G0=P(R(),1);function W0(e){let{accept:t}=e;return(0,G0.useMemo)(()=>(K(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}var Au=P(R(),1);var Pu=class{canDrop(){let t=this.spec,r=this.monitor;return t.canDrop?t.canDrop(r.getItem(),r):!0}hover(){let t=this.spec,r=this.monitor;t.hover&&t.hover(r.getItem(),r)}drop(){let t=this.spec,r=this.monitor;if(t.drop)return t.drop(r.getItem(),r)}constructor(t,r){this.spec=t,this.monitor=r}};function q0(e,t){let r=(0,Au.useMemo)(()=>new Pu(e,t),[t]);return(0,Au.useEffect)(()=>{r.spec=e},[e]),r}function K0(e,t,r){let n=Ue(),o=q0(e,t),i=W0(e);gt(function(){let[s,u]=T0(i,o,n);return t.receiveHandlerId(s),r.receiveHandlerId(s),u},[n,t,o,r,i.map(a=>a.toString()).join("|")])}function Jf(e,t){let r=Tu(e,t),n=j0(),o=z0(r.options);return K0(r,n,o),[Eu(r.collect,n,o),B0(o)]}function ep(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tO(e,t,r){rO(e,t),t.set(e,r)}function rO(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Lu(e,t){var r=Y0(e,t,"get");return nO(e,r)}function nO(e,t){return t.get?t.get.call(e):t.value}function oO(e,t,r){var n=Y0(e,t,"set");return iO(e,n,r),r}function Y0(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function iO(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}var Io=new WeakMap,Ru=class{constructor(){tO(this,Io,{writable:!0,value:void 0}),ep(this,"register",t=>{Lu(this,Io).push(t)}),ep(this,"unregister",t=>{let r;for(;(r=Lu(this,Io).indexOf(t))!==-1;)Lu(this,Io).splice(r,1)}),ep(this,"backendChanged",t=>{for(let r of Lu(this,Io))r.backendChanged(t)}),oO(this,Io,[])}};function zt(e,t,r){aO(e,t),t.set(e,r)}function aO(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e,t){var r=Z0(e,t,"get");return sO(e,r)}function sO(e,t){return t.get?t.get.call(e):t.value}function Mo(e,t,r){var n=Z0(e,t,"set");return uO(e,n,r),r}function Z0(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function uO(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}var It=new WeakMap,Nu=new WeakMap,Mt=new WeakMap,Jr=new WeakMap,kn=new WeakMap,X0=new WeakMap,$0=new WeakMap,Q0=new WeakMap,tp=new WeakMap,rp=new WeakMap,Fu=new WeakMap,Di=class e{constructor(t,r,n){if(zt(this,It,{writable:!0,value:void 0}),zt(this,Nu,{writable:!0,value:void 0}),zt(this,Mt,{writable:!0,value:void 0}),zt(this,Jr,{writable:!0,value:void 0}),zt(this,kn,{writable:!0,value:void 0}),zt(this,X0,{writable:!0,value:(o,i,a)=>{var s,u;if(!a.backend)throw new Error("You must specify a 'backend' property in your Backend entry: ".concat(JSON.stringify(a)));let l=a.backend(o,i,a.options),c=a.id,f=!a.id&&l&&l.constructor;if(f&&(c=l.constructor.name),!c)throw new Error("You must specify an 'id' property in your Backend entry: ".concat(JSON.stringify(a),`
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-5xx`));if(ne(this,Mt)[c])throw new Error(`You must specify a unique 'id' property in your Backend entry:
        `.concat(JSON.stringify(a)," (conflicts with: ").concat(JSON.stringify(ne(this,Mt)[c]),")"));return{id:c,instance:l,preview:(s=a.preview)!==null&&s!==void 0?s:!1,transition:a.transition,skipDispatchOnTransition:(u=a.skipDispatchOnTransition)!==null&&u!==void 0?u:!1}}}),nr(this,"setup",()=>{if(!(typeof window>"u")){if(e.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");e.isSetUp=!0,ne(this,$0).call(this,window),ne(this,Mt)[ne(this,It)].instance.setup()}}),nr(this,"teardown",()=>{typeof window>"u"||(e.isSetUp=!1,ne(this,Q0).call(this,window),ne(this,Mt)[ne(this,It)].instance.teardown())}),nr(this,"connectDragSource",(o,i,a)=>ne(this,Fu).call(this,"connectDragSource",o,i,a)),nr(this,"connectDragPreview",(o,i,a)=>ne(this,Fu).call(this,"connectDragPreview",o,i,a)),nr(this,"connectDropTarget",(o,i,a)=>ne(this,Fu).call(this,"connectDropTarget",o,i,a)),nr(this,"profile",()=>ne(this,Mt)[ne(this,It)].instance.profile()),nr(this,"previewEnabled",()=>ne(this,Mt)[ne(this,It)].preview),nr(this,"previewsList",()=>ne(this,Nu)),nr(this,"backendsList",()=>ne(this,Jr)),zt(this,$0,{writable:!0,value:o=>{ne(this,Jr).forEach(i=>{i.transition&&o.addEventListener(i.transition.event,ne(this,tp))})}}),zt(this,Q0,{writable:!0,value:o=>{ne(this,Jr).forEach(i=>{i.transition&&o.removeEventListener(i.transition.event,ne(this,tp))})}}),zt(this,tp,{writable:!0,value:o=>{let i=ne(this,It);if(ne(this,Jr).some(s=>s.id!==ne(this,It)&&s.transition&&s.transition.check(o)?(Mo(this,It,s.id),!0):!1),ne(this,It)!==i){var a;ne(this,Mt)[i].instance.teardown(),Object.keys(ne(this,kn)).forEach(c=>{let f=ne(this,kn)[c];f.unsubscribe(),f.unsubscribe=ne(this,rp).call(this,f.func,...f.args)}),ne(this,Nu).backendChanged(this);let s=ne(this,Mt)[ne(this,It)];if(s.instance.setup(),s.skipDispatchOnTransition)return;let u=o.constructor,l=new u(o.type,o);(a=o.target)===null||a===void 0||a.dispatchEvent(l)}}}),zt(this,rp,{writable:!0,value:(o,i,a,s)=>ne(this,Mt)[ne(this,It)].instance[o](i,a,s)}),zt(this,Fu,{writable:!0,value:(o,i,a,s)=>{let u="".concat(o,"_").concat(i),l=ne(this,rp).call(this,o,i,a,s);return ne(this,kn)[u]={func:o,args:[i,a,s],unsubscribe:l},()=>{ne(this,kn)[u].unsubscribe(),delete ne(this,kn)[u]}}}),!n||!n.backends||n.backends.length<1)throw new Error(`You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx`);Mo(this,Nu,new Ru),Mo(this,Mt,{}),Mo(this,Jr,[]),n.backends.forEach(o=>{let i=ne(this,X0).call(this,t,r,o);ne(this,Mt)[i.id]=i,ne(this,Jr).push(i)}),Mo(this,It,ne(this,Jr)[0].id),Mo(this,kn,{})}};nr(Di,"isSetUp",!1);var Vu=(e,t,r)=>new Di(e,t,r);var Pi=(e,t)=>({event:e,check:t});var np=Pi("touchstart",e=>{let t=e;return t.touches!==null&&t.touches!==void 0}),lO=Pi("dragstart",e=>e.type.indexOf("drag")!==-1||e.type.indexOf("drop")!==-1),cO=Pi("mousedown",e=>e.type.indexOf("touch")===-1&&e.type.indexOf("mouse")!==-1),op=Pi("pointerdown",e=>e.pointerType=="mouse");var Sr;(function(e){e.mouse="mouse",e.touch="touch",e.keyboard="keyboard"})(Sr||(Sr={}));var Bu=class{get delay(){var t;return(t=this.args.delay)!==null&&t!==void 0?t:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var t;return(t=this.args.ignoreContextMenu)!==null&&t!==void 0?t:!1}get enableHoverOutsideTarget(){var t;return(t=this.args.enableHoverOutsideTarget)!==null&&t!==void 0?t:!1}get enableKeyboardEvents(){var t;return(t=this.args.enableKeyboardEvents)!==null&&t!==void 0?t:!1}get enableMouseEvents(){var t;return(t=this.args.enableMouseEvents)!==null&&t!==void 0?t:!1}get enableTouchEvents(){var t;return(t=this.args.enableTouchEvents)!==null&&t!==void 0?t:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var t,r,n,o;return(o=(n=(t=this.args)===null||t===void 0?void 0:t.delayTouchStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&o!==void 0?o:0}get delayMouseStart(){var t,r,n,o;return(o=(n=(t=this.args)===null||t===void 0?void 0:t.delayMouseStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&o!==void 0?o:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var t;if(!((t=this.context)===null||t===void 0)&&t.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var t;return((t=this.args)===null||t===void 0?void 0:t.rootElement)||this.document}constructor(t,r){this.args=t,this.context=r}};function J0(e,t,r,n){return Math.sqrt(Math.pow(Math.abs(r-e),2)+Math.pow(Math.abs(n-t),2))}function eS(e,t,r,n,o){if(!o)return!1;let i=Math.atan2(n-t,r-e)*180/Math.PI+180;for(let a=0;a<o.length;++a){let s=o[a];if(s&&(s.start==null||i>=s.start)&&(s.end==null||i<=s.end))return!0}return!1}var fO={Left:1,Right:2,Center:4},pO={Left:0,Center:1,Right:2};function Hu(e){return e.button===void 0||e.button===pO.Left}function tS(e){return e.buttons===void 0||(e.buttons&fO.Left)===0}function zu(e){return!!e.targetTouches}var dO=1;function rS(e){let t=e.nodeType===dO?e:e.parentElement;if(!t)return;let{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function mO(e,t){if(e.targetTouches.length===1)return Ai(e.targetTouches[0]);if(t&&e.touches.length===1&&e.touches[0].target===t.target)return Ai(e.touches[0])}function Ai(e,t){return zu(e)?mO(e,t):{x:e.clientX,y:e.clientY}}var ip=(()=>{let e=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return e=!0,!0}}))}catch{}return e})();var Li={[Sr.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[Sr.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[Sr.keyboard]:{keydown:"keydown"}},Uu=class e{profile(){var t;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get document(){return this.options.document}setup(){let t=this.options.rootElement;t&&(K(!e.isSetUp,"Cannot have two Touch backends at the same time."),e.isSetUp=!0,this.addEventListener(t,"start",this.getTopMoveStartHandler()),this.addEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(t,"move",this.handleTopMove),this.addEventListener(t,"move",this.handleTopMoveCapture,!0),this.addEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(t,"keydown",this.handleCancelOnEscape,!0))}teardown(){let t=this.options.rootElement;t&&(e.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(t,"start",this.handleTopMoveStart),this.removeEventListener(t,"move",this.handleTopMoveCapture,!0),this.removeEventListener(t,"move",this.handleTopMove),this.removeEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(t,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(t,r,n,o=!1){let i=ip?{capture:o,passive:!1}:o;this.listenerTypes.forEach(function(a){let s=Li[a][r];s&&t.addEventListener(s,n,i)})}removeEventListener(t,r,n,o=!1){let i=ip?{capture:o,passive:!1}:o;this.listenerTypes.forEach(function(a){let s=Li[a][r];s&&t.removeEventListener(s,n,i)})}connectDragSource(t,r){let n=this.handleMoveStart.bind(this,t);return this.sourceNodes.set(t,r),this.addEventListener(r,"start",n),()=>{this.sourceNodes.delete(t),this.removeEventListener(r,"start",n)}}connectDragPreview(t,r,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,r),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDropTarget(t,r){let n=this.options.rootElement;if(!this.document||!n)return()=>{};let o=i=>{if(!this.document||!n||!this.monitor.isDragging())return;let a;switch(i.type){case Li.mouse.move:a={x:i.clientX,y:i.clientY};break;case Li.touch.move:var s,u;a={x:((s=i.touches[0])===null||s===void 0?void 0:s.clientX)||0,y:((u=i.touches[0])===null||u===void 0?void 0:u.clientY)||0};break}let l=a!=null?this.document.elementFromPoint(a.x,a.y):void 0,c=l&&r.contains(l);if(l===r||c)return this.handleMove(i,t)};return this.addEventListener(this.document.body,"move",o),this.targetNodes.set(t,r),()=>{this.document&&(this.targetNodes.delete(t),this.removeEventListener(this.document.body,"move",o))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(t){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=t,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{t&&!t.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!t||!t.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(t.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(t,r,n){this.getSourceClientOffset=o=>{let i=this.sourceNodes.get(o);return i&&rS(i)},this.handleTopMoveStartCapture=o=>{Hu(o)&&(this.moveStartSourceIds=[])},this.handleMoveStart=o=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(o)},this.handleTopMoveStart=o=>{if(!Hu(o))return;let i=Ai(o);i&&(zu(o)&&(this.lastTargetTouchFallback=o.targetTouches[0]),this._mouseClientOffset=i),this.waitingForDelay=!1},this.handleTopMoveStartDelay=o=>{if(!Hu(o))return;let i=o.type===Li.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,o),i),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(o,i)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(i)},this.handleTopMove=o=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;let{moveStartSourceIds:i,dragOverTargetIds:a}=this,s=this.options.enableHoverOutsideTarget,u=Ai(o,this.lastTargetTouchFallback);if(!u)return;if(this._isScrolling||!this.monitor.isDragging()&&eS(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,u.x,u.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&i&&J0(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,u.x,u.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(i,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;let l=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(l),this.actions.publishDragSource(),o.cancelable&&o.preventDefault();let c=(a||[]).map(m=>this.targetNodes.get(m)).filter(m=>!!m),f=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(u.x,u.y,c):this.document.elementsFromPoint(u.x,u.y),p=[];for(let m in f){if(!f.hasOwnProperty(m))continue;let h=f[m];for(h!=null&&p.push(h);h;)h=h.parentElement,h&&p.indexOf(h)===-1&&p.push(h)}let d=p.filter(m=>c.indexOf(m)>-1).map(m=>this._getDropTargetId(m)).filter(m=>!!m).filter((m,h,x)=>x.indexOf(m)===h);if(s)for(let m in this.targetNodes){let h=this.targetNodes.get(m);if(l&&h&&h.contains(l)&&d.indexOf(m)===-1){d.unshift(m);break}}d.reverse(),this.actions.hover(d,{clientOffset:u})},this._getDropTargetId=o=>{let i=this.targetNodes.keys(),a=i.next();for(;a.done===!1;){let s=a.value;if(o===this.targetNodes.get(s))return s;a=i.next()}},this.handleTopMoveEndCapture=o=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!tS(o)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}o.cancelable&&o.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=o=>{o.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new Bu(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Sr.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Sr.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Sr.keyboard)}};var nS=function(t,r={},n={}){return new Uu(t,r,n)};var _t=function(){return _t=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},_t.apply(this,arguments)};function it(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function hO(e){var t=e.isVisible,r=e.ease,n=r===void 0?"easeIn":r,o=e.duration,i=e.variants,a=i===void 0?{open:{opacity:1,height:"auto"},close:{opacity:0,height:0}}:i,s=e.children,u=Tb({polyfill:kc}),l=u[0],c=u[1].height,f=(0,j.useState)(t),p=f[0],d=f[1],m=(0,j.useState)(t),h=m[0],x=m[1],g=(0,j.useState)(!1),b=g[0],S=g[1],T=function(){S(!1),t||d(!1)};return(0,j.useEffect)(function(){S(!0),t?d(!0):x(!1)},[t]),(0,j.useEffect)(function(){p&&x(!0)},[c]),j.default.createElement(zf.div,{style:b?{overflow:"hidden"}:void 0,onAnimationComplete:T,initial:h?"open":"close",animate:h?"open":"close",inherit:!1,variants:a,transition:{ease:n,duration:gO(c,o)}},j.default.createElement("div",{ref:l},p&&s))}function gO(e,t){if(t)return t;if(!e)return 0;var r=e/36;return Math.round((4+10*Math.pow(r,.25)+r/5)*10)/1500}var vO=function(e,t){return e.text>t.text?1:e.text<t.text?-1:0},Ri=function(e,t){return e.find(function(r){return r.id===t})},uS=function(e,t,r){if(r===0)return!1;var n=e.find(function(o){return o.id===r});return n===void 0?!1:n.parent===t?!0:uS(e,t,n.parent)},lp=function(e){return e.id!==void 0&&e.parent!==void 0&&e.text!==void 0},en=function(e,t,r){var n=r.tree,o=r.rootId,i=r.canDrop;if(e===null){if(t===o)return!0;var a=n.find(function(c){return c.id===t});return!!(a&&a.droppable)}else{var s=lp(e)?e.id:null;if(i){var u=i(s,t);if(u!==void 0)return u}if(s===t)return!1;var l=n.find(function(f){return f.id===s}),a=n.find(function(f){return f.id===t});return l===void 0||s===null?t===o||!!a?.droppable:a===void 0?l.parent!==0:l.parent===t||!a.droppable?!1:!uS(n,s,t)}},xO=function(e,t,r){return e.map(function(n){return n.id===t?_t(_t({},n),{parent:r}):n})},lS=function(e,t,r){if(r===0)return 0;var n=e.filter(function(o){return o.parent===t});return n[r]?e.findIndex(function(o){return o.id===n[r].id}):e.findIndex(function(o){return o.id===n[r-1].id})+1},yO=function(e,t){return e.findIndex(function(r){return r.id===t})},cS=function(e,t,r,n){var o=yO(e,t),i=lS(e,r,n);return i=i>o?i-1:i,[o,i]},bO=function(e,t,r){var n=t<0?e.length+t:t;if(n>=0&&n<e.length){var o=r<0?e.length+r:r,i=e.splice(t,1)[0];e.splice(o,0,i)}},SO=function(e,t,r,n){var o=cS(e,t,r,n),i=o[0],a=o[1],s=it([],e,!0);return bO(s,i,a),s.map(function(u){return u.id===t?_t(_t({},u),{parent:r}):u})},CO=function(e,t){var r=e.getBoundingClientRect(),n=r.top+r.height/2;return t>n?"down":"up"},ap=function(e,t){var r="",n=0;return e.forEach(function(o,i){var a,s=CO(o,((a=t.getClientOffset())===null||a===void 0?void 0:a.y)||0);r===""?r=s:r!==s&&(r=s,n=i),i===e.length-1&&s==="down"&&(n=i+1)}),n},oS=function(e,t,r){var n=t.closest('[role="list"]'),o=n?.querySelectorAll(':scope > [role="listitem"]');return o?ap(o,r):null},EO=function(e,t,r){var n=e.getBoundingClientRect(),o=r.dropTargetOffset,i=n.top+o,a=n.bottom-o;return t>a?"lower":t<i?"upper":"middle"},sp=function(e,t,r,n){var o;if(!t)return null;if(e===null){var i=t.querySelectorAll(':scope > [role="listitem"]');return{id:n.rootId,index:ap(i,r)}}var a=r.getItem(),s=t.querySelector('[role="list"]'),u=EO(t,((o=r.getClientOffset())===null||o===void 0?void 0:o.y)||0,n);if(s){if(u==="upper")if(en(a,e.parent,n)){var l=oS(e,t,r);return l===null?null:{id:e.parent,index:l}}else return{id:e.id,index:0};var i=s.querySelectorAll(':scope > [role="listitem"]');return{id:e.id,index:ap(i,r)}}else{if(u==="middle")return{id:e.id,index:0};if(en(a,e.parent,n)){var l=oS(e,t,r);return l===null?null:{id:e.parent,index:l}}return null}};var fS=function(e){return e===void 0&&(e={}),{backends:[{id:"html5",backend:kg,options:e.html5,transition:op},{id:"touch",backend:nS,options:e.touch||{enableMouseEvents:!0},preview:!0,transition:np}]}},Gu=function(e,t){return e.some(function(r){return r.parent===t})},pS=(0,j.createContext)({}),TO=function(e){var t=AO(e.tree,e.initialOpen),r=t[0],n=t[1],o=n.handleToggle,i=n.handleCloseAll,a=n.handleOpenAll,s=n.handleOpen,u=n.handleClose;(0,j.useImperativeHandle)(e.treeRef,function(){return{open:function(d){return s(d,e.onChangeOpen)},close:function(d){return u(d,e.onChangeOpen)},openAll:function(){return a(e.onChangeOpen)},closeAll:function(){return i(e.onChangeOpen)}}});var l=Ue().getMonitor(),c=e.canDrop,f=e.canDrag,p=_t(_t({extraAcceptTypes:[],listComponent:"ul",listItemComponent:"li",placeholderComponent:"li",sort:!0,insertDroppableFirst:!0,enableAnimateExpand:!1,dropTargetOffset:0,initialOpen:!1},e),{openIds:r,onDrop:function(d,m,h){if(d){var x={dragSourceId:d.id,dropTargetId:m,dragSource:d,dropTarget:Ri(e.tree,m),monitor:l},g=e.tree;if(Ri(g,d.id)||(g=it(it([],g,!0),[d],!1)),e.sort===!1){var b=cS(g,d.id,m,h),S=b[1];x.destinationIndex=S,x.relativeIndex=h,e.onDrop(SO(g,d.id,m,h),x);return}e.onDrop(xO(g,d.id,m),x)}else{var x={dropTargetId:m,dropTarget:Ri(e.tree,m),monitor:l};e.sort===!1&&(x.destinationIndex=lS(e.tree,m,h),x.relativeIndex=h),e.onDrop(e.tree,x)}},canDrop:c?function(d,m){return c(e.tree,{dragSourceId:d??void 0,dropTargetId:m,dragSource:l.getItem(),dropTarget:Ri(e.tree,m),monitor:l})}:void 0,canDrag:f?function(d){return f(Ri(e.tree,d))}:void 0,onToggle:function(d){return o(d,e.onChangeOpen)}});return j.default.createElement(pS.Provider,{value:p},e.children)},dS=(0,j.createContext)({}),wO={isLock:!1},IO=function(e){var t=(0,j.useState)(wO.isLock),r=t[0],n=t[1];return j.default.createElement(dS.Provider,{value:{isLock:r,lock:function(){return n(!0)},unlock:function(){return n(!1)}}},e.children)},Ni=(0,j.createContext)({}),ju={dropTargetId:void 0,index:void 0},MO=function(e){var t=(0,j.useState)(ju.dropTargetId),r=t[0],n=t[1],o=(0,j.useState)(ju.index),i=o[0],a=o[1],s=function(l,c){n(l),a(c)},u=function(){n(ju.dropTargetId),a(ju.index)};return j.default.createElement(Ni.Provider,{value:{dropTargetId:r,index:i,showPlaceholder:s,hidePlaceholder:u}},e.children)},_O=function(e){return j.default.createElement(TO,_t({},e),j.default.createElement(IO,null,j.default.createElement(MO,null,e.children)))},OO=function(e){var t=(0,j.useContext)(dS);(0,j.useEffect)(function(){if(e.current){var r=e.current,n=function(c){var f=c.target;(f instanceof HTMLInputElement||f instanceof HTMLTextAreaElement)&&t.lock()},o=function(c){var f=c.target;(f instanceof HTMLInputElement||f instanceof HTMLTextAreaElement)&&t.unlock()},i=function(c){return n(c)},a=function(c){return o(c)},s=function(c){return n(c)},u=function(c){return o(c)},l=new MutationObserver(function(){document.activeElement===document.body&&t.unlock()});return l.observe(r,{subtree:!0,childList:!0}),r.addEventListener("mouseover",i),r.addEventListener("mouseout",a),r.addEventListener("focusin",s),r.addEventListener("focusout",u),function(){l.disconnect(),r.removeEventListener("mouseover",i),r.removeEventListener("mouseout",a),r.removeEventListener("focusin",s),r.removeEventListener("focusout",u)}}},[e,t]),(0,j.useEffect)(function(){var r;(r=e.current)===null||r===void 0||r.setAttribute("draggable",t.isLock?"false":"true")},[e,t.isLock])},Wu={TREE_ITEM:Symbol()},mS=null,hS=function(e){var t=e.target;if(t instanceof HTMLElement){var r=t.closest('[role="listitem"]');e.currentTarget===r&&(mS=r)}},iS=function(e){return hS(e)},aS=function(e){return hS(e)},kO=function(e,t){var r=tn();(0,j.useEffect)(function(){var s=t.current;return s?.addEventListener("dragstart",iS),s?.addEventListener("touchstart",aS,{passive:!0}),function(){s?.removeEventListener("dragstart",iS),s?.removeEventListener("touchstart",aS)}},[t]);var n=N0({type:Wu.TREE_ITEM,item:function(s){var u=_t({ref:t},e);return r.onDragStart&&r.onDragStart(u,s),u},end:function(s,u){var l=s;r.onDragEnd&&r.onDragEnd(l,u)},canDrag:function(){var s=r.canDrag;return mS!==t.current?!1:s?s(e.id):!0},collect:function(s){return{isDragging:s.isDragging()}}}),o=n[0].isDragging,i=n[1],a=n[2];return[o,i,a]};var DO=function(e){var t=tn(),r=(0,j.useContext)(Ni),n=Jf({accept:it([Wu.TREE_ITEM],t.extraAcceptTypes,!0),drop:function(u,l){var c=t.rootId,f=t.onDrop,p=r.dropTargetId,d=r.index;l.isOver({shallow:!0})&&p!==void 0&&d!==void 0&&f(lp(u)?u:null,c,d),r.hidePlaceholder()},canDrop:function(u,l){var c=t.rootId;return l.isOver({shallow:!0})?u===void 0?!1:en(u,c,t):!1},hover:function(u,l){if(l.isOver({shallow:!0})){var c=t.rootId,f=r.dropTargetId,p=r.index,d=r.showPlaceholder,m=r.hidePlaceholder,h=sp(null,e.current,l,t);if(h===null||!en(u,c,t)){m();return}(h.id!==f||h.index!==p)&&d(h.id,h.index)}},collect:function(u){var l=u.getItem();return{isOver:u.isOver({shallow:!0})&&u.canDrop(),dragSource:l}}}),o=n[0],i=o.isOver,a=o.dragSource,s=n[1];return[i,a,s]},PO=function(e,t){var r=tn(),n=(0,j.useContext)(Ni),o=Jf({accept:it([Wu.TREE_ITEM],r.extraAcceptTypes,!0),drop:function(l,c){var f=n.dropTargetId,p=n.index;c.isOver({shallow:!0})&&f!==void 0&&p!==void 0&&r.onDrop(lp(l)?l:null,f,p),n.hidePlaceholder()},canDrop:function(l,c){if(c.isOver({shallow:!0})){var f=sp(e,t.current,c,r);return f===null?!1:en(l,f.id,r)}return!1},hover:function(l,c){if(c.isOver({shallow:!0})){var f=n.dropTargetId,p=n.index,d=n.showPlaceholder,m=n.hidePlaceholder,h=sp(e,t.current,c,r);if(h===null||!en(l,h.id,r)){m();return}(h.id!==f||h.index!==p)&&d(h.id,h.index)}},collect:function(l){var c=l.getItem();return{isOver:l.isOver({shallow:!0})&&l.canDrop(),dragSource:c}}}),i=o[0],a=i.isOver,s=i.dragSource,u=o[1];return[a,s,u]},AO=function(e,t){var r=(0,j.useMemo)(function(){return t===!0?e.filter(function(f){return Gu(e,f.id)}).map(function(f){return f.id}):Array.isArray(t)?t:[]},[t]),n=(0,j.useState)(r),o=n[0],i=n[1];(0,j.useEffect)(function(){return i(r)},[t]);var a=function(f,p){var d=o.includes(f)?o.filter(function(m){return m!==f}):it(it([],o,!0),[f],!1);i(d),p&&p(d)},s=function(f){i([]),f&&f([])},u=function(f){var p=e.filter(function(d){return Gu(e,d.id)}).map(function(d){return d.id});i(p),f&&f(p)},l=function(f,p){var d=[];if(Array.isArray(f)){var m=e.filter(function(h){return f.includes(h.id)&&Gu(e,h.id)});d=it(it([],o,!0),m.map(function(h){return h.id}),!0).filter(function(h,x,g){return g.indexOf(h)===x})}else d=o.includes(f)?o:it(it([],o,!0),[f],!1);i(d),p&&p(d)},c=function(f,p){var d=o.filter(function(m){return Array.isArray(f)?!f.includes(m):m!==f});i(d),p&&p(d)};return[o,{handleToggle:a,handleCloseAll:s,handleOpenAll:u,handleOpen:l,handleClose:c}]},LO=function(){return F0(function(e){var t=e.getItemType();return{item:e.getItem(),clientOffset:e.getClientOffset(),isDragging:e.isDragging()&&t===Wu.TREE_ITEM}})},tn=function(){var e=(0,j.useContext)(pS);if(!e)throw new Error("useTreeContext must be used under TreeProvider");return e},RO=function(e,t){var r=tn(),n=r.rootId,o=r.rootProps,i=r.classes,a=i?.container||"";return t&&i?.dropTarget&&(a="".concat(a," ").concat(i.dropTarget)),e===n&&i?.root&&(a="".concat(a," ").concat(i.root)),e===n&&o?.className&&(a="".concat(a," ").concat(o.className)),a=a.trim(),a},NO=function(e,t,r){t.current?r(t):r(e),(0,j.useEffect)(function(){t.current?r(t):r(e)},[t.current])},FO=function(e){var t=tn(),r=(0,j.useContext)(Ni),n=(0,j.useRef)(null),o=(0,j.useRef)(null),i=t.tree.find(function(M){return M.id===e.id}),a=t.openIds,s=t.classes,u=t.enableAnimateExpand,l=a.includes(e.id),c=kO(i,n),f=c[0],p=c[1],d=c[2],m=PO(i,n),h=m[0],x=m[1],g=m[2];NO(n,o,p),en(x,e.id,t)&&g(n),(0,j.useEffect)(function(){t.dragPreviewRender?d(bc(),{captureDraggingState:!0}):o.current&&d(n)},[d,t.dragPreviewRender]),OO(n);var b=function(){return t.onToggle(i.id)},S=t.listItemComponent,T=s?.listItem||"";h&&s?.dropTarget&&(T="".concat(T," ").concat(s.dropTarget)),f&&s?.draggingSource&&(T="".concat(T," ").concat(s.draggingSource));var w=t.canDrag?t.canDrag(e.id):!0,v=r.dropTargetId===e.id,E={depth:e.depth,isOpen:l,isDragging:f,isDropTarget:v,draggable:w,hasChild:Gu(t.tree,e.id),containerRef:n,handleRef:o,onToggle:b};return j.default.createElement(S,{ref:n,className:T,role:"listitem"},t.render(i,E),u&&E.hasChild&&j.default.createElement(hO,{isVisible:l},j.default.createElement(up,{parentId:e.id,depth:e.depth+1})),!u&&E.hasChild&&l&&j.default.createElement(up,{parentId:e.id,depth:e.depth+1}))},sS=function(e){var t=tn(),r=t.placeholderRender,n=t.placeholderComponent,o=t.classes,i=(0,j.useContext)(Ni),a=Ue(),s=a.getMonitor(),u=s.getItem();if(!r||!u)return null;var l=e.dropTargetId===i.dropTargetId&&(e.index===i.index||e.index===void 0&&e.listCount===i.index);return l?j.default.createElement(n,{className:o?.placeholder||""},r(u,{depth:e.depth})):null},up=function(e){var t=tn(),r=(0,j.useRef)(null),n=t.tree.filter(function(h){return h.parent===e.parentId}),o=n,i=typeof t.sort=="function"?t.sort:vO;if(t.insertDroppableFirst){var a=n.filter(function(h){return h.droppable}),s=n.filter(function(h){return!h.droppable});t.sort===!1?o=it(it([],a,!0),s,!0):(a=a.sort(i),s=s.sort(i),o=it(it([],a,!0),s,!0))}else t.sort!==!1&&(o=n.sort(i));var u=DO(r),l=u[0],c=u[1],f=u[2];e.parentId===t.rootId&&en(c,t.rootId,t)&&f(r);var p=RO(e.parentId,l),d=t.rootProps||{},m=t.listComponent;return j.default.createElement(m,_t({ref:r,role:"list"},d,{className:p}),o.map(function(h,x){return j.default.createElement(j.default.Fragment,{key:h.id},j.default.createElement(sS,{depth:e.depth,listCount:o.length,dropTargetId:e.parentId,index:x}),j.default.createElement(FO,{id:h.id,depth:e.depth}))}),j.default.createElement(sS,{depth:e.depth,listCount:o.length,dropTargetId:e.parentId}))},VO={height:"100%",left:0,pointerEvents:"none",position:"fixed",top:0,width:"100%",zIndex:100},BO=function(e){var t=e.clientOffset;if(!t)return{};var r=t.x,n=t.y,o="translate(".concat(r,"px, ").concat(n,"px)");return{pointerEvents:"none",transform:o}},HO=function(){var e=tn(),t=LO(),r=t.isDragging,n=t.clientOffset;return!r||!n?null:j.default.createElement("div",{style:VO},j.default.createElement("div",{style:BO(t)},e.dragPreviewRender&&e.dragPreviewRender(t)))};function zO(e,t){return j.default.createElement(_O,_t({},e,{treeRef:t}),e.dragPreviewRender&&j.default.createElement(HO,null),j.default.createElement(up,{parentId:e.rootId,depth:0}))}var gS=(0,j.forwardRef)(zO);var je=P(R());var UO=e=>{let t=[];return e.forEach(r=>{let n={id:r.prompt_id,parent:r.parent_prompt_id,data:r,droppable:r.type==="group",text:r.prompt_title};t.push(n)}),t},jO=e=>{let{sx:t}=e,{originLiteContextMenuListWithRoot:r}=Wt(),{editGroup:n,openDeleteGroupConfirm:o,createNewGroup:i}=Va(),{editPrompt:a,openDeletePromptConfirm:s}=Ba(),[u,l]=(0,je.useState)([]),[c,f]=(0,je.useState)(0),[p,d]=(0,je.useState)([]),m=(0,je.useMemo)(()=>Gi(u,w=>w.data?.path?w.data.path.split("/").length:1e6,"asc")?.[0],[u]),h=String(m?.id)||"",x=async w=>{d(w)},g=async w=>{w.type==="group"?n(w):await a(w)},b=w=>{w.type==="group"?o(w):s(w)},S=async(w,v)=>{let E=v.dragSource?.data,M=E?.prompt_id,I=E?.type==="group",k=v.dragSource?.data?.parent_prompt_id,F=I?h:v.dropTargetId,H=0;if(M&&k&&F){let A=v.dragSource?.id,N={};w.forEach(L=>{if(L.data?.path){let W=L.data.path.split("/").slice(0,-1).join("/"),$=N[W]||0;L.data.display_order=$,L.data.prompt_id===M&&(H=$),N[W]=$+1}}),A&&Or.moveContextMenuNode(M,k,String(F),H).then().catch(),l(w)}};(0,je.useEffect)(()=>{if(r){let w=Dr(r),v=UO(w);l(v),f(E=>E+1),d(v.filter(E=>E.data?.type==="group").map(E=>E.id))}},[r]);let{setDisableDrop:T}=Vd();return je.default.createElement(We,{onMouseEnter:()=>{T(!0)},onMouseLeave:()=>{T(!1)},onMouseDown:()=>{T(!0)},onMouseUp:()=>{T(!1)},sx:{flex:1,position:"relative",zIndex:2,display:"flex",flexDirection:"column",outline:"none!important","&::-webkit-scrollbar":{webkitAppearance:"none",width:"7px"},"&::-webkit-scrollbar-thumb":{borderRadius:"4px",backgroundColor:"rgba(0, 0, 0, .5)",boxShadow:"0 0 1px rgba(255, 255, 255, .5)"},"& ul":{padding:0,margin:0,listStyle:"none"},"& > ul li":{padding:0,margin:0,listStyle:"none"},li:{"&:has(> .dragTarget)":{borderRadius:"4px",outline:w=>(w.palette.mode==="dark","3px solid #EBEBEB!important"),bgcolor:w=>w.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.02)"}},"& > ul":{p:.5,"&:empty":{display:"none"}},".context-menu__placeholder":{position:"relative"},...t}},je.default.createElement(h0,{backend:Vu,options:fS()},je.default.createElement(gS,{key:c,onChangeOpen:x,initialOpen:p,tree:u,rootId:h,onDrop:S,sort:!1,classes:{root:"context-menu__root",placeholder:"context-menu__placeholder",dropTarget:"context-menu__drop-target"},canDrop:(w,{dragSource:v,dropTargetId:E,dropTarget:M})=>v?v.data?.type==="group"?E===h:E!==h&&M?.data?.type==="group"?!w.filter(k=>k.parent===E).find(k=>k.data?.prompt_title===v.data?.prompt_title&&k.data?.prompt_id!==v.data?.prompt_id):!1:!1,placeholderRender:(w,v)=>je.default.createElement(WO,{node:w,depth:v.depth}),dragPreviewRender:w=>je.default.createElement(GO,{...w}),dropTargetOffset:0,insertDroppableFirst:!1,render:(w,v)=>je.default.createElement(Cg,{rootId:h,isDropTarget:w.data?.type==="group"&&v.isDropTarget,node:w,params:v,onEdit:g,onDelete:b})})))},GO=e=>{let{item:t}=e;return t.data?je.default.createElement(Eg,{liteContextMenuItem:t.data}):null},WO=({node:e,depth:t})=>je.default.createElement(We,{sx:{bgcolor:"#666",height:3,position:"absolute",right:0,transform:"translateY(-50%)",top:0,zIndex:100},style:{left:t*24}}),vS=jO;var cp=P(R()),qO=e=>{let{sx:t}=e;return cp.default.createElement(de,{sx:{width:"100%",height:"100%",...t}},cp.default.createElement(vS,{sx:{height:0,flex:1,overflowY:"auto"}}))},xS=qO;var qu=P(R());var KO=()=>{let[e,t]=(0,qu.useState)(null);return(0,qu.useEffect)(()=>{Ui()==="mail.google.com"&&t("GMAIL")},[]),{currentPageType:e}},yS=KO;var Ku=P(R()),YO=()=>{let{t:e}=Me(),{mode:t,changeMode:r}=Ne(),{refetch:n}=Wt(),{currentPageType:o}=yS(),i=e(t==="list"?"package__features:context_menu__lite_editor__change_mode_button__edit":"package__features:context_menu__lite_editor__change_mode_button__done");return Ku.default.createElement(on,{key:i,placement:o==="GMAIL"?"top":"top-end",title:i,disabledClickEvent:!0,onClick:async()=>{await Dt({emitEvent:!0})&&((t==="list"?"edit":"list")==="edit"&&Or.checkUpdate().then(s=>{s&&n("ChangePanelModeButton")}),n("ChangePanelModeButton"),r(t==="list"?"edit":"list"))}},t==="list"&&Ku.default.createElement(Re,{icon:"PromptEdit"}),t==="edit"&&Ku.default.createElement(Re,{icon:"Done"}))},bS=YO;var Cr=P(R()),XO=e=>{let{sx:t,promptData:r}=e,{t:n}=Me(),{originLiteContextMenuList:o}=Wt(),{createNewPrompt:i,isOpen:a}=Ba(),{createNewGroup:s}=Va(),{selectedType:u}=sd(),l=Cr.default.useRef(null),[c,f]=Cr.default.useState(void 0);(0,Cr.useEffect)(()=>{if(u==="MY_OWN_TOOLS"&&o.length===0&&!a){f(!0);let m=setTimeout(()=>{let h=new MouseEvent("mouseover",{bubbles:!0,cancelable:!0,view:window});l.current?.dispatchEvent(h)},0);return()=>clearTimeout(m)}else{let m=new MouseEvent("mouseout",{bubbles:!0,cancelable:!0,view:window});l.current?.dispatchEvent(m),f(!1)}},[u,o]),(0,Cr.useEffect)(()=>{},[c]);let p=r?.prompt_id?n("package__features:context_menu__lite_editor__modal__edit_tool__title__edit"):n("package__features:context_menu__lite_editor__modal__edit_tool__title__add"),d=r?.prompt_id?void 0:[{icon:null,label:n("package__features:context_menu__lite_editor__modal__edit_group__title__add"),value:"add-new-group"},{icon:null,label:p,value:"add-new-tool"}];return(0,Cr.useEffect)(()=>{},[c]),Cr.default.createElement(on,{disabledClickEvent:!0,buttonRefBind:m=>{l.current=m},placement:"top-end",defaultOptionValue:"add-new-tool",options:d,...c?{PopoverProps:{open:!0},actived:!0}:{},tooltipProps:{PopperProps:{disablePortal:!0},disableInteractive:!0},PopoverProps:{sx:{zIndex:"2147483620"}},OptionsCardProps:{sx:{width:"144px",position:"relative",right:"-8px"}},title:d&&d.length<1?p:null,sx:t,onSelectOption:async m=>{await Dt({emitEvent:!0})&&(m==="add-new-tool"?i(r):s())}},Cr.default.createElement(Re,{icon:"Add"}))},SS=XO;var Yu=P(R()),$O=e=>{let{sx:t}=e;return Yu.default.createElement(de,{direction:"row",alignItems:"center",justifyContent:"end",p:"4px",gap:"8px",bgcolor:r=>r.palette.mode==="dark"?"#363839":"#f9f9f9",sx:t},Yu.default.createElement(SS,null),Yu.default.createElement(bS,null))},CS=$O;var Ot=P(R()),QO=e=>{let{sx:t,children:r,manualFetch:n=!1,LiteContextMenuEditViewProps:o,LiteContextMenuPositionSettingsProps:i,showToolbar:a}=e,[s,u]=(0,Ot.useState)(""),{mode:l,contextMenuPath:c}=Ne(),{refetch:f}=Wt(),p=(0,Ot.useMemo)(()=>c==="/rewrite"?l==="edit"?!0:s==="":c==="/compose_reply",[c,s,l]);return(0,Ot.useEffect)(()=>{if(c==="/rewrite"){let d=m=>{u(m)};return kr("floatingMenuInputMediator").subscribe(d),()=>{kr("floatingMenuInputMediator").unsubscribe(d)}}},[c]),(0,Ot.useEffect)(()=>{n||f("FloatingLiteContextMenuLayout")},[n,c]),Ot.default.createElement(de,{sx:{width:"100%",height:"100%",maxHeight:"inherit",overflowY:"hidden",...t}},l==="edit"&&Ot.default.createElement(bm,{...i}),l==="list"&&r,l==="edit"&&Ot.default.createElement(xS,{...o,sx:{minHeight:"192px",...i?.sx}}),p&&a&&Ot.default.createElement(CS,null))},ES=QO;var pp=P(TS()),IS=P(wS());var Z=P(R()),we=P(R());function Fi(){let e=!!navigator.userAgent.match("Windows"),t=!!navigator.userAgent.match("Linux"),r=!!navigator.userAgent.match("Chrome")&&!navigator.userAgent.match("Edg");return e&&r||t?"thin":"auto"}var ok=(e,t,r)=>Op(e,t,r,{animationFrame:!0}),dp=Z.forwardRef(({label:e,icon:t,CustomRenderNode:r,onClick:n,isGroup:o,sx:i,onCustomMouseEnter:a,...s},u)=>{let l=s,c=(0,we.useMemo)(()=>Fi(),[]),f=a?{...s,onMouseEnter:p=>{a(p)}}:s;return Z.createElement(We,{...f,sx:{boxSizing:"border-box",borderRadius:"3px",height:"28px",fontSize:"14px",width:"100%",cursor:"pointer",scrollbarColor:p=>p.palette.scrollbarColor,scrollbarWidth:c,"&.floating-context-menu-item--active":{bgcolor:p=>p.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(55, 53, 47, 0.08)","& .floating-context-menu-item__footer-icon":{display:"flex"}},"& .floating-context-menu-item__footer-icon":{display:"none",flexShrink:0},"& .floating-context-menu-item__footer-icon--active":{display:"flex"},"&:hover":{bgcolor:p=>p.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(55, 53, 47, 0.08)","& .floating-context-menu-item__footer-icon":{display:"flex"}},...i},ref:u,component:"div",role:"menuitem",onClick:p=>{n?.(p),l?.onClick?.(p)}},Z.createElement(We,null,r??Z.createElement(de,{direction:"row",spacing:1,px:1,alignItems:"center"},t&&Z.createElement(Re,{size:16,icon:t||"Empty",sx:{color:"primary.main",flexShrink:0}}),Z.createElement(Ce,{fontSize:14,textAlign:"left",color:"text.primary",width:0,noWrap:!0,flex:1,lineHeight:"28px"},e),o&&Z.createElement(pp.default,{sx:{ml:"auto",mr:0,flexShrink:0,color:p=>p.palette.mode==="dark"?"#ffffff85":"rgba(55, 53, 47, 0.45)",fontSize:16}}))))});dp.displayName="LiteDropdownMenuItem";var ik=Z.forwardRef(({menuItem:e,hoverIcon:t,...r},n)=>{let o=r,{t:i}=Me(),a=ye(Jd),[s,u]=et(Ro),l=(0,we.useMemo)(()=>{let h=`context_menu__prompt__${e.prompt_id.replace(Pt,"")}`,x=`package__features:${h}`,g=i(x);return g!==x&&g!==h?g:e.prompt_title},[e.prompt_title,i,e.prompt_id]),c=(0,we.useMemo)(()=>a.includes(e.prompt_id)||e.prompt_id===s.lastHoverContextMenuId,[a,s.lastHoverContextMenuId,e.prompt_id]),f=(0,we.useMemo)(()=>s.lastHoverContextMenuId===e.prompt_id&&c,[c,s.lastHoverContextMenuId,e.prompt_id]),p=(0,we.useMemo)(()=>Fi(),[]),d=(0,we.useMemo)(()=>{try{return`dropdown-menu--item--${e.prompt_title.replace(/\s+/g,"-").toLowerCase()}`}catch{return""}},[e.prompt_title]),m=(0,we.useMemo)(()=>{let h=e.parent_prompt_id,x=e.prompt_title;return h==="4d226b15-9e21-42ba-8af8-57d6fbae5a3d"&&(x=`Translate > ${e.prompt_title}`),h==="718dae5a-8c58-47a7-9089-5dc02cedbc3c"&&(x=`Change tone > ${e.prompt_title}`),h===be.REWRITE&&(x=`Rewrite > ${e.prompt_title}`),x},[e.prompt_title,e.parent_prompt_id]);return Z.createElement(We,{...r,"data-id":e.prompt_id,"data-testid":d,"data-button-clicked-name":m,className:`floating-context-menu-item ${c?"floating-context-menu-item--active":""}`,tabIndex:c?0:-1,sx:{display:"flex",alignItems:"center",flexDirection:"row",gap:"12px",boxSizing:"border-box",p:"6px 8px",borderRadius:"4px",fontSize:"14px",width:"100%",cursor:"pointer",scrollbarColor:h=>h.palette.scrollbarColor,scrollbarWidth:p,"&.floating-context-menu-item--active":{bgcolor:h=>h.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(55, 53, 47, 0.08)","& .floating-context-menu-item__footer-icon":{display:"flex"}},"& .floating-context-menu-item__footer-icon":{display:"none",flexShrink:0},"& .floating-context-menu-item__footer-icon--active":{display:"flex"},"&:hover":{bgcolor:h=>h.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(55, 53, 47, 0.08)","& .floating-context-menu-item__footer-icon":{display:"flex"},transition:"background-color 80ms ease-in-out"}},ref:n,component:"div",role:"menuitem",onKeyDown:async h=>{if(o?.onKeyDown?.(h),h.code==="Enter"){if(!await Dt({emitEvent:!0})){h.stopPropagation();return}if(rt()?.querySelector('div[data-testid="maxai--conversation--rename-chat--input"] input'))return;u(g=>({...g,selectedContextMenuId:e.prompt_id})),h.stopPropagation()}},onClick:async()=>{await Dt({emitEvent:!0})&&u(h=>({...h,selectedContextMenuId:e.prompt_id}))}},e?.prompt_icon&&Z.createElement(Re,{size:20,icon:e.prompt_icon,sx:{color:"text.secondary",flexShrink:0}}),Z.createElement(Ce,{fontSize:14,textAlign:"left",color:"text.primary",width:0,noWrap:!0,flex:1,lineHeight:"21px"},l),Z.createElement("span",{className:"floating-context-menu-item__footer-icon "+(e.type==="group"?"floating-context-menu-item__footer-icon--active":"")},e.type==="group"?Z.createElement(pp.default,{sx:{color:h=>h.palette.mode==="dark"?"#ffffff85":"rgba(55, 53, 47, 0.45)",fontSize:16}}):f&&t?t:Z.createElement(IS.default,{className:"floating-context-menu-item__footer-hover-icon",sx:{color:h=>h.palette.mode==="dark"?"#ffffff85":"rgba(55, 53, 47, 0.45)",fontSize:16}})))});ik.displayName="DropdownMenuItem";var fp=Z.forwardRef(({referenceElement:e,referenceElementOpen:t,referenceElementRef:r,zIndex:n,children:o,label:i,root:a,hoverOpen:s=!0,customOpen:u=!1,needAutoUpdate:l=!1,menuSx:c,defaultPlacement:f,defaultFallbackPlacements:p,onClickContextMenu:d,onClickReferenceElement:m,menuWidth:h=400,onOpenChange:x,customOffset:g={},...b},S)=>{let T=ld(),w=cd(),v=nl(),{currentFloatingContextMenuDraft:E}=Yo(),M=!v&&n===2147483601,[I,k]=et(Ro),F=v!=null,[H,A]=Z.useState(u?t:!1),N=_=>{W.current&&clearTimeout(W.current),A(_)},L=ye(st),W=(0,we.useRef)(null);(0,we.useEffect)(()=>{let _=1;return L.openAutoExecute===!0&&(_=2e3),W.current&&clearTimeout(W.current),W.current=setTimeout(()=>{N(t)},_),()=>{W.current&&clearTimeout(W.current)}},[t]);let[$,me]=Z.useState(M?1:null),[xe,C]=Z.useState(!1),ee=(0,we.useRef)(null),ae=(0,we.useRef)(null),y=Z.useRef([]),V=f||(M?"bottom-start":"right-start"),G=p||(M?["bottom-start","top-start","right"]:["right","right-start","right-end","left","left-start","left-end"]),he=()=>{me(null),ae.current=null,ee.current=null},De=Z.Children.count(o);(0,we.useEffect)(()=>{De||(me(null),ae.current=null,ee.current=null)},[De]);let X=Ke(L.open),{open:ue}=nd(),{x:te,y:Pe,strategy:Ae,refs:Oe,context:Ie}=xd({nodeId:w,open:H,onOpenChange:async _=>{ue&&!_||(x?.(_),_||he(),!u&&N(_))},placement:V,middleware:[kp({mainAxis:M?4:0,alignmentAxis:M?0:-4,...g}),Pp({fallbackPlacements:G}),Dp()],whileElementsMounted:l?ok:void 0}),Tr=dd(Ie,{enabled:s&&xe,delay:{open:75,close:0},handleClose:Cd({blockPointerEvents:!0,requireIntent:!1,buffer:5})}),or=gd(Ie,{event:"mousedown",toggle:!F||!xe,ignoreMouse:F}),ir=Sd(Ie,{role:"menu"}),_o=vd(Ie),wr=(0,we.useRef)(null),Vi=bd(Ie,{listRef:y,activeIndex:$,nested:F,onNavigate(){let _=()=>{if(!X.current)return;let Q=rt()?.querySelector(`#${Ln}`);Q&&Q?.focus()},z=v?"[\u5B50\u7EA7]":"[\u6839\u7EA7]",B=wr.current?.key;if(B){let Q=!1,se=null;ae.current&&(Q=!0,se=Qu(ae.current));let oe=[];y.current?.forEach((fe,jt)=>{let Le=fe?.getAttribute("data-id");Le&&oe.push({floatingUIId:fe?.id?.replace(/:/g,"\\:")||"",contextMenuId:Le,contextMenuIndex:jt})}),k(fe=>{let jt=fe.hoverContextMenuIdMap[w]||fe.lastHoverContextMenuId||"";Q&&se?.contextMenuId&&(jt=se.contextMenuId);let Le=oe.findIndex(Pn=>Pn.contextMenuId===jt);if(B==="ArrowLeft")return me(null),_(),{...fe,lastHoverContextMenuId:null,hoverContextMenuIdMap:{...fe.hoverContextMenuIdMap,[w]:""}};if(B==="ArrowRight")if(oe.length>0){let Pn=oe[0];return me(Pn.contextMenuIndex),_(),{...fe,hoverContextMenuIdMap:{...fe.hoverContextMenuIdMap,[w]:""},lastHoverContextMenuId:Pn.contextMenuId}}else return me(null),_(),{...fe,lastHoverContextMenuId:null,hoverContextMenuIdMap:{...fe.hoverContextMenuIdMap,[w]:""}};let Ge=!1,ar=wr.current?.target,vt=ar?.getAttribute("data-lastid");if(vt&&(Le=oe.findIndex(Pn=>Pn.floatingUIId===vt),ar.removeAttribute("data-lastid"),Ge=!0),Le===-1&&(v||(Le=0)),Le===-1)return _(),fe;let sr=null;return B==="ArrowDown"?Ge||Q?sr=oe[Le]:oe[Le+1]?sr=oe[Le+1]:sr=oe[0]:B==="ArrowUp"&&(oe[Le-1]?sr=oe[Le-1]:sr=oe[oe.length-1]),sr?(me(sr.contextMenuIndex),_(),{...fe,hoverContextMenuIdMap:{...fe.hoverContextMenuIdMap,[w||""]:sr.contextMenuId},lastHoverContextMenuId:sr.contextMenuId}):(_(),fe)}),wr.current=null}},loop:!0,virtual:!0}),{getReferenceProps:Bi,getFloatingProps:el,getItemProps:tl}=yd([Tr,or,ir,_o,Vi]);Z.useEffect(()=>{if(!T)return;function _(){u||N(!1)}function z(B){B.nodeId!==w&&B.parentId===v&&N(!1)}return T.events.on("click",_),T.events.on("menuopen",z),()=>{T.events.off("click",_),T.events.off("menuopen",z)}},[T,w,v,u]),Z.useEffect(()=>{H&&T&&T.events.emit("menuopen",{parentId:v,nodeId:w})},[T,H,w,v]),Z.useEffect(()=>{function _({pointerType:B}){B!=="touch"&&C(!0)}function z(){C(!1)}return window.addEventListener("pointermove",_,{once:!0,capture:!0}),window.addEventListener("keydown",z,!0),()=>{window.removeEventListener("pointermove",_,{capture:!0}),window.removeEventListener("keydown",z,!0)}},[xe]),(0,we.useEffect)(()=>{let _=!1;return M&&I.lastHoverContextMenuId&&o&&setTimeout(()=>{_||me(z=>{let B=o.findIndex(Q=>Q?.key===I.lastHoverContextMenuId);return B!==-1&&z===null?B:z})},0),()=>{_=!0}},[I.lastHoverContextMenuId,o]);let Hi=ud([Oe.setReference,S,r]),zi=(0,we.useCallback)(()=>{let _=I.lastHoverContextMenuId;if(_){let z=rt()?.querySelector(`[data-id="${_}"]`);z&&z.dispatchEvent(new KeyboardEvent("keydown",{key:"Enter",bubbles:!0,cancelable:!0,code:"Enter",keyCode:13}))}},[I]);(0,we.useEffect)(()=>{L.open||(he(),k(_=>({..._,hoverContextMenuIdMap:{},lastHoverContextMenuId:null})))},[L.open]);let O=(0,we.useMemo)(()=>Fi(),[]);return Z.createElement(fd,{id:w},e?Z.isValidElement(e)&&Z.cloneElement(e,{...Bi({...b,className:`${F?"MenuItem":"RootMenu"}`,onClick(_){_.stopPropagation(),m?.(_)},async onKeyDownCapture(_){if(rt()?.querySelector(".LANGUAGE_SELECTOR_AUTOCOMPLETE_OPEN")||rt()?.querySelector(".MAXAI_CLIENT__UI__SELECT"))return!1;if(_.key==="Enter"&&!_.shiftKey&&!v){if(!await Dt({emitEvent:!0}))return;if($!==null){v||_.stopPropagation();let z=y.current[$];if(ee.current){let B=ee.current?.getAttribute("aria-controls")?.replace(/:/g,"\\:"),Q=rt()?.querySelector(`#${B}`);if(Q){let se=Q.getAttribute("aria-activedescendant")?.replace(/:/g,"\\:");if(se){let oe=Q.querySelector(`#${se}`);oe.id&&oe.getAttribute("aria-haspopup")&&(z=oe)}else zi()}}if(z&&z.getAttribute("aria-haspopup")==="menu"){z.focus(),z.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowRight",bubbles:!0,cancelable:!0})),ee.current=z;return}else zi()}return}if(_.key==="ArrowDown"||_.key==="ArrowUp"||_.key==="ArrowLeft"||_.key==="ArrowRight"){if(ae.current=null,_.key==="ArrowLeft"){if(!v&&ee.current){let B=Qu(ee.current);B?.parentDropdownSelectedItem&&(B.dropdownSelectedItem.focus(),B.dropdownSelectedItem.dispatchEvent(new KeyboardEvent("keydown",{key:_.key,bubbles:!0,cancelable:!0})),B.parentDropdownSelectedItem&&B.id&&(B.parentDropdownSelectedItem.setAttribute("data-lastid",B.id),B.parentDropdownSelectedItem.focus(),B.parentDropdownSelectedItem.classList.contains("RootMenu")?ee.current=null:ee.current=B.parentDropdownSelectedItem,B.parentDropdownSelectedItem.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowDown",bubbles:!0,cancelable:!0}))))}return}else if(_.key==="ArrowRight"&&!v&&$!==null){let B=y.current[$];if(ee.current){let Q=ee.current?.getAttribute("aria-controls")?.replace(/:/g,"\\:"),se=rt()?.querySelector(`#${Q}`);if(se){let oe=se.getAttribute("aria-activedescendant")?.replace(/:/g,"\\:"),fe=se.querySelector(`#${oe}`);fe.id&&fe.getAttribute("aria-haspopup")&&(B=fe)}}B&&B.getAttribute("aria-haspopup")==="menu"&&(B.focus(),B.dispatchEvent(new KeyboardEvent("keydown",{key:_.key,bubbles:!0,cancelable:!0})),ee.current=B);return}else if(ee.current&&rt()?.contains(ee.current)){ee.current.focus(),ee.current.dispatchEvent(new KeyboardEvent("keydown",{key:_.key,bubbles:!0,cancelable:!0}));return}rt()?.querySelector(`#${Ln}`)?.focus(),wr.current=_}},...F&&{role:"menuitem"},ref:Hi})}):Z.createElement(lr,{ref:Hi,...Bi({...b,className:`${F?"MenuItem":"RootMenu"}`,onClick(_){_.stopPropagation()},...F&&{role:"menuitem"}}),startIcon:Z.createElement(td,{sx:{fontSize:16,color:"inherit"}}),variant:"outlined"},i||"Use ChatGPT"),Z.createElement(md,{root:a},H&&Z.Children.count(o)&&Z.createElement(hd,{context:Ie,modal:!1,returnFocus:F,initialFocus:-1,visuallyHiddenDismiss:!0},Z.createElement(We,{sx:{zIndex:(n||0)+1,display:H?"flex":"none",flexDirection:"column",outline:"none!important",width:h,maxHeight:340,boxSizing:"border-box",overflowY:"auto",bgcolor:"background.paper",borderRadius:"8px",border:_=>_.palette.mode==="dark"?"1px solid rgba(255,255,255,0.08)":"1px solid rgba(0,0,0,0.08)",boxShadow:"0px 4px 6px -2px rgba(16, 24, 40, 0.03), 0px 12px 16px -4px rgba(16, 24, 40, 0.08)","& *":{outline:"none!important"},"&:has(.max-ai--popper-wrapper)":{overflowY:"unset"},scrollbarColor:_=>_.palette.scrollbarColor,scrollbarWidth:O,...c},component:"div",ref:Oe.setFloating,className:"Menu dropdown-menu",style:{position:Ae,top:Pe??0,left:te??0},onWheel:_=>{_.stopPropagation()},...el()},Z.createElement(ES,{manualFetch:!0,showToolbar:M&&!E},Z.createElement(de,{flex:1,height:0,p:.5,sx:{overflowY:"auto"}},Z.Children.map(o,(_,z)=>Z.isValidElement(_)&&Z.cloneElement(_,tl({tabIndex:$===z?0:-1,ref(B){y.current[z]=B},async onMouseDown(B){await Dt({emitEvent:!0})&&d&&(T?.events.emit("click"),_.props?.menuItem?.actions?.length&&d?.(_.props.menuItem,B))},onClick(B){d||(_.props.onClick?.(B),T?.events.emit("click"))},onKeyDownCapture(B){wr.current=B},async onMouseEnter(B){B.stopPropagation(),B.preventDefault();let Q=B.currentTarget;if(Q.getAttribute("data-id")){ee.current=Q;let se=Qu(Q);if((se?.id||se?.contextMenuId)&&se.expandedSiblingMenuItem){if(se.expandedSiblingMenuItem?.getAttribute("data-id")===se.contextMenuId)return;let oe=Qu(se.expandedSiblingMenuItem);if(oe?.dropdownSelectedItem){let fe=new KeyboardEvent("keydown",{key:"ArrowLeft",bubbles:!0,cancelable:!0});ae.current=oe.dropdownSelectedItem,oe.dropdownSelectedItem.focus(),oe.dropdownSelectedItem.dispatchEvent(fe),se.expandedSiblingMenuItem.setAttribute("data-lastid",se.contextMenuId),se.expandedSiblingMenuItem.classList.contains("RootMenu")?ee.current=null:ee.current=oe.parentDropdownSelectedItem,se.expandedSiblingMenuItem.focus(),se.expandedSiblingMenuItem.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowDown",bubbles:!0,cancelable:!0}))}}if(await new Promise(oe=>setTimeout(oe,80)),se?.id){let oe=new KeyboardEvent("keydown",{key:"ArrowDown",bubbles:!0,cancelable:!0});ae.current=Q,se.keydownEmitElement?.dispatchEvent(oe);let fe=new KeyboardEvent("keydown",{key:"ArrowRight",bubbles:!0,cancelable:!0});ae.current=Q,Q.dispatchEvent(fe)}else if(se?.contextMenuId){let oe=new KeyboardEvent("keydown",{key:"ArrowDown",bubbles:!0,cancelable:!0});ae.current=Q,Q.dispatchEvent(oe)}}}})))))))))});fp.displayName="MenuComponent";var ak=Z.forwardRef((e,t)=>nl()===null?Z.createElement(pd,null,Z.createElement(fp,{...e,ref:t})):Z.createElement(fp,{...e,ref:t}));ak.displayName="DropdownMenu";var Qu=e=>{let t=rt();if(!e||!t)return null;let r=e.getAttribute("id")?.replace(/:/g,"\\:")||"",n=e.getAttribute("data-id")||"",o=e.getAttribute("aria-haspopup")==="menu",i=t.querySelector(`div[aria-haspopup="menu"][aria-activedescendant="${r}"]`),a=i?.getAttribute("aria-controls")?.replace(/:/g,"\\:"),s=a?t.querySelector(`[id="${a}"]`):null,u=e.getAttribute("aria-controls")?.replace(/:/g,"\\:"),l=u?t.querySelector(`[id="${u}"]`):null,c=null;l&&!c&&(c=l.querySelector('.floating-context-menu-item--active:not([aria-haspopup="menu"])'),c||(c=l.querySelector('.floating-context-menu-item:not([aria-haspopup="menu"])')));let f=e.parentElement?.querySelector('.floating-context-menu-item:not([aria-haspopup="menu"])'),p=e.parentElement?.querySelector('.floating-context-menu-item[aria-expanded="true"]');return{id:r,contextMenuId:n,isMenu:o,parentDropdownSelectedItem:i,parentDropdown:s,dropdownMenu:l,dropdownSelectedItem:c,keydownEmitElement:f,expandedSiblingMenuItem:p}};var lt=P(R());var MS=P(PS());var Ut=P(R()),sk=e=>{let{sx:t,...r}=e,[n,o]=(0,Ut.useState)(!0),[i,a]=(0,Ut.useState)(!0);return(0,Ut.useEffect)(()=>{n||setTimeout(()=>a(!1),500)},[n]),Ut.default.createElement(de,{direction:"row",sx:{display:i?"flex":"none",width:t?.width||"100%"}},Ut.default.createElement(Ip,{in:n,sx:{width:t?.width||"100%"}},Ut.default.createElement(_p,{sx:t,severity:"info",...r,action:e.action?e.action:Ut.default.createElement(Mp,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{o(!1)}},Ut.default.createElement(MS.default,{fontSize:"inherit"}))})))},_S=sk;var uk=qd("/images/settings/entry/settings-entry-small.png"),lk=({liteMode:e,onClickSettings:t})=>{let r=lt.default.createElement(Ce,{fontSize:14,color:"text.primary",sx:{cursor:"pointer"},onClick:t},lt.default.createElement(Wi,{i18nKey:"client:floating_menu__button__hide_menu__this_site__tooltip__description",components:[lt.default.createElement(Ce,{key:"settings",component:"span",color:"primary.main",fontSize:"inherit",fontWeight:"inherit",sx:{textDecoration:"underline"}})]}));return lt.default.createElement(lt.default.Fragment,null,e?lt.default.createElement(We,{sx:{borderRadius:"4px",bgcolor:n=>n.palette.mode==="dark"?"rgb(7, 19, 24)":"rgb(229, 246, 253)",color:n=>n.palette.mode==="dark"?"rgb(184, 231, 251)":"rgb(1, 67, 97)",p:2,overflow:"hidden"}},lt.default.createElement(de,{spacing:1,alignItems:"center"},r,lt.default.createElement("img",{src:uk,alt:"settings-entry",width:217,height:162}))):lt.default.createElement(_S,{icon:lt.default.createElement(lt.default.Fragment,null),sx:{mt:1,mb:2}},lt.default.createElement(de,{spacing:1},r,lt.default.createElement("img",{src:"https://www.maxai.co/assets/chrome-extension/settings-entry.png",alt:"settings-entry",width:466,height:121}))))},OS=lk;var ck=e=>{let{dataButtonClickedName:t,onClickSettings:r,onClickConfirmOk:n,onClickConfirmCancel:o,confirmTitle:i,confirmOkText:a,confirmCancelText:s,itemText:u}=e,[l,c]=(0,Je.useState)(!1);return Je.default.createElement(dp,{"data-button-clicked-name":t,sx:{height:"auto",position:"relative"},onMouseLeave:()=>{c(!1)},CustomRenderNode:Je.default.createElement(Je.default.Fragment,null,Je.default.createElement(Vp,{componentsProps:{tooltip:{sx:{bgcolor:"transparent",p:0}}},PopperProps:{disablePortal:!0},placement:"top",title:Je.default.createElement(Ap,{sx:{p:3,width:288,boxSizing:"border-box",cursor:"auto",boxShadow:f=>f.palette.mode==="dark"?"0 0 4px rgba(255,255,255,0.2)":"0 0 4px rgba(0,0,0,0.2)"}},Je.default.createElement(de,{spacing:1},Je.default.createElement(Ce,{textAlign:"center",fontWeight:"600",fontSize:"16px",color:"text.primary"},i),Je.default.createElement(OS,{liteMode:!0,onClickSettings:f=>{r?.(f),c(!1)}}),Je.default.createElement(We,null),Je.default.createElement(lr,{variant:"outlined",color:"primary",onClick:async f=>{await n?.(f),c(!1)}},a),Je.default.createElement(lr,{variant:"contained",color:"primary",onClick:f=>{o?.(f),c(!1)}},s))),open:l,disableHoverListener:!0},Je.default.createElement("span",null,Je.default.createElement(vg,{label:u,onClick:async()=>{await Dt({emitEvent:!0})&&c(!l)}}))))})},mp=ck;var Dn=P(R()),fk=e=>{let{i18nKey:t="client:floating_menu__button__menu_settings",onClick:r}=e;return Dn.default.createElement(Np,{sx:{padding:"4px!important",borderRadius:"0 0 6px 6px"},onClick:r},Dn.default.createElement(qi,{sx:{padding:"0px 8px!important",borderRadius:"4px"}},Dn.default.createElement(Ki,{primary:Dn.default.createElement(Ce,{noWrap:!0,fontSize:"13px",color:n=>n.palette.mode==="dark"?"rgba(255,255,255,0.38)":"rgba(0,0,0,0.38)"},Dn.default.createElement(Wi,{i18nKey:t,components:[Dn.default.createElement(Ce,{key:"settings",component:"span",color:"primary.main",fontSize:"inherit",fontWeight:"inherit",sx:{textDecoration:"underline"}})]}))})))},kS=fk;var DS=(0,Er.forwardRef)((e,t)=>{let{t:r}=Me(["common","client"]),{sx:n,hideThisSiteItemDataButtonClickedName:o,hideThisSiteItemText:i,hideThisSiteConfirmCardTitle:a,hideThisSiteConfirmCardOkText:s,hideThisSiteConfirmCardCancelText:u=r("common:cancel"),onHideThisSiteConfirmCardClickCancel:l,onHideThisSiteConfirmCardClickOk:c,hideAllSitesItemDataButtonClickedName:f,hideAllSitesItemText:p,hideAllSitesConfirmCardTitle:d,hideAllSitesConfirmCardOkText:m,hideAllSitesConfirmCardCancelText:h=r("common:cancel"),onHideAllSitesConfirmCardClickCancel:x,onHideAllSitesConfirmCardClickOk:g,openSettingsItemTextI18nKey:b="client:floating_menu__button__menu_settings",onClickSettings:S}=e;return Er.default.createElement(Rp,{component:"div",ref:t,sx:{padding:"0px!important",bgcolor:T=>T.palette.background.paper,border:T=>T.palette.mode==="dark"?"1px solid rgba(255,255,255,0.08)":"1px solid rgba(0,0,0,0.08)",borderRadius:"8px",boxShadow:"0px 4px 6px -2px rgba(16, 24, 40, 0.03), 0px 12px 16px -4px rgba(16, 24, 40, 0.08)",...n}},Er.default.createElement(We,{sx:{padding:"4px"}},Er.default.createElement(mp,{dataButtonClickedName:o,onClickSettings:S,onClickConfirmOk:c,onClickConfirmCancel:l,itemText:i,confirmTitle:a,confirmOkText:s,confirmCancelText:u}),Er.default.createElement(mp,{dataButtonClickedName:f,onClickSettings:S,onClickConfirmOk:g,onClickConfirmCancel:x,itemText:p,confirmTitle:d,confirmOkText:m,confirmCancelText:h})),Er.default.createElement(Lp,null),Er.default.createElement(kS,{i18nKey:b,onClick:S}))});DS.displayName="HideMenuOptions";var oJ=DS;export{Va as a,ew as b,pg as c,R2 as d,hg as e,Ba as f,Ik as g,Vk as h,bm as i,Tm as j,PD as k,Vo as l,jS as m,Mm as n,TS as o,wS as p,Om as q,xS as r,CS as s,Yh as t,Pa as u,sT as v,sw as w,ym as x,Fo as y,Ke as z,fT as A,sc as B,pT as C,an as D,Yo as E,gT as F,vT as G,jT as H,GT as I,uB as J,hB as K,pn as L,YT as M,VS as N,Lm as O,ik as P,ak as Q,c2 as R,f2 as S,p2 as T,d2 as U,hk as V,yk as W,oJ as X,v2 as Y,M2 as Z};
