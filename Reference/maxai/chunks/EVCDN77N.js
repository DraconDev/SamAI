import{h as Qe}from"./F5E7GPVZ.js";import{b as Je}from"./YYNJ5ORL.js";import{d as eo,i as oo,j as to}from"./BTVCBEO2.js";import{a as mo}from"./7ETG7F5K.js";import{x as he}from"./WOMY7LQF.js";import{c as Pe}from"./K5PYBOWW.js";import{e as Q,f as Oe}from"./KOAEEWKV.js";import{f as Ee,i as Me,l as Ae,o as Se}from"./DXJBONGG.js";import{e as Ce}from"./Y2RTU6FS.js";import{c as V}from"./BJ6PO45I.js";import{E as Z,la as J,na as Y}from"./URK6S63I.js";import{d as Ze}from"./VT4ATK36.js";import{t as qe}from"./F5AXRJSB.js";import{A as Ye,F as ie,H as z,I as le,J as A,K as ze,N as se,O as ce,P as K,Q as Ke,R as pe,S as me,T as We,a as xe,aa as de,b as ee,c as oe,d as be,e as te,f as Re,g as Le,h as ve,j as re,k as we,l as ke,m as Ge,n as De,o as Ne,p as Fe,r as ne,s as ae,t as Ue,u as He,x as Be,z as Ve}from"./27G4S2R3.js";import{H as $e,e as Xe,k as je}from"./JDSHOLU5.js";import{A as m,F as k,M as ge,a as q,k as H,n as Ie}from"./WINLMBYH.js";import{yb as Te}from"./NO5PF2KS.js";import{a as B}from"./4B6UFNBQ.js";import{f as w}from"./GAV6HCJA.js";var Oo=m({key:"PlanCategoryState",default:"individual"}),xo=m({key:"MaxAIClientCreateSessionLoadingAtom",default:!1}),bo=m({key:"PricingHooksPopupState",default:{show:!1}}),Ro=m({key:"PricingUpgradeContentOpenAtom",default:!1}),Lo=m({key:"PricingUpgradeContentPopupCurrentPaywallTypeAtom",default:"proactive_modal"}),vo=m({key:"PricingPlansInfoState",default:qe}),wo=m({key:"SubscriptionApiLoadingState",default:!1}),ko=m({key:"UnableSubscriptionState",default:{show:!1,barHeight:0}}),Go=m({key:"PricingUpgradePlanContentRenderStateAtom",default:{type:"cardList",renderTypes:[]}});var uo=async(e,o)=>{try{let{conversationId:t,AIModel:i,paywallType:l,buttonType:n,paywallData:r}=o,s=i??r?.info?.api_model_selection,_=t&&await eo.getService().getConversationPayWallModel(t);if(_&&(s=_),e==="click"&&!o.targetElement)throw new Error("targetElement is required when action is click");let T=to({targetElement:o.targetElement,rootContainerId:o.rootContainerId}),g=oo(),P=r?.info?.user_paywall_reason??o.paywallReason??"",y=r?.info?.source_type??"";Ze(e==="show"?"paywall_showed":"paywall_clicked",Te({ai_model:s,platform_feature:T,platform:g,paywall_type:l,button_type:n,paywall_reason:P,source_type:y}))}catch{}},Vo=Xe(uo,1e3);var ue=w(B());var fo=m({key:"ChatMyOwnToolsState",default:{selectedType:"SUGGESTED"}}),_o={SUGGESTED:null,MY_OWN_TOOLS:"/my_own_tools",REWRITE:"/rewrite"},Xo=e=>_o[e],yo=()=>{let[e,o]=k(fo),t=!1,i=(0,ue.useCallback)(n=>{o(r=>({...r,selectedType:n}))},[]),l=(0,ue.useCallback)(()=>{o(n=>({...n,selectedType:"SUGGESTED"}))},[]);return{isUnavailableUploadSource:t,selectedType:e.selectedType,changeMyOwnToolsType:i,resetMyOwnToolsType:l}},ro=yo;var so=w(mo());var a=w(B());var W=w(B());var no=m({key:"GlobalConfirmOpenStore",default:!1}),ao=m({key:"GlobalConfirmInfoStore",default:{title:"",content:""}});var io=()=>{let[e,o]=k(no),[t,i]=k(ao),l=(0,W.useCallback)(s=>{i(s),o(!0)},[]),n=(0,W.useCallback)(()=>o(!1),[]),r=(0,W.useCallback)(s=>{i(_=>({..._,...s}))},[]);return{open:e,openConfirm:l,closeConfirm:n,updateConfirmInfo:r,...t}};var lo=()=>null,Io=()=>{let{t:e}=ge(),{open:o,closeConfirm:t,...i}=io(),{resetMyOwnToolsType:l}=ro(),{title:n,titleSx:r,content:s,contentSx:_,closeButton:T=!0,confirmButtonText:g,confirmDangerColor:P,confirmButtonProps:y,cancelButtonText:D,cancelButtonProps:O,customRenderConfirmButton:N,customRenderCancelButton:E,headerContainerSx:x,contentContainerSx:j,footerContainerSx:C,footerButtonVariant:b="horizontal",width:$,sx:R,onConfirm:F,onClose:L}=i,v=()=>{t(),L?.()},[I,h]=a.default.useState(!1),c=async u=>{l(),h(!0);let U=!!(F&&await F(u));h(!1),(!u||U)&&v()},f=b==="vertical",M=(0,a.useMemo)(()=>y?.color==="error"||P,[P,y?.color]),ye=(0,a.useMemo)(()=>[{fontSize:14,lineHeight:1.4,fontWeight:500,py:1.25,px:2,borderRadius:"100vh",width:f?"100%":"auto",order:f?1:2,...y?.sx},M?{bgcolor:u=>u.palette.mode==="dark"?"rgba(244, 58, 58, 1)":"rgba(237, 80, 80, 1)","&:hover":{bgcolor:u=>u.palette.mode==="dark"?"rgba(244, 58, 58, 1)":"rgba(237, 80, 80, 1)",color:"#fff"},color:"#fff"}:{}],[M,y?.sx,f]);return a.default.createElement(Ae,{open:o,onClose:I?lo:v,closeAfterTransition:!0,slots:{backdrop:Me},id:"maxai-client--global-confirm-modal",slotProps:{backdrop:{timeout:500}}},a.default.createElement(Ee,{in:o},a.default.createElement(Se,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:$||448,borderRadius:2,...R}},a.default.createElement(Y,{sx:{gap:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between",p:3,borderBottom:"1px solid",borderColor:"border.main",height:"24px",...x}},typeof n=="string"?a.default.createElement(J,{className:"global-confirm-title",fontSize:20,lineHeight:1.2,fontWeight:500,color:"text.primary",sx:r},n):a.default.createElement(V,{className:"global-confirm-title",sx:r},n),T&&a.default.createElement(V,null,a.default.createElement(Pe,{onClick:I?lo:v},a.default.createElement(so.default,null)))),a.default.createElement(Y,{sx:{p:3,gap:f?3:2,...j}},typeof s=="string"?a.default.createElement(J,{className:"global-confirm-content",fontSize:14,lineHeight:1.4,fontWeight:400,color:"text.primary",sx:_},s):a.default.createElement(V,{className:"global-confirm-content",sx:_},s),a.default.createElement(Y,{sx:{flexDirection:f?"column":"row",gap:1.5,alignItems:"center",justifyContent:"flex-end",...C}},E||a.default.createElement(Ce,{disabled:I,variant:"normalOutlined",className:"global-confirm-cancel-btn",onClick:()=>c(!1),...O,sx:{fontSize:14,lineHeight:1.4,fontWeight:500,py:1.25,px:2,borderRadius:"100vh",width:f?"100%":"auto",order:f?2:1,...O?.sx}},D??e("package__common:cancel")),N||a.default.createElement(Je,{variant:"contained",color:"error",loading:I,className:"global-confirm-confirm-btn",onClick:()=>c(!0),...y,sx:ye},g??e("package__common:confirm")))))))},To=Io;var yt=e=>!xe.includes(e);var It=(e,o,t)=>{let{checkValid:i=!0,fallback:l=!0}=t||{};if(e){let n=de[e]||[],r=n.find(s=>{let _=o&&s.oldModelValues?.includes(o),T=s.value===o||_;return i?T&&s.isDeprecated!==!0:T});return!r&&l&&n.length>0?n.filter(s=>s.isDeprecated!==!0)[0]||n[0]||null:r||null}return o&&Object.values(de).flat().find(n=>n.value===o||n.oldModelValues?.includes(o))||null};var co=(r=>(r[r.ZERO=0]="ZERO",r[r.ONE=1]="ONE",r[r.TWO=2]="TWO",r[r.THREE=3]="THREE",r[r.FOUR=4]="FOUR",r[r.FIVE=5]="FIVE",r))(co||{});var G=e=>({key:e.value,label:e.title,value:e}),X=(e,o=H(),t=3)=>e.length<=t?e.map(G):[...e.slice(0,t).map(G),{key:o,type:"more",label:"package__features:chat__ai_model_selector__more__title",children:e.slice(t).map(G)}],S={FREE:[Fe],FAST:[z,te,ae,ce,me,ee],SMART:[le,re,ne,K,pe,ie],REASONING:[A,se,oe],LEGACY:[Ve,ve,He,Ue,Ke,Le,be,Re,Be,Ye],ART:[ze,ke,We,De,Ge,Ne]},fe={USE_CHAT_GPT_PLUS:{FAST:z,SMART:le,REASONING:A},MAXAI_CLAUDE:{FAST:te,SMART:re,REASONING:A},MAXAI_GEMINI:{FAST:ae,SMART:ne,REASONING:A},MAXAI_GROK:{FAST:ce,SMART:K,REASONING:se},MAXAI_DEEPSEEK:{FAST:ee,SMART:K,REASONING:oe},MAXAI_LLAMA:{FAST:me,SMART:pe,REASONING:A},PROVIDER__GPT_4_1:{FAST:z,SMART:ie,REASONING:A}},go=()=>({chat:void 0,chatHub:{0:void 0,1:void 0,2:void 0,3:void 0,4:void 0,5:void 0}}),po="MAXAI_CURRENT_TEMPORARY_PROVIDER",Eo=e=>Object.entries(fe).find(([o,t])=>Object.entries(t).find(([i,l])=>l.value===e)?.[0])?.[0],_e=async()=>{let e=await q.getItem(po);return!e||typeof e!="object"?go():e},Mo=async(e,o)=>{let t=await _e();return o!==void 0?t.chatHub[o]=e:t.chat=e,await q.setItem(po,t),e},bt=async(e,o,t)=>{let i=t!==void 0?(await _e()).chatHub[t]:(await _e()).chat,l=i?fe[i]?.[o]:void 0;if(!l){let n=Eo(e);n&&(l=fe[n]?.[o],Mo(n,t))}return l},Rt=Object.entries(S).reduce((e,[o,t])=>(t.forEach(i=>{e[i.value]=o}),e),{}),p={FREE:{key:"FREE",type:"group",label:"package__features:chat__ai_model_selector__free_group__title",children:[G(S.FREE[0])]},FAST:{key:"FAST",type:"group",label:"package__features:chat__ai_model_selector__fast_group__title",children:X(S.FAST,"more-fast")},SMART:{key:"SMART",type:"group",label:"package__features:chat__ai_model_selector__smart_group__title",children:X(S.SMART,"more-smart",4)},REASONING:{key:"REASONING",type:"group",label:"package__features:chat__ai_model_selector__reasoning_group__title",children:X(S.REASONING,"more-reasoning",2)},LEGACY:{key:"LEGACY",type:"group",label:"package__features:chat__ai_model_selector__legacy_group__title",children:X(S.LEGACY,"more-legacy")},ART:{key:"ART",type:"group",label:"package__features:chat__ai_model_selector__image_group__title",children:S.ART.map(G)}},Lt=e=>({Chat:[p.SMART,p.REASONING,p.FAST,p.LEGACY],ContextMenu:[p.SMART,p.REASONING,p.FAST,p.LEGACY],Summary:[p.SMART,p.LEGACY,p.FAST],Search:[p.SMART,p.REASONING,p.FAST,p.LEGACY],Art:[p.ART]})[e]||[];var d=w(B()),Ao=Z(({className:e,...o})=>d.default.createElement(Oe,{...o,classes:{popper:e}}))(({theme:e})=>({[`& .${Q.tooltip}`]:{backgroundColor:e.palette.background.paper,color:"rgba(0, 0, 0, 0.87)",fontSize:12,boxShadow:e.shadows[1],maxWidth:"none"},[`& .${Q.arrow}`]:{color:e.palette.background.paper}})),So=Z("img")({display:"inline-flex"}),Po=e=>{let{src:o,alt:t,height:i,width:l="100%",SkeletonSx:n,maxRetryTimes:r=1,maxLoadingTime:s=10*1e3,preview:_,placement:T,imgStyle:g,fileId:P,onError:y,imageSx:D,onImageClick:O,onLoaded:N}=e,[E,x]=(0,d.useState)(null),[j,C]=(0,d.useState)(!0),b=(0,d.useRef)(H()),$=$e(N),R=Qe();return(0,d.useEffect)(()=>{let F=async()=>{let h=async()=>new Promise(c=>{let f=setTimeout(()=>{C(!1),c(!1)},s),M=new Image;M.src=o,M.onload=()=>{clearTimeout(f),x(o),C(!1),c(!0),$.current?.(M)},M.onerror=async ye=>{clearTimeout(f);try{let u=await Ie.fetch(o,{parse:"blob",method:"GET"});if(u){let U=u.response?.status;if(je(U)&&U>=400){C(!1),P?(x(we("/images/svg-icons/image-invalid.svg")),c(!0)):c(!1);return}u.success&&x(URL.createObjectURL(u.data)),C(!1),c(u.success)}else c(!1)}catch{c(!1)}}});for(let c=-1;c<r;c++)if(await h())return!0;return!1},L=new IntersectionObserver(h=>{h.forEach(c=>{c.isIntersecting&&(F().then(f=>{f||y&&y()}),L.unobserve(c.target))})}),v=`#lazy-image-${b.current}`,I=null;return I=(R??document.body).querySelector(v),I&&L.observe(I),()=>{I&&L.unobserve(I)}},[o,R]),d.default.createElement(d.default.Fragment,null,j?d.default.createElement(he,{className:"maxai--lazy-load--skeleton",id:`lazy-image-${b.current}`,variant:"rectangular",height:i,"data-src":E,sx:{width:l,borderRadius:g?.borderRadius||0,...n}}):d.default.createElement(Ao,{placement:T||"top",title:_?d.default.createElement("img",{style:{objectFit:"contain",...g},src:E,alt:t,width:256,height:256}):null,PopperProps:{container:R,style:{zIndex:"2147483660!important"}}},d.default.createElement(So,{id:`lazy-image-${b.current}`,src:E??void 0,alt:t,width:l,height:i,"data-src":E,style:{...g},sx:D,onClick:O})))},Xt=Po;export{bo as a,Ro as b,Lo as c,wo as d,ko as e,Go as f,uo as g,Vo as h,Xo as i,ro as j,io as k,To as l,yt as m,It as n,co as o,S as p,fe as q,Eo as r,_e as s,Mo as t,bt as u,Rt as v,p as w,Lt as x,Xt as y};
