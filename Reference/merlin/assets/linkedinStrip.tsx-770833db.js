import{r as Z,R as ee,j as L,S as _,P as G}from"./localStorage-70c0cae5.js";import{a as le}from"./client-4954293f.js";import{q as ae,Q as ce,a as ue}from"./browserPolyfillWrapper-bb116cae.js";import{C as me,R as be}from"./reactQueryProviderExtension-4a0c189d.js";import{u as ge,F as xe}from"./index-f1987876.js";import{C as b}from"./helper-0e21f9fb.js";import{u as Ce}from"./useUrlChange-c06ec31a.js";import{u as Ne}from"./useTranslation-24cdda08.js";import{T as de}from"./themeContext-5e650432.js";import{c as pe}from"./index-82b528a6.js";import{i as fe}from"./index-eedd1636.js";import{v as he}from"./IconCheck-e595c264.js";import"./persist-4b6dccac.js";import"./index-f3a3d194.js";import"./index-6f85b927.js";import"./backend-0efbfbef.js";import"./button-274f6d28.js";import"./useSSE-f967edd7.js";import"./createReactComponent-640fc4e6.js";import"./motion-6c2f4b83.js";import"./index-9546331f.js";import"./analytics-910dabef.js";import"./index-602940e1.js";import"./foyerLogo-6509e919.js";import"./IconArrowLeft-27560546.js";import"./IconReload-8cc62b54.js";import"./IconLoader-280e82e6.js";function Ee(){const[t,n]=Z.useState([0,0]);return Z.useLayoutEffect(()=>{function e(){n([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),t}const qe="I want to connect with this person on Linkedin. Can you write a 300 characters note requesting to connect, in a professional tone specifically talking about their experience or education?";function ve(){const t=document.createElement("div");t.className="artdeco-loader artdeco-loader--small artdeco-button__icon",t.style.width="20px",t.style.height="20px",t.style.display="inline-block",t.style.verticalAlign="middle";for(let n=0;n<12;n+=1){const e=document.createElement("span");e.className="artdeco-loader__bars",t.appendChild(e)}return t}const ye=(t,n)=>{var e;if(t.nodeType===Node.TEXT_NODE)return t!=null&&t.wholeText.toLocaleLowerCase().includes(n.toLocaleLowerCase())?!0:(e=t.nodeValue)==null?void 0:e.toLocaleLowerCase().includes(n);if(t.nodeType===Node.ELEMENT_NODE){for(let u=0;u<t.childNodes.length;u++)if(ye(t.childNodes[u],n))return!0}return!1};function _e(t){var c,d;const n=t.closest(".scaffold-layout__main");let e;const u=n.querySelector(".distance-badge");u&&(e=((d=(c=u.querySelector("span.dist-value"))==null?void 0:c.textContent)==null?void 0:d.trim())||null);const m=(h,S)=>{if(!h)return null;const r=h.querySelectorAll("button, [role='button']");for(const a of r)if(ye(a,S))return a;return null},s=n.querySelector("section .pv-top-card-v2-ctas");if(s&&(e==="2nd"||e==="3rd")){const h=s.querySelector('li-icon[type="connect"]');if(h){const l=h.closest("button");if(l)return l}const S=s.querySelector('svg[data-test-icon="connect-small"]');if(S){const l=S.closest("button");if(l)return l}const r=s.querySelector("artdeco-dropdown__content .pvs-overflow-actions-dropdown__content");if(r){const l=r.querySelector('li-icon[type="connect"]');if(l){const f=l.closest('div[role="button"]');if(f)return f}const p=s.querySelector('svg[data-test-icon="connect-medium"]');if(p){const f=p.closest('div[role="button"]');if(f)return f}}const a=m(s,"Connect");return a||null}}function Ie(t){const{t:n}=Ne(),{shadowWrapper:e}=t,[u]=Ee(),m=Ce(),[s,c]=ee.useState(null),d=ee.useRef(null),{[s]:h}=ge(s,"linkedin");async function S(){d.current=_e(e),d.current.click(),await new Promise(l=>setTimeout(l,0));const r=document.querySelector('[aria-labelledby="send-invite-modal"] .artdeco-modal__actionbar');let a=null;if(r&&(a=r.querySelector('button[aria-label="Add a note"]'),a)){try{a.style.display="none";const l=ve();r.prepend(l);const p=1e3+Math.random()*1e3;await new Promise(f=>setTimeout(f,p)),a.click(),l.remove()}catch{a.style.display="block"}await new Promise(l=>setTimeout(l,800)),await h.setSharedState({prompt:qe,status:"loading"})}}return ee.useEffect(()=>{try{e&&(u<=991?(e.parentElement.style.flexWrap="wrap",e.style.marginTop="8px"):(e.parentElement.style.flexWrap="nowrap",e.style.marginTop="0px"))}catch{}},[e,u]),Z.useEffect(()=>{var a;const r=e.closest("section.pv-top-card");if(r){const l=((a=r.getAttribute("data-member-id"))==null?void 0:a.trim())||null;l&&c(l)}},[e,m]),L.jsx("button",{className:"center-with-flex c-transition-colors whitespace-nowrap rounded-full bg-cornblue-500 px-4 py-2 text-base font-semibold leading-none text-cornblue-100 hover:bg-cornblue-600 hover:text-zinc-200 dark:bg-cornblue-600 dark:hover:bg-cornblue-500",type:"button",onClick:S,children:L.jsxs("span",{className:"align-middle",children:["âœ¨ ",n("external_mount.pro_connect")]})})}function Se(t=!1){var d,h,S;const n=document.getElementsByClassName("share-box");n.length>0&&(n[0].querySelector(".share-creation-state__bottom merlin-component")||X(r=>n[0].querySelector(".share-creation-state__bottom").prepend(r),_.LINKEDIN.POST));const e=document.querySelectorAll(".msg-convo-wrapper .msg-form, .msg-overlay-conversation-bubble__content-wrapper .msg-form");if(e.length>0)for(let r=0;r<e.length;r++)t&&e[r].querySelector("merlin-component")&&e[r].querySelector("merlin-component").remove(),e[r].querySelector("merlin-component")||X(a=>e[r].insertBefore(a,e[r].querySelector("footer")),_.LINKEDIN.MESSAGE);const u=document.querySelector('[aria-labelledby="send-invite-modal"] .artdeco-modal__content'),m=document.querySelector('[aria-labelledby="send-invite-modal"] .artdeco-modal__content .relative');u&&m&&(u.querySelector("merlin-component")||X(r=>{u.querySelector(".relative").insertAdjacentElement("afterend",r)},_.LINKEDIN.INVITE));const s=document.querySelector(".scaffold-layout__main");if(s){const r=s.querySelector("section .pv-top-card-v2-ctas");if(r&&r){const l=s.querySelector(".distance-badge");if(l){const p=((h=(d=l.querySelector("span.dist-value"))==null?void 0:d.textContent)==null?void 0:h.trim())||null;if(p)if(p==="2nd"||p==="3rd"){const f=r,F=_e(f);f&&!f.querySelector("merlin-component")&&F&&Le(f,p)}else{const f=r.querySelector("merlin-component");f&&f.remove()}}}}const c=document.querySelectorAll(".feed-shared-update-v2__comments-container .comments-comment-box, .feed-shared-update-v2__comments-container .comments-comment-box--cr");if(c.length>0)for(let r=0;r<c.length;r++){const a=c[r].closest(".comments-comment-item__nested-items , .comments-comments-list");!((S=c[r].parentNode)!=null&&S.querySelector("merlin-component"))&&c[r].querySelector('.comments-comment-box__form div.ql-editor[role="textbox"]')&&X(l=>{var p,f;return(f=(p=c[r].querySelector("form"))==null?void 0:p.querySelector(".comments-comment-texteditor"))==null?void 0:f.appendChild(l)},a?_.LINKEDIN.COMMENT_REPLY:_.LINKEDIN.COMMENT)}}Se();const we=async()=>{const t=await ae.fetchQuery(ce.MerlinConfig);if(t&&!t.fabStrip.linkedIn.visible)return;const n=await De();n.className==="share-box"&&!n.querySelector(".share-creation-state__bottom merlin-component")&&X(s=>n.querySelector(".share-creation-state__bottom").prepend(s),_.LINKEDIN.POST);let e=window.location.href;const u=new MutationObserver(fe(()=>{Se(e!==window.location.href),e=window.location.href},300)),m={childList:!0,subtree:!0};u.observe(document.body,m)};function De(){return new Promise(t=>{const n=new MutationObserver(fe(()=>{const e=document.querySelector(".share-box, .feed-shared-update-v2__comments-container, .msg-convo-wrapper, [aria-labelledby='send-invite-modal'] .artdeco-modal__content, .msg-overlay-conversation-bubble__content-wrapper, .scaffold-layout__main .pv-top-card-v2-ctas");e&&(t(e),n.disconnect())},50));n.observe(document.body,{childList:!0,subtree:!0})})}async function X(t,n){var T,$,R,O,K,P,C,W,j,te,ne,oe,re,ie;const e=document.createElement("merlin-component");e.id="merlin-fabStrip",e.className="merlin fabStrip";const u=e.attachShadow({mode:"open"}),m=document.createElement("style");m.textContent=`${pe}
    :host(.merlin.fabStrip) {
      all: initial; /* 1st rule so subsequent properties are reset. */
      position: relative;
      display: block;
      margin: 0 0 5px 0;
      padding: 0;
      box-sizing: border-box;
      z-index: 1;
    }
    .fabStrip {
      all: initial; /* 1st rule so subsequent properties are reset. */
      position: relative;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    .fabStrip ::-webkit-scrollbar {
      display: none;
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    `;const s=document.createElement("div");s.id="reactAppRoot",s.className="reactAppRoot fabStrip "+he(),u.appendChild(m),u.appendChild(s),t(e);let c=null,d=null,h=null,S=null,r=null,a=null,l=null,p=null;const f=document.querySelector(".feed-identity-module__actor-meta .ember-view .t-bold, .profile-card-name");f?l=f.textContent:l=((T=document.querySelector("img.global-nav__me-photo, img.avatar, img.member, img.presence-entity__image, img.EntityPhoto-circle-1"))==null?void 0:T.getAttribute("alt"))||null;const F=document.querySelector(".identity-headline, .profile-card-headline");F&&(p=(($=F.textContent)==null?void 0:$.replace(/\s\s+/g," "))||null);let y;const A=document.querySelector(".global-nav__me-photo");A&&(y=A.getAttribute("alt"));const i={article:null,author:null,authorBio:null,text:null,user:y,userBio:p};if(n==_.LINKEDIN.COMMENT)try{a=e.closest("#fie-impression-container, .artdeco-card, .comments-comment-item__main-content, .replies-list comments-list, .feed-shared-update-detail-viewer__content, .feed-shared-update-v2"),a&&(S=a.querySelector(".update-components-actor__name, .update-components-actor__title span[aria-hidden='true']"),r=a.querySelector(".update-components-actor__description"),d=a.querySelector('.feed-shared-update-v2__description-wrapper span[dir="ltr"], .feed-shared-update-v2__description span[dir="ltr"]'),h=a.querySelector("article.update-components-article"),d||(d=a.querySelector('span[dir="ltr"]'))),S&&(i.author=S.textContent,r&&(i.authorBio=r.textContent),(l||y)&&(i.user=l||y),p&&(i.userBio=p)),d&&(i.text=d.textContent),h&&(i.article=h.textContent),i.article=b(i.article),i.author=b(i.author),i.authorBio=b(i.authorBio),i.text=b(i.text),i.userBio=b(i.userBio),i.user=b(i.user),c=i}catch{}let B=!1;if(n==_.LINKEDIN.COMMENT)try{const o=e.parentElement;o&&o.classList.contains("comments-comment-item__nested-items")&&(B=!0)}catch{}if(n==_.LINKEDIN.POST&&(c=Me(e,l,p)),n==_.LINKEDIN.INVITE&&(c=ke(),!c))return;if(n==_.LINKEDIN.COMMENT_REPLY){const o={article:null,author:null,authorBio:null,mainComment:null,mainCommentAuthor:null,replies:null,text:null,userBio:null,userName:null,userNameToReply:null};try{a=e.closest(".artdeco-card, .comments-comment-item__main-content, .replies-list comments-list, #fie-impression-container, .feed-shared-update-v2"),a&&(d=a.querySelector('.feed-shared-update-v2__description-wrapper span[dir="ltr"], .feed-shared-update-v2__description span[dir="ltr"]'),h=a.querySelector("article.update-components-article"),d||(d=a.querySelector('span[dir="ltr"]'))),d&&(o.text=d.textContent),h&&(o.article=h.textContent),(l||y)&&(o.userName=y||l),p&&(o.userBio=p);const V=e.closest(".artdeco-card, .comments-comment-item__main-content, .replies-list comments-list, #fie-impression-container, .feed-shared-update-v2");if(V){const M=".update-components-actor__name span[aria-hidden='true'], .update-components-actor__title span[aria-hidden='true']",k=V.querySelector(M);k&&(o.author=k==null?void 0:k.textContent,o.author||(o.author=k==null?void 0:k.textContent));const I=".update-components-actor__description";V.querySelector(I)&&(o.authorBio=(R=V.querySelector(I))==null?void 0:R.textContent),l&&(o.userName=l),p&&(o.userBio=p);const z="article";if(e.closest(z)){const g=e.closest(z),N=g.querySelectorAll(".comments-comment-item, article.comments-comment-entity--reply");g.querySelector("comments-comment-item-content-body,.comments-thread-item,.comments-comment-item__main-content")&&(o.mainComment=(K=(O=g==null?void 0:g.querySelector(".comments-comment-item-content-body,.comments-comment-item__main-content"))==null?void 0:O.textContent)==null?void 0:K.replace(/\s\s+/g," "));const Q=g==null?void 0:g.querySelector(".comments-post-meta__name-text,h3.comments-comment-meta__description .comments-comment-meta__description-title");Q&&(o.mainCommentAuthor=(P=Q.textContent)==null?void 0:P.replace(/\s\s+/g," "));const Y=[];if(N.length>0&&N.forEach(w=>{const D={author:null,content:null},J=w.querySelector(".comments-post-meta__name-text, h3.comments-comment-meta__description");J&&(D.author=J.textContent);const H=w.querySelector(".comments-comment-item__main-content,div.comments-thread-entity span.comments-comment-item__main-content");H&&(D.content=H.textContent),Y.push(D)}),o.replies=Y,o.userNameToReply||(o.userNameToReply=(C=e.closest("form a.ql-mention"))==null?void 0:C.textContent),!o.userNameToReply){const w=(W=e.closest("form"))==null?void 0:W.querySelectorAll("a.ql-mention");w&&w.forEach(D=>{D.textContent&&(o.userNameToReply+=D.textContent+" ")})}}}o.article=b(o.article),o.author=b(o.author),o.authorBio=b(o.authorBio),o.mainComment=b(o.mainComment),o.mainCommentAuthor=b(o.mainCommentAuthor),o.text=b(o.text),o.userBio=b(o.userBio),o.userName=b(o.userName),o.userNameToReply=b((j=o.userNameToReply)==null?void 0:j.replace("undefined","")),o.replies=(te=o.replies)==null?void 0:te.map(M=>(M.author=b(M.author),M.content=b(M.content),M)),c=o}catch{}}let x,q=null;if(n===_.LINKEDIN.MESSAGE){const o=(oe=(ne=e.parentElement)==null?void 0:ne.parentElement)==null?void 0:oe.parentElement,V=e.closest(".msg-convo-wrapper");let M;const k=document.querySelector(".global-nav__me-photo");k&&(M=k.getAttribute("alt")),x=[];try{if(q=b((re=V.querySelector(".msg-overlay-bubble-header h2, .msg-overlay-bubble-header__title"))==null?void 0:re.textContent),q||(q=((ie=o.querySelector(".msg-thread__link-to-profile h2"))==null?void 0:ie.textContent)||null),!q){const I=o.querySelectorAll(".msg-connections-typeahead .artdeco-pill__text");I&&I.length>0&&(q=I.length===1?I[0].textContent:()=>{let z="";return I.forEach(g=>{z+=`${g.textContent} `}),`Multiple Recipients: ${z.trim()}`})}}catch{}if(o.querySelectorAll(".msg-s-message-list__event").length>=1){const I=o.querySelectorAll(".msg-s-message-list__event");let z=null,g=null;I.forEach(N=>{var H,se;const Q=((H=N==null?void 0:N.querySelector(".msg-s-message-group__name"))==null?void 0:H.textContent.replace(/\s\s+/g,""))||null;Q&&(z=Q);const Y=((se=N==null?void 0:N.querySelector(".msg-s-message-group__timestamp"))==null?void 0:se.textContent.replace(/[^\w:]/g,""))||null;Y&&(g=Y);let w=null;const D=N==null?void 0:N.querySelector(".msg-s-event__content");D!=null&&D.querySelector("p")?w=D.querySelector("p").textContent:w=_.LINKEDIN.SHARED_POST_CARD,w=w.replaceAll(/\n/g," ");const J={fullName:z,messageContent:w,timeStamp:g};x.push(J)})}c={messages:x,recepientName:q?q.replaceAll(/\s\s+/g," "):null,user:M}}let v;n===_.LINKEDIN.COMMENT?v=G.LINKEDIN_COMMENT:n===_.LINKEDIN.POST?v=G.LINKEDIN_POST:n===_.LINKEDIN.MESSAGE?x.length===0?v=G.LINKEDIN_MESSAGE_INTRO:v=G.LINKEDIN_MESSAGE:n===_.LINKEDIN.INVITE?v=G.LINKEDIN_INVITE:n===_.LINKEDIN.COMMENT_REPLY&&(v=G.LINKEDIN_COMMENT_REPLY),le(s).render(L.jsx(Te,{contextData:c,editor:e,mountOn:n,promptsFor:v,shouldMount:n!=_.LINKEDIN.COMMENT||n==_.LINKEDIN.COMMENT&&c&&!B}))}async function Le(t,n){const e=document.createElement("merlin-component");e.id="merlin-fabStrip",e.className="merlin fabStrip merlin-external";const u=e.attachShadow({mode:"open"}),m=document.createElement("style");m.textContent=`${pe}
    :host(.merlin.fabStrip) {
      all: initial; /* 1st rule so subsequent properties are reset. */
      position: relative;
      display: block;
      padding: 0;
      box-sizing: border-box;
      z-index: 10;
    }
    .fabStrip {
      all: initial; /* 1st rule so subsequent properties are reset. */
      position: relative;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    .fabStrip ::-webkit-scrollbar {
      display: none;
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    `;const s=document.createElement("div");s.id="reactAppRoot",s.className="reactAppRoot fabStrip "+he(),u.appendChild(m),u.appendChild(s),t.appendChild(e);const c=le(s);(await ae.fetchQuery(ce.MerlinConfig)).fabStrip.linkedIn.inviteFeature&&c.render(L.jsx(Ae,{connectionDistance:n,shadowWrapper:e}))}function Ae(t){var m,s;const{connectionDistance:n,shadowWrapper:e}=t;return(s=(m=ue().details)==null?void 0:m.linkedin)!=null&&s.isEnabled?L.jsx(me,{children:L.jsx(de,{overrideThemeForWebsite:!0,children:L.jsx(Ie,{connectionDistance:n,shadowWrapper:e})})}):null}function Te(t){var h,S;const{contextData:n,editor:e,mountOn:u,promptsFor:m}=t,[s,c]=Z.useState("");return(S=(h=ue().details)==null?void 0:h.linkedin)!=null&&S.isEnabled&&t.shouldMount?L.jsx(me,{children:L.jsx(be,{children:L.jsx(de,{overrideThemeForWebsite:!0,children:L.jsx(xe,{contextData:n,dotMenuPosition:"bottom",editor:e,host:"linkedin",mountOn:u,promptsFor:m,setTextareaValue:c,textareaValue:s})})})}):null}function Me(t,n,e){const u={};let m=null,s=null,c="";try{m=t.closest(".share-box"),m&&(s=m.querySelector(".share-creation-state__preview-container")),s&&(c=s.textContent,c=c.replaceAll(`
`," "),u.repostText=c),n&&(u.user=n),e&&(u.userBio=e)}catch{}return u}const E=(t,n)=>{try{if(!t.querySelector(`div#${n}`))return;const u=t.querySelector(":scope > .pvs-list__outer-container > .pvs-list,ul");if(!u)return;const m=[];return Array.from(u.querySelectorAll(":scope > li,li.artdeco-list__item")).forEach(c=>{const d=c.textContent.replaceAll(/\s\s+/g,"");d&&m.push(d)}),m}catch{return[]}};function ke(){var m,s,c,d,h,S,r,a,l,p,f,F;const t={fullName:((m=document.querySelector(".text-heading-xlarge, h1"))==null?void 0:m.textContent)||"",isFollowing:!1,locatedAt:null},n=window.location.pathname;if(["/search/results/","/analytics/profile-views/"].some(y=>n.includes(y))){let y=document.querySelector("#artdeco-modal-outlet");y||(y=document.querySelector('.artdeco-modal[role="dialog"]'));let A=null;y?A=y.querySelector("h2"):A=document.querySelector("h2#send-invite-modal");let i=null;if(A&&(i=A.querySelector("strong")),i||y&&(i=(s=y.querySelector(".artdeco-modal__header"))==null?void 0:s.querySelector("strong"),i||(i=y.querySelector("strong"))),!i)return null;const B=(c=i.textContent)==null?void 0:c.trim();if(!B)return null;let x=(d=document.querySelector(".reusable-search__entity-result-list"))==null?void 0:d.querySelector("ul");if(!x){const C=document.querySelector(".scaffold-layout__main");C&&(x=C.querySelector("ul"))}if(!x)return null;const U=Array.from(x.querySelectorAll("li")).filter(C=>{const W=C.querySelector("button");if(!W)return!1;const j=W.textContent;return!(!j||j.trim().toLocaleLowerCase()!=="connect")}).filter(C=>{const W=C.querySelector(".entity-result__title-text");if(!W)return!1;const j=W.textContent;return!(!j||!j.trim().toLocaleLowerCase().includes(B.toLocaleLowerCase()))});if(U.length!==1)return null;const T=U[0],$=(S=(h=T.querySelector(".entity-result__title-text"))==null?void 0:h.textContent)==null?void 0:S.trim(),R=(a=(r=T.querySelector(".entity-result__primary-subtitle"))==null?void 0:r.textContent)==null?void 0:a.trim(),O=(p=(l=T.querySelector(".entity-result__secondary-subtitle"))==null?void 0:l.textContent)==null?void 0:p.trim(),K=(F=(f=T.querySelector(".entity-result__summary"))==null?void 0:f.textContent)==null?void 0:F.trim(),P=`${$} ${R||""} ${O||""} ${K||""}`.trim();return t.fullName=(P==null?void 0:P.replace(/\s\s+/g," "))||"",t}try{const y=document.querySelector(".scaffold-layout__main, .scaffold-layout__row > main, .scaffold-layout__content > main, .scaffold-layout__content--main-aside > main");if(!y)return t;const A=Array.from(y.querySelectorAll("section"));if(A.length===0)return t;A.forEach(i=>{const B=E(i,"education");B&&(t.educationDetails=B);const x=E(i,"experience");x&&(t.experienceDetails=x);const q=E(i,"skills");q&&(t.skillsDetails=q);const v=E(i,"licenses_and_certifications");v&&(t.licensesDetails=v);const U=E(i,"projects");U&&(t.projectsDetails=U);const T=E(i,"volunteer_experience");T&&(t.volunteerExperienceDetails=T);const $=E(i,"publications");$&&(t.publicationsDetails=$);const R=E(i,"patents");R&&(t.patentsDetails=R);const O=E(i,"honors_and_awards");O&&(t.honorsAndAwardsDetails=O);const K=E(i,"test_scores");K&&(t.testScoresDetails=K);const P=E(i,"languages");P&&(t.languagesDetails=P);const C=E(i,"organizations");C&&(t.organizationsDetails=C)}),document.querySelectorAll(".pv-text-details__left-panel").length>0&&document.querySelectorAll(".pv-text-details__left-panel")[1].querySelector(".text-body-small")&&(t.locatedAt=document.querySelector(".pv-text-details__left-panel")[1].querySelector(".text-body-small").textContent.replace(/\s\s+/g,"").toLowerCase())}catch{}return t}we();
