import{U as n,K as p,C as u,A as E}from"./browserPolyfillWrapper-bb116cae.js";import{f as c,a0 as i}from"./localStorage-70c0cae5.js";async function T(a,t){var s;const r=t;r.append("token",a);const o=(s=(await p.post(`${i.DOMAIN}${i.ROUTES.EXTRACT_TEXT_DOC_CHAT}&firebase_token=true`,r)).data)==null?void 0:s.detail;if(o.status==="error")throw o.error;return o}const A=async(a,t,r)=>{const e=await n.post(c.ROUTES.USER_CHAT_HISTORY,{ENTRY_PER_PAGE:r,page:t});if(e.data.status==="error")throw e.data.error;return e.data.data},f=async a=>{try{const t=await n.post(c.ROUTES.SEARCH_DECISION_WEB_ACCESS_THREAD,{action:a.action,chatId:a.chatId,mode:"VANILLA_CHAT",model:a.model});if(t.data.status==="error")throw t.data.error;return t.data.data}catch{return null}},w=async(a,t,r,e,o)=>{const s=await n.post(c.ROUTES.CLEAN_WEBPAGE_DOM,{chatId:e,dom:t,namespace:o,webpage:r});if(s.data.status==="error")throw s.data.error;return s.data},_=async(a,t,r,e,o,s)=>{const d=await n.post("/feedback",{callingSite:e,email:o,feedback:r,query:a,request_id:s||null,result:t});if(d.data.status==="error")throw d.data.error;return d.data},y=async(a,t,r,e,o)=>{try{const s=await n.post(c.ROUTES.GENERATE_SHARE_ID,{chatId:t,email:r,lastMessageId:e,title:o});if(s.data.status==="error")throw s.data.error;return s.data.data}catch{return null}},C=async(a,t)=>{try{const r=await u.post("/deleteSharedChat",{chatId:t});if(r.data.status==="error")throw r.data.error;return r.data.data}catch{return!1}},R=async()=>{try{const a=await E.get("/user/getUserPrompts");if(a.data.status==="error")throw new Error(a.data.error);return a.data}catch{return null}};async function S(a){var r;const t=new FormData;t.append("file",a);try{return(await n.post("/files",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){throw console.error("Error uploading file",((r=e.response)==null?void 0:r.data)||e.message),e}}export{y as a,S as b,w as c,C as d,A as e,f,R as g,_ as s,T as u};
